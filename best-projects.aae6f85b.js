!function(){function e(e,t,i,n){Object.defineProperty(e,t,{get:i,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},r=i.parcelRequired7c6;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){a[e]=t},i.parcelRequired7c6=r),r.register("dDDEV",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},a=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),a.forEach((function(t){n.default(e,t,i[t])}))}return e};var i,n=(i=r("hKHmD"))&&i.__esModule?i:{default:i}})),r.register("hKHmD",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,i){t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i;return e}})),r.register("6teoE",(function(t,i){e(t.exports,"LANG_DATA",(function(){return n})),e(t.exports,"LANG_MENU",(function(){return a}));var n={main:{hero_name:{en:"Dmytro",pl:"Dmytro",uk:"Дмитро",ru:"Дмитрий"},hero_surname:{en:"Muratov",pl:"Muratov",uk:"Муратов",ru:"Муратов"},hero_profession:{en:"The head of an advertising agency in Ukraine before the war",pl:"Kierownik agencji reklamowej w Ukrainie przed wojną",uk:"Керівник рекламного агентства в Сєвєродонецьку",ru:"Руководитель рекламного агентства в Северодонецке"},hero_ocupation:{en:"Outdoor signs and ventilated facades manufacturing",pl:"Produkcja reklamy zewnętrznej i elewacji wentylowanych",uk:"Виробництво зовнішньої реклами і вентильованих фасадів",ru:"Производство наружной рекламы и вентилируемых фасадов"},hero_question:{en:"Who am I?",pl:"Kim jestem?",uk:"Хто я?",ru:"Кто я?"},hero_futures1_top:{en:"years of",pl:"lat",uk:"років",ru:"лет"},hero_futures1_bottom:{en:"experience",pl:"doświadczenia",uk:"досвіду",ru:"опыта"},hero_futures2_top:{en:"completed",pl:"zrealizowanych",uk:"реалізованих",ru:"реализованных"},hero_futures2_bottom:{en:"projects",pl:"projektów",uk:"проєктів",ru:"проектов"},hero_futures3_top:{en:"super done",pl:"zrobione super",uk:"зроблено супер",ru:"сделано супер"},hero_skill_item1:{en:"Managed the team",pl:"Zarządzałem zespołem",uk:"Керував колективом",ru:"Управлял коллективом"},hero_skill_item2:{en:"Communicated with clients",pl:"Komunikowałem się z klientami",uk:"Комунікував з клієнтами",ru:"Коммуницировал с клиентами"},hero_skill_item3:{en:"Sticked to deadlines",pl:"Dotrzymałem ustalonych terminów",uk:"Дотримувався дедлайнів",ru:"Придерживался дедлайнов"},hero_skill_item4:{en:"Implemented projects",pl:"Realizowałem projekty",uk:"Реалізовував проекти",ru:"Реализовывал проекты"},hero_skill_item5:{en:"Organized production processes",pl:"Organizowałem procesy pracy",uk:"Організовував виробничі процеси",ru:"Организовывал производственные процессы"},ss_question:{en:"What tasks can I perform?",pl:"Jakie zadania mogę wykonywać?",uk:"Які завдання можу виконувати?",ru:"Какие задачи могу выполнять?"},ss_title:{en:"Complex solutions for outdoor signs and ventilated facades",pl:"Kompleksowe rozwiązania dla reklamy zewnętrznej i elewacji wentylowanych",uk:"Комплексні рішення для зовнішньої реклами та вентильованих фасадів",ru:"Комплексные решения для наружной рекламы и вентилируемых фасадов"},ss_item0:{en:"Communication with customers",pl:"Komunikacja z klientem",uk:"Комунікация з клієнтами",ru:"Коммуникация с клиентами"},ss_item1:{en:"Taking measurements",pl:"Wykonywanie pomiarów",uk:"Зняття замірів",ru:"Снятие замеров"},ss_item2:{en:"Project development",pl:"Rozwój projektu",uk:"Розробка проекту",ru:"Разработка проекта"},ss_item3:{en:"Costing",pl:"Wycena",uk:"Калькуляція",ru:"Калькуляция"},ss_item4:{en:"Production process control",pl:"Kontrola procesu produkcyjnego",uk:"Контроль виробничого процесу",ru:"Контроль процесса производства"},ss_item5:{en:"Installation inspection",pl:"Kontrola instalacji",uk:"Контроль монтажу",ru:"Контроль монтажа"},bp_title:{en:"The best completed projects",pl:"Najlepsze zrealizowane projekty",uk:"Найкращі реалізовані проекти",ru:"Лучшие реализованные проекты"},bp_button:{en:"Show in detail",pl:"Zobacz dokładniej",uk:"Докладніше",ru:"Посмотри детальней"},hs_question:{en:"What technical skills did I acquire?",pl:"Jakie umiejętności techniczne opanowałem?",uk:"Які технічні навички придбав?",ru:"Какие технические навыки приобрел?"},hs_title_3d:{en:"Graphic design, 3D visualization",pl:"Projektowanie graficzne, 3D-wizualizacja",uk:"Графічний дизайн, 3D візуалізація",ru:"Графический дизайн, 3D визуализация"},hs_name1_3d:{en:"Facades of shopping malls, shops, offices",pl:"Elewacje galerii handlowych, sklepów, biur",uk:"Фасади торгових центрів, магазинів, офісів",ru:"Фасады торговых центров, магазинов, офисов"},hs_name2_3d:{en:"Outdoor advertising. Letters, lightboxes, signs",pl:"Reklama zewnętrzna. Litery, kasetony, szyldy",uk:"Зовнішня реклама. Букви, лайтбокси, вивіски",ru:"Наружная реклама. Буквы, лайтбоксы, вывески"},hs_name3_3d:{en:"Indoor advertising",pl:"Reklama wewnętrzna",uk:"Внутрішня реклама, декор",ru:"Внутренняя реклама, декор"},hs_name4_3d:{en:"Installation structures",pl:"Konstrukcje montażowe",uk:"Монтажні конструкції",ru:"Монтажные конструкции"},hs_name5_3d:{en:"Car branding",pl:"Grafika na pojazdach",uk:"Брендування авто",ru:"Брендирование авто"},hs_name6_3d:{en:"Technical Documentation",pl:"Dokumentacja techniczna",uk:"Технічна документація",ru:"Техническая документация"},hs_title_Eq:{en:"Work as an equipment operator",pl:"Praca jako operator sprzętu",uk:"Робота оператором обладнання",ru:"Работа оператором оборудования"},hs_name1_Eq:{en:"Large format printers",pl:"Drukarki wielkoformatowe",uk:"Широкоформатні принтери",ru:"Широкоформатные принтеры"},hs_name2_Eq:{en:"Cutting plotters",pl:"Plotery tnące",uk:"Ріжучі плоттери",ru:"Режущие плоттеры"},hs_name3_Eq:{en:"CNC milling machines",pl:"Frezarki CNC",uk:"Фрезерні верстати з ЧПУ",ru:"Фрезерные станки с ЧПУ"},hs_name4_Eq:{en:"CNC laser machines",pl:"Maszyny laserowe CNC",uk:"Лазерні верстати з ЧПУ",ru:"Лазерные станки с ЧПУ"},hs_title_El:{en:"Calculation and installation of electrical blocks",pl:"Obliczanie i montaż bloków elektrycznych",uk:"Розрахунок і монтаж електроблоків",ru:"Расчет и монтаж электрических блоков"},hs_name1_El:{en:"LED lighting elements for outdoor sings",pl:"Elementy oświetlenia LED do reklamy zewnętrznej",uk:"Світлодіодні освітлювальні елементи для зовнішньої реклами",ru:"Светодиодные элементы освещения для наружной рекламы"},hs_name2_El:{en:"LED displays, screens. Programming",pl:"Wyświetlacze LED, ekrany. Programowanie",uk:"LED дисплеї, екрани. Програмування",ru:"Светодиодные дисплеи, экраны. Программирование"},hs_title_Pr:{en:"X-rite i1 color profiling",pl:"Profilowanie kolorów X-rite i1",uk:"Кольорове профілювання X-rite i1",ru:"Цветовое профилирование X-rite i1"},hs_name1_Pr:{en:"Monitors",pl:"Monitorów",uk:"Моніторів",ru:"Мониторов"},hs_name2_Pr:{en:"Printers",pl:"Drukarek",uk:"Принтерів",ru:"Принтеров"},pf_title:{en:"Portfolio",pl:"Realizacje",uk:"Портфоліо",ru:"Портфолио"},pf_button:{en:"Show all",pl:"Zobacz wszystkie",uk:"Подивись усе",ru:"Посмотри все"}},best_projects:{bpg_question:{en:"Gallery of the best completed projects",pl:"Galeria najlepszych zrealizowanych projektów",uk:"Галерея найкращих виконаних проектів",ru:"Галерея лучших реализованных проектов"},bpg_title1:{en:"The fasade of the plant's administrative building made of aluminum composite panels",pl:"Elewacja budynku administracyjnego fabryki z płyt kompozytowych ACP",uk:"Фасад адмінбудівлі заводу з алюмінієвих композитних панелей",ru:"Фасад админздания завода из алюминиевых композитных панелей"},bpg_title2:{en:"Supermarket facade with rhombus elements and 3-d letters",pl:"Elewacja supermarketu z elementami rombowymi i literami przestrzennymi",uk:"Фасад супермаркету з ромбоподібними елементами та об'ємними літерами",ru:"Фасад супермаркета с ромбовидными элементами и объемными буквами"},bpg_title3:{en:'Parametric decor "Forest" for the reception',pl:'Dekor parametryczny "Las" dla recepcji',uk:"Параметричний декор 'Ліс' для ресепшн",ru:"Параметрический декор «Лес» для ресепшн"},bpg_title4:{en:"Non-standard colors office building facade",pl:"Elewacja biurowca w niestandardowych kolorach",uk:"Фасад офісної будівлі в нестандартних кольорах",ru:"Фасад офисного здания в нестандартных цветах"},bpg_title5:{en:"Logo and facade of a grocery store with imitating wood slats",pl:"Logo i fasada sklepu spożywczego z listwami imitującymi drewno",uk:"Логотип і фасад продуктового магазину з рейками, що імітують дерево",ru:"Логотип и фасад продуктового магазина с планками, имитирующими дерево"},bpg_title6:{en:"Comprehensive advertising design for the store's interior",pl:"Kompleksowy projekt reklamy wnętrza sklepu",uk:"Комплексне рекламне оформлення інтер'єру магазину",ru:"Комплексное рекламное оформление интерьера магазина"},bpg_title7:{en:"Shop facade with 3D letters and pelasters with RGB LED lighting",pl:"Elewacja sklepu z 3d-literami i pelastrami z RGB Led-oświetleniem",uk:"Фасад магазину з 3d буквами та пелястрами з RGB LED підсвічуванням",ru:"Фасад магазина с объемными буквами и пелястрами с RGB LED-подсветкой"},bpg_title8:{en:"Interior decoration of the store in the style of a salt mine",pl:"Dekoracja wnętrza sklepu w stylu kopalni soli",uk:"Оформлення інтер'єру магазину в стилі соляної шахти",ru:"Оформление интерьера магазина в стиле соляной шахты"},bpg_title9:{en:"The entrance group of a medical center with protruding multi-colored elements",pl:"Grupa wejściowa centrum medycznego z wystającymi wielobarwnymi elementami",uk:"Вхідна група медичного центру з виступаючими різнокольоровими елементами",ru:"Входная группа медицинского центра с выступающими разноцветными элементами"},bpg_title10:{en:"Decorative elements with artificial grass for a bank",pl:"Elementy dekoracyjne dla banku z wykorzystaniem sztucznej trawy",uk:"Декоративні елементи для банки з використанням штучної трави",ru:"Декоративные элементы для банка с использованием искусственной травы."},bpg_title11:{en:"Glass facade of the pharmacy, ACP roof, RGB LED letters",pl:"Szklana fasada apteki, daszek z ACP, litery LED RGB",uk:"Скляний фасад аптеки, навіс з АКП, RGB світлодіодні літери",ru:"Стеклянный фасад аптеки, навес из АКП, светодиодные буквы RGB"}},portfolio:{pg_question:{en:"Portfolio gallery",pl:"Galeria realizacji",uk:"Галерея виготовленої продукції",ru:"Галерея изготовленной продукции"},pg_button0:{en:"All",pl:"Wszystko",uk:"Усе",ru:"Все"},pg_button1:{en:"Fasades",pl:"Elewacje",uk:"Фасади",ru:"Фасады"},pg_button2:{en:"Shops, offices",pl:"Sklepy, biura",uk:"Магазини, офіси",ru:"Магазины, офисы"},pg_button3:{en:"Letters, signs",pl:"Litery, szyldy",uk:"Літери, вивіски",ru:"Буквы, вывески"},pg_button4:{en:"Interior decor",pl:"Dekor wnętrz",uk:"Інтер'єри",ru:"Интерьеры"},pg_button5:{en:"Windows",pl:"Witryny",uk:"Вітрини",ru:"Витрины"},pg_button6:{en:"Pylons",pl:"Pilony",uk:"Пілони",ru:"Пилоны"},pg_button7:{en:"Cars",pl:"Auta",uk:"Транспорт",ru:"Транспорт"},pg_button8:{en:"Plaques",pl:"Tablice",uk:"Таблички",ru:"Таблички"},pg_button9:{en:"Roadside & Arrow",pl:"Znaki",uk:"Вказівники",ru:"Указатели"}}},a={menu0:{en:"About me",pl:"Kim jestem",uk:"Про мене",ru:"Обо мне"},menu1:{en:"Solutions",pl:"Rozwiązania",uk:"Рішення",ru:"Решения"},menu2:{en:"Best projects",pl:"Najlepsze projekty",uk:"Найкращі проекти",ru:"Лучшие проекты"},menu2_sub:{en:"Project gallery",pl:"Galeria projektów",uk:"Галерея проектів",ru:"Галерея проектов"},menu3:{en:"Hard skills",pl:"Umiejętności",uk:"Навички",ru:"Навыки"},menu4:{en:"Portfolio",pl:"Realizacje",uk:"Портфоліо",ru:"Портфолио"},menu4_sub:{en:"Portfolio gallery",pl:"Galeria realizacji",uk:"Галерея продукції",ru:"Галерея продукции"},email:{en:"muratovdv76@gmail.com",pl:"muratovdv76@gmail.com",uk:"muratovdv76@gmail.com",ru:"muratovdv76@gmail.com"},tel:{en:"+38 050 559 00 69",pl:"+48 572 112 582",uk:"+38 050 559 00 69",ru:"+38 050 559 00 69"}}})),r.register("5jwFo",(function(i,n){e(i.exports,"LanguageHandler",(function(){return v}));var a=r("8MBJY"),o=r("4KMWL"),s=r("8MQK7"),l=r("dPxxm"),c=r("a2hTj"),u=r("hKHmD"),h=new WeakMap,d=new WeakMap,f=new WeakMap,v=function(){"use strict";function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t(a)(this,e),t(s)(this,h,{writable:!0,value:"en"}),t(s)(this,d,{writable:!0,value:""}),t(s)(this,f,{writable:!0,value:["en","uk","ru","pl"]}),this.langElems=i,this.LANG_DATA=n}return t(c)(e,[{key:"getLangOnLoad",value:function(){return t(l)(this,d,this.readLangFromLocalStorage()||this.getBrowserLang()||t(o)(this,h))}},{key:"getBrowserLang",value:function(){var e=window.navigator.language.split("-")[0];return!!this.isLangInList(e)&&e}},{key:"isLangInList",value:function(e){return t(o)(this,f).some((function(t){return t===e}))}},{key:"language",get:function(){return t(o)(this,d)},set:function(e){t(l)(this,d,e)}},{key:"readLangFromLocalStorage",value:function(){try{var t=JSON.parse(localStorage.getItem(e.USER_LANG));return!!this.isLangInList(t)&&t}catch(e){return!1}}},{key:"writeLangToLocalStorage",value:function(){localStorage.setItem(e.USER_LANG,JSON.stringify(t(o)(this,d)))}},{key:"applyLangToMarkup",value:function(){var e,i=this.langElems,n=this.LANG_DATA,a=t(o)(this,d),r=document.body.dataset.pageId;function s(e){e.classList.remove("placeholder")}e=a,document.querySelector("html").setAttribute("lang",e),i.forEach((function(e){if(n.hasOwnProperty(r)&&n[r].hasOwnProperty(e.dataset.lang)&&n[r][e.dataset.lang].hasOwnProperty(a)&&n[r][e.dataset.lang][a]){var t=n[r][e.dataset.lang][a];e.textContent=t,s(e)}else e.classList.contains("placeholder")&&s(e)}))}},{key:"init",value:function(){this.getLangOnLoad(),this.applyLangToDocument()}},{key:"applyLangToDocument",value:function(){this.writeLangToLocalStorage(),this.applyLangToMarkup()}}]),e}();t(u)(v,"USER_LANG","userLang")})),r.register("8MBJY",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}})),r.register("4KMWL",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){var a=i.default(e,t,"get");return n.default(e,a)};var i=a(r("1UHsN")),n=a(r("ffZzF"));function a(e){return e&&e.__esModule?e:{default:e}}})),r.register("1UHsN",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}})),r.register("ffZzF",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return t.get?t.get.call(e):t.value}})),r.register("8MQK7",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,i){n.default(e,t),t.set(e,i)};var i,n=(i=r("5k7tO"))&&i.__esModule?i:{default:i}})),r.register("5k7tO",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}})),r.register("dPxxm",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,a){var r=i.default(e,t,"set");return n.default(e,r,a),a};var i=a(r("1UHsN")),n=a(r("jdVyQ"));function a(e){return e&&e.__esModule?e:{default:e}}})),r.register("jdVyQ",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=i}}})),r.register("a2hTj",(function(e,t){"use strict";function i(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,n){t&&i(e.prototype,t);n&&i(e,n);return e}})),r.register("kIc1i",(function(t,i){e(t.exports,"navHandler",(function(){return a}));var n=r("46m5r");function a(){document.addEventListener("DOMContentLoaded",(function(e){var t="active-link",i="active",a=document.querySelectorAll("section[data-section-id]"),r=document.querySelector("header"),o=document.querySelectorAll("[data-nav-id]"),s=document.querySelector("body"),l=document.querySelector(".menu-burger-btn"),c=document.querySelector(".header-nav-wrapper"),u=document.querySelectorAll(".nav-link, .address-link");o&&window.addEventListener("scroll",(0,n.default)(100,(function(){h=p(a),g(o,h)})));l.addEventListener("click",v),u.forEach((function(e){return e.addEventListener("click",f)})),window.addEventListener("resize",(function(){window.innerWidth>1199&&d&&v()}));var h=p(a),d=!!l.classList.contains(i);function f(e){if(e.currentTarget.hash&&"main"===s.dataset.pageId){e.preventDefault();var t,i=e.currentTarget.hash.substring(1);d&&v(),t=i,document.getElementById(t).scrollIntoView({behavior:"smooth",block:"start"})}else d&&v()}function v(){c.classList.toggle(i),s.classList.toggle("lock"),l.classList.toggle("active-icon"),d=!d}function p(e){var t=null;return e.forEach((function(e){(function(e,t){if(!e)return;var i=t?t.clientHeight:0,n=window.scrollY,a=e.offsetTop,r=e.clientHeight,o=a-n-i-4;return o<=0&&o>=-1*r})(e,r)&&(t=e.dataset.sectionId)})),t}function g(e,i){o&&e.forEach((function(e){e.dataset.navId===i?e.classList.add(t):e.classList.remove(t)}))}g(o,h)}))}})),r.register("46m5r",(function(t,i){e(t.exports,"default",(function(){return a}));var n=r("2jDn7");function a(e,t,i){var a=(i||{}).atBegin,r=void 0!==a&&a;return(0,n.default)(e,t,{debounceMode:!1!==r})}})),r.register("2jDn7",(function(t,i){function n(e,t,i){var n,a=i||{},r=a.noTrailing,o=void 0!==r&&r,s=a.noLeading,l=void 0!==s&&s,c=a.debounceMode,u=!1,h=0;function d(){n&&clearTimeout(n)}function f(){for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];var s=this,f=Date.now()-h;function v(){h=Date.now(),t.apply(s,a)}function p(){n=void 0}u||(l||!c||n||v(),d(),void 0===c&&f>e?l?(h=Date.now(),o||(n=setTimeout(c?p:v,e))):v():!0!==o&&(n=setTimeout(c?p:v,void 0===c?e-f:e)))}return f.cancel=function(e){var t=(e||{}).upcomingOnly,i=void 0!==t&&t;d(),u=!i},f}e(t.exports,"default",(function(){return n}))})),r.register("bBqzh",(function(t,i){e(t.exports,"goTopBtnHandler",(function(){return a}));var n=r("46m5r");function a(){var e=document.querySelector(".go-top");window.addEventListener("scroll",(0,n.default)(100,(function(){var t=window.scrollY,i=document.documentElement.clientHeight;t>i?e.classList.add("go-top--show"):e.classList.remove("go-top--show")}))),e.addEventListener("click",(function(){window.scroll({top:0,behavior:"smooth"})}))}})),r.register("88rUX",(function(t,i){e(t.exports,"destroyFancybox",(function(){return o})),e(t.exports,"bindFancybox",(function(){return s})),e(t.exports,"makeCarousel",(function(){return l}));var n=r("2kdFE"),a=r("e7HWw");function o(){n.Fancybox.destroy()}function s(e){n.Fancybox.bind(e,{Images:{protected:!0},groupAll:!0,compact:!1,Toolbar:{display:{left:["infobar"],middle:[],right:["fullscreen","iterateZoom","close"]}},Thumbs:{type:!1}})}function l(e){new(0,a.Carousel)(e,{Dots:!1,center:!0,infinite:!1,Panzoom:{dragMinThreshold:20,maxVelocity:50},Thumbs:!1,breakpoints:{dragMinThreshold:10,"(min-width: 767px)":{Navigation:!0}}})}})),r.register("2kdFE",(function(i,n){e(i.exports,"Fancybox",(function(){return at}));var a=r("ds8z5"),o=r("8MBJY"),s=r("a2hTj"),l=r("hKHmD"),c=r("jh8P3"),u=r("fVNic"),h=r("eYQtU"),d=r("jmhxu"),f=r("1t1Wn"),v=r("8nrFW"),p=r("2MbLg"),g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4;return e=parseFloat(e+"")||0,Math.round((e+Number.EPSILON)*t)/t},m=function(e){if(!(e&&e instanceof Element&&e.offsetParent))return!1;var t=e.scrollHeight>e.clientHeight,i=window.getComputedStyle(e).overflowY,n=-1!==i.indexOf("hidden"),a=-1!==i.indexOf("visible");return t&&!n&&!a},y=function(e,t){return!(!e||e===document.body||t&&e===t)&&(m(e)?e:y(e.parentElement,t))},b=function(e){var t=(new DOMParser).parseFromString(e,"text/html").body;if(t.childElementCount>1){for(var i=document.createElement("div");t.firstChild;)i.appendChild(t.firstChild);return i}return t.firstChild},w=function(e){return"".concat(e||"").split(" ").filter((function(e){return!!e}))},k=function(e,t,i){w(t).forEach((function(t){e&&e.classList.toggle(t,i||!1)}))},x=function e(i){"use strict";t(o)(this,e),Object.defineProperty(this,"pageX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pageY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nativePointer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.nativePointer=i,this.pageX=i.pageX,this.pageY=i.pageY,this.clientX=i.clientX,this.clientY=i.clientY,this.id=self.Touch&&i instanceof Touch?i.identifier:-1,this.time=Date.now()},S={passive:!1},E=function(){"use strict";function e(i,n){var a=n.start,r=void 0===a?function(){return!0}:a,s=n.move,l=void 0===s?function(){}:s,c=n.end,u=void 0===c?function(){}:c;t(o)(this,e),Object.defineProperty(this,"element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"moveCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"endCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"currentPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"startPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.element=i,this.startCallback=r,this.moveCallback=l,this.endCallback=u;var h=!0,d=!1,f=void 0;try{for(var v,p=["onPointerStart","onTouchStart","onMove","onTouchEnd","onPointerEnd","onWindowBlur"][Symbol.iterator]();!(h=(v=p.next()).done);h=!0){var g=v.value;this[g]=this[g].bind(this)}}catch(e){d=!0,f=e}finally{try{h||null==p.return||p.return()}finally{if(d)throw f}}this.element.addEventListener("mousedown",this.onPointerStart,S),this.element.addEventListener("touchstart",this.onTouchStart,S),this.element.addEventListener("touchmove",this.onMove,S),this.element.addEventListener("touchend",this.onTouchEnd),this.element.addEventListener("touchcancel",this.onTouchEnd)}return t(s)(e,[{key:"onPointerStart",value:function(e){if(e.buttons&&0===e.button){var t=new x(e);this.currentPointers.some((function(e){return e.id===t.id}))||this.triggerPointerStart(t,e)&&(window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseup",this.onPointerEnd),window.addEventListener("blur",this.onWindowBlur))}}},{key:"onTouchStart",value:function(e){var t=!0,i=!1,n=void 0;try{for(var a,r=Array.from(e.changedTouches||[])[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var o=a.value;this.triggerPointerStart(new x(o),e)}}catch(e){i=!0,n=e}finally{try{t||null==r.return||r.return()}finally{if(i)throw n}}window.addEventListener("blur",this.onWindowBlur)}},{key:"onMove",value:function(e){var t=this.currentPointers.slice(),i="changedTouches"in e?Array.from(e.changedTouches||[]).map((function(e){return new x(e)})):[new x(e)],n=[],a=!0,r=!1,o=void 0;try{for(var s,l=this,c=function(e,t){var i=t.value,a=l.currentPointers.findIndex((function(e){return e.id===i.id}));a<0||(n.push(i),l.currentPointers[a]=i)},u=i[Symbol.iterator]();!(a=(s=u.next()).done);a=!0)c(0,s)}catch(e){r=!0,o=e}finally{try{a||null==u.return||u.return()}finally{if(r)throw o}}n.length&&this.moveCallback(e,this.currentPointers.slice(),t)}},{key:"onPointerEnd",value:function(e){e.buttons>0&&0!==e.button||(this.triggerPointerEnd(e,new x(e)),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur))}},{key:"onTouchEnd",value:function(e){var t=!0,i=!1,n=void 0;try{for(var a,r=Array.from(e.changedTouches||[])[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var o=a.value;this.triggerPointerEnd(e,new x(o))}}catch(e){i=!0,n=e}finally{try{t||null==r.return||r.return()}finally{if(i)throw n}}}},{key:"triggerPointerStart",value:function(e,t){return!!this.startCallback(t,e,this.currentPointers.slice())&&(this.currentPointers.push(e),this.startPointers.push(e),!0)}},{key:"triggerPointerEnd",value:function(e,t){var i=this.currentPointers.findIndex((function(e){return e.id===t.id}));i<0||(this.currentPointers.splice(i,1),this.startPointers.splice(i,1),this.endCallback(e,t,this.currentPointers.slice()))}},{key:"onWindowBlur",value:function(){this.clear()}},{key:"clear",value:function(){for(;this.currentPointers.length;){var e=this.currentPointers[this.currentPointers.length-1];this.currentPointers.splice(this.currentPointers.length-1,1),this.startPointers.splice(this.currentPointers.length-1,1),this.endCallback(new Event("touchend",{bubbles:!0,cancelable:!0,clientX:e.clientX,clientY:e.clientY}),e,this.currentPointers.slice())}}},{key:"stop",value:function(){this.element.removeEventListener("mousedown",this.onPointerStart,S),this.element.removeEventListener("touchstart",this.onTouchStart,S),this.element.removeEventListener("touchmove",this.onMove,S),this.element.removeEventListener("touchend",this.onTouchEnd),this.element.removeEventListener("touchcancel",this.onTouchEnd),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur)}}]),e}();function P(e,t){return t?Math.sqrt(Math.pow(t.clientX-e.clientX,2)+Math.pow(t.clientY-e.clientY,2)):0}function O(e,t){return t?{clientX:(e.clientX+t.clientX)/2,clientY:(e.clientY+t.clientY)/2}:e}var T=function(e){return"object"==typeof e&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e)},M=function(e){for(var i=arguments.length,n=new Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];for(var r=n.length,o=0;o<r;o++){var s=n[o]||{};Object.entries(s).forEach((function(i){var n=t(f)(i,2),a=n[0],r=n[1],o=Array.isArray(r)?[]:{};e[a]||Object.assign(e,t(l)({},a,o)),T(r)?Object.assign(e[a],M(o,r)):Array.isArray(r)?Object.assign(e,t(l)({},a,t(v)(r))):Object.assign(e,t(l)({},a,r))}))}return e},C=function(e,t){return e.split(".").reduce((function(e,t){return"object"==typeof e?e[t]:void 0}),t)},L=function(){"use strict";function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(o)(this,e),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),this.setOptions(i);var n=!0,a=!1,r=void 0;try{for(var s,l=Object.getOwnPropertyNames(Object.getPrototypeOf(this))[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var c=s.value;c.startsWith("on")&&"function"==typeof this[c]&&(this[c]=this[c].bind(this))}}catch(e){a=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw r}}}return t(s)(e,[{key:"setOptions",value:function(e){this.options=e?M({},this.constructor.defaults,e):{};var i=!0,n=!1,a=void 0;try{for(var r,o=Object.entries(this.option("on")||{})[Symbol.iterator]();!(i=(r=o.next()).done);i=!0){var s=t(f)(r.value,2),l=s[0],c=s[1];this.on(l,c)}}catch(e){n=!0,a=e}finally{try{i||null==o.return||o.return()}finally{if(n)throw a}}}},{key:"option",value:function(e){for(var i=arguments.length,n=new Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];var r,o=C(e,this.options);return o&&"function"==typeof o&&(o=(r=o).call.apply(r,[this,this].concat(t(v)(n)))),o}},{key:"optionFor",value:function(e,i,n){for(var a=arguments.length,r=new Array(a>3?a-3:0),o=3;o<a;o++)r[o-3]=arguments[o];var s,l,c,u=C(i,e);"string"!=typeof(c=u)||isNaN(c)||isNaN(parseFloat(c))||(u=parseFloat(u)),"true"===u&&(u=!0),"false"===u&&(u=!1),u&&"function"==typeof u&&(u=(s=u).call.apply(s,[this,this,e].concat(t(v)(r))));var h=C(i,this.options);return h&&"function"==typeof h?u=(l=h).call.apply(l,[this,this,e].concat(t(v)(r),[u])):void 0===u&&(u=h),void 0===u?n:u}},{key:"cn",value:function(e){var t=this.options.classes;return t&&t[e]||""}},{key:"localize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=this;e=String(e).replace(/\{\{(\w+).?(\w+)?\}\}/g,(function(e,t,n){var a="";return n?a=i.option("".concat(t[0]+t.toLowerCase().substring(1),".l10n.").concat(n)):t&&(a=i.option("l10n.".concat(t))),a||(a=e),a}));for(var n=0;n<t.length;n++)e=e.split(t[n][0]).join(t[n][1]);return e.replace(/\{\{(.*?)\}\}/g,(function(e,t){return t}))}},{key:"on",value:function(e,t){var i=this,n=[];"string"==typeof e?n=e.split(" "):Array.isArray(e)&&(n=e),this.events||(this.events=new Map),n.forEach((function(e){var n=i.events.get(e);n||(i.events.set(e,[]),n=[]),n.includes(t)||n.push(t),i.events.set(e,n)}))}},{key:"off",value:function(e,t){var i=this,n=[];"string"==typeof e?n=e.split(" "):Array.isArray(e)&&(n=e),n.forEach((function(e){var n=i.events.get(e);if(Array.isArray(n)){var a=n.indexOf(t);a>-1&&n.splice(a,1)}}))}},{key:"emit",value:function(e){for(var i=arguments.length,n=new Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];var r=this;t(v)(this.events.get(e)||[]).forEach((function(e){return e.apply(void 0,[r].concat(t(v)(n)))})),"*"!==e&&this.emit.apply(this,["*",e].concat(t(v)(n)))}}]),e}();Object.defineProperty(L,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.22"}),Object.defineProperty(L,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{}});var A,z,D=function(e){"use strict";t(h)(n,e);var i=t(p)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t(o)(this,n),e=i.call(this,r),Object.defineProperty(t(a)(e),"plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),t(d)(e)}return t(s)(n,[{key:"attachPlugins",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=new Map,n=!0,a=!1,r=void 0;try{for(var o,s=Object.entries(e)[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=t(f)(o.value,2),c=l[0],u=l[1],h=this.option(c),d=this.plugins[c];d||!1===h?d&&!1===h&&(d.detach(),delete this.plugins[c]):i.set(c,new u(this,h||{}))}}catch(e){a=!0,r=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}var v=!0,p=!1,g=void 0;try{for(var m,y=i[Symbol.iterator]();!(v=(m=y.next()).done);v=!0){var b=t(f)(m.value,2),w=b[0],k=b[1];this.plugins[w]=k,k.attach()}}catch(e){p=!0,g=e}finally{try{v||null==y.return||y.return()}finally{if(p)throw g}}this.emit("attachPlugins")}},{key:"detachPlugins",value:function(e){e=e||Object.keys(this.plugins);var t=!0,i=!1,n=void 0;try{for(var a,r=e[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var o=a.value,s=this.plugins[o];s&&s.detach(),delete this.plugins[o]}}catch(e){i=!0,n=e}finally{try{t||null==r.return||r.return()}finally{if(i)throw n}}return this.emit("detachPlugins"),this}}]),n}(L);(z=A||(A={}))[z.Init=0]="Init",z[z.Error=1]="Error",z[z.Ready=2]="Ready",z[z.Panning=3]="Panning",z[z.Mousemove=4]="Mousemove",z[z.Destroy=5]="Destroy";var R=["a","b","c","d","e","f"],j={PANUP:"Move up",PANDOWN:"Move down",PANLEFT:"Move left",PANRIGHT:"Move right",ZOOMIN:"Zoom in",ZOOMOUT:"Zoom out",TOGGLEZOOM:"Toggle zoom level",TOGGLE1TO1:"Toggle zoom level",ITERATEZOOM:"Toggle zoom level",ROTATECCW:"Rotate counterclockwise",ROTATECW:"Rotate clockwise",FLIPX:"Flip horizontally",FLIPY:"Flip vertically",FITX:"Fit horizontally",FITY:"Fit vertically",RESET:"Reset",TOGGLEFS:"Toggle fullscreen"},I={content:null,width:"auto",height:"auto",panMode:"drag",touch:!0,dragMinThreshold:3,lockAxis:!1,mouseMoveFactor:1,mouseMoveFriction:.12,zoom:!0,pinchToZoom:!0,panOnlyZoomed:"auto",minScale:1,maxScale:2,friction:.25,dragFriction:.35,decelFriction:.05,click:"toggleZoom",dblClick:!1,wheel:"zoom",wheelLimit:7,spinner:!0,bounds:"auto",infinite:!1,rubberband:!0,bounce:!0,maxVelocity:75,transformParent:!1,classes:{content:"f-panzoom__content",isLoading:"is-loading",canZoomIn:"can-zoom_in",canZoomOut:"can-zoom_out",isDraggable:"is-draggable",isDragging:"is-dragging",inFullscreen:"in-fullscreen",htmlHasFullscreen:"with-panzoom-in-fullscreen"},l10n:j},F='<div class="f-spinner"><svg viewBox="0 0 50 50"><circle cx="25" cy="25" r="20"></circle><circle cx="25" cy="25" r="20"></circle></svg></div>',_=function(e){return e&&null!==e&&e instanceof Element&&"nodeType"in e},H=function(e,t){e&&w(t).forEach((function(t){e.classList.remove(t)}))},N=function(e,t){e&&w(t).forEach((function(t){e.classList.add(t)}))},B={a:1,b:0,c:0,d:1,e:0,f:0},W=1e3,X="mousemove",Y="drag",q="content",V=null,Z=null,G=function(e){"use strict";t(h)(n,e);var i=t(p)(n);function n(e){var r,s,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t(o)(this,n),r=i.call(this,l),Object.defineProperty(t(a)(r),"pointerTracker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t(a)(r),"resizeObserver",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t(a)(r),"updateTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t(a)(r),"clickTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t(a)(r),"rAF",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t(a)(r),"isTicking",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(t(a)(r),"friction",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(t(a)(r),"ignoreBounds",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(t(a)(r),"isBouncingX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(t(a)(r),"isBouncingY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(t(a)(r),"clicks",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(t(a)(r),"trackingPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(t(a)(r),"pwt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(t(a)(r),"cwd",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(t(a)(r),"pmme",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t(a)(r),"state",{enumerable:!0,configurable:!0,writable:!0,value:A.Init}),Object.defineProperty(t(a)(r),"isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(t(a)(r),"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t(a)(r),"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t(a)(r),"spinner",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t(a)(r),"containerRect",{enumerable:!0,configurable:!0,writable:!0,value:{width:0,height:0,innerWidth:0,innerHeight:0}}),Object.defineProperty(t(a)(r),"contentRect",{enumerable:!0,configurable:!0,writable:!0,value:{top:0,right:0,bottom:0,left:0,fullWidth:0,fullHeight:0,fitWidth:0,fitHeight:0,width:0,height:0}}),Object.defineProperty(t(a)(r),"dragStart",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,top:0,left:0,time:0}}),Object.defineProperty(t(a)(r),"dragOffset",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,time:0}}),Object.defineProperty(t(a)(r),"current",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},B)}),Object.defineProperty(t(a)(r),"target",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},B)}),Object.defineProperty(t(a)(r),"velocity",{enumerable:!0,configurable:!0,writable:!0,value:{a:0,b:0,c:0,d:0,e:0,f:0}}),Object.defineProperty(t(a)(r),"lockedAxis",{enumerable:!0,configurable:!0,writable:!0,value:!1}),!e)throw new Error("Container Element Not Found");r.container=e,r.initContent(),r.attachPlugins(Object.assign(Object.assign({},n.Plugins),c)),r.emit("init");var u=r.content;if(u.addEventListener("load",r.onLoad),u.addEventListener("error",r.onError),r.isContentLoading){if(r.option("spinner")){e.classList.add(r.cn("isLoading"));var h=b(F);!e.contains(u)||u.parentElement instanceof HTMLPictureElement?r.spinner=e.appendChild(h):r.spinner=(null===(s=u.parentElement)||void 0===s?void 0:s.insertBefore(h,u))||null}r.emit("beforeLoad")}else queueMicrotask((function(){r.enable()}));return t(d)(r)}return t(s)(n,[{key:"isTouchDevice",get:function(){return null===Z&&(Z=window.matchMedia("(hover: none)").matches),Z}},{key:"isMobile",get:function(){return null===V&&(V=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)),V}},{key:"panMode",get:function(){return this.options.panMode!==X||this.isTouchDevice?Y:X}},{key:"panOnlyZoomed",get:function(){var e=this.options.panOnlyZoomed;return"auto"===e?this.isTouchDevice:e}},{key:"isInfinite",get:function(){return this.option("infinite")}},{key:"angle",get:function(){return 180*Math.atan2(this.current.b,this.current.a)/Math.PI||0}},{key:"targetAngle",get:function(){return 180*Math.atan2(this.target.b,this.target.a)/Math.PI||0}},{key:"scale",get:function(){var e=this.current,t=e.a,i=e.b;return Math.sqrt(t*t+i*i)||1}},{key:"targetScale",get:function(){var e=this.target,t=e.a,i=e.b;return Math.sqrt(t*t+i*i)||1}},{key:"minScale",get:function(){return this.option("minScale")||1}},{key:"fullScale",get:function(){var e=this.contentRect;return e.fullWidth/e.fitWidth||1}},{key:"maxScale",get:function(){return this.fullScale*(this.option("maxScale")||1)||1}},{key:"coverScale",get:function(){var e=this.containerRect,t=this.contentRect,i=Math.max(e.height/t.fitHeight,e.width/t.fitWidth)||1;return Math.min(this.fullScale,i)}},{key:"isScaling",get:function(){return Math.abs(this.targetScale-this.scale)>1e-5&&!this.isResting}},{key:"isContentLoading",get:function(){var e=this.content;return!!(e&&e instanceof HTMLImageElement)&&!e.complete}},{key:"isResting",get:function(){if(this.isBouncingX||this.isBouncingY)return!1;var e=!0,t=!1,i=void 0;try{for(var n,a=R[Symbol.iterator]();!(e=(n=a.next()).done);e=!0){var r=n.value,o="e"==r||"f"===r?.001:1e-5;if(Math.abs(this.target[r]-this.current[r])>o)return!1}}catch(e){t=!0,i=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw i}}return!(!this.ignoreBounds&&!this.checkBounds().inBounds)}},{key:"initContent",value:function(){var e=this.container,t=this.cn(q),i=this.option(q)||e.querySelector(".".concat(t));if(i||(i=e.querySelector("img,picture")||e.firstElementChild)&&N(i,t),i instanceof HTMLPictureElement&&(i=i.querySelector("img")),!i)throw new Error("No content found");this.content=i}},{key:"onLoad",value:function(){this.spinner&&(this.spinner.remove(),this.spinner=null),this.option("spinner")&&this.container.classList.remove(this.cn("isLoading")),this.emit("afterLoad"),this.state===A.Init?this.enable():this.updateMetrics()}},{key:"onError",value:function(){this.state!==A.Destroy&&(this.spinner&&(this.spinner.remove(),this.spinner=null),this.stop(),this.detachEvents(),this.state=A.Error,this.emit("error"))}},{key:"attachObserver",value:function(){var e,t=this,i=function(){return Math.abs(t.containerRect.width-t.container.getBoundingClientRect().width)>.1||Math.abs(t.containerRect.height-t.container.getBoundingClientRect().height)>.1};this.resizeObserver||void 0===window.ResizeObserver||(this.resizeObserver=new ResizeObserver((function(){var e=t;t.updateTimer||(i()?(t.onResize(),t.isMobile&&(t.updateTimer=setTimeout((function(){i()&&e.onResize(),e.updateTimer=null}),500))):t.updateTimer&&(clearTimeout(t.updateTimer),t.updateTimer=null))}))),null===(e=this.resizeObserver)||void 0===e||e.observe(this.container)}},{key:"detachObserver",value:function(){var e;null===(e=this.resizeObserver)||void 0===e||e.disconnect()}},{key:"attachEvents",value:function(){var e=this.container;e.addEventListener("click",this.onClick,{passive:!1,capture:!1}),e.addEventListener("wheel",this.onWheel,{passive:!1}),this.pointerTracker=new E(e,{start:this.onPointerDown,move:this.onPointerMove,end:this.onPointerUp}),document.addEventListener(X,this.onMouseMove)}},{key:"detachEvents",value:function(){var e,t=this.container;t.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),t.removeEventListener("wheel",this.onWheel,{passive:!1}),null===(e=this.pointerTracker)||void 0===e||e.stop(),this.pointerTracker=null,document.removeEventListener(X,this.onMouseMove),document.removeEventListener("keydown",this.onKeydown,!0),this.clickTimer&&(clearTimeout(this.clickTimer),this.clickTimer=null),this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null)}},{key:"animate",value:function(){var e=this,t=this.friction;this.setTargetForce();var i=this.option("maxVelocity"),n=!0,a=!1,r=void 0;try{for(var o,s=R[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;t?(this.velocity[l]*=1-t,i&&!this.isScaling&&(this.velocity[l]=Math.max(Math.min(this.velocity[l],i),-1*i)),this.current[l]+=this.velocity[l]):this.current[l]=this.target[l]}}catch(e){a=!0,r=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}this.setTransform(),this.setEdgeForce(),!this.isResting||this.isDragging?this.rAF=requestAnimationFrame((function(){return e.animate()})):this.stop("current")}},{key:"setTargetForce",value:function(){var e=!0,t=!1,i=void 0;try{for(var n,a=R[Symbol.iterator]();!(e=(n=a.next()).done);e=!0){var r=n.value;"e"===r&&this.isBouncingX||"f"===r&&this.isBouncingY||(this.velocity[r]=(1/(1-this.friction)-1)*(this.target[r]-this.current[r]))}}catch(e){t=!0,i=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw i}}}},{key:"checkBounds",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this,n=i.current,a=n.e+e,r=n.f+t,o=this.getBounds(),s=o.x,l=o.y,c=s.min,u=s.max,h=l.min,d=l.max,f=0,v=0;return c!==1/0&&a<c?f=c-a:u!==1/0&&a>u&&(f=u-a),h!==1/0&&r<h?v=h-r:d!==1/0&&r>d&&(v=d-r),Math.abs(f)<.001&&(f=0),Math.abs(v)<.001&&(v=0),Object.assign(Object.assign({},o),{xDiff:f,yDiff:v,inBounds:!f&&!v})}},{key:"clampTargetBounds",value:function(){var e=this.target,t=this.getBounds(),i=t.x,n=t.y;i.min!==1/0&&(e.e=Math.max(e.e,i.min)),i.max!==1/0&&(e.e=Math.min(e.e,i.max)),n.min!==1/0&&(e.f=Math.max(e.f,n.min)),n.max!==1/0&&(e.f=Math.min(e.f,n.max))}},{key:"calculateContentDim",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current,t=this,i=t.content,n=t.contentRect,a=n.fitWidth,r=n.fitHeight,o=n.fullWidth,s=n.fullHeight,l=o,c=s;if(this.option("zoom")||0!==this.angle){var u=!(i instanceof HTMLImageElement||"none"!==window.getComputedStyle(i).maxWidth&&"none"!==window.getComputedStyle(i).maxHeight),h=u?o:a,d=u?s:r,f=this.getMatrix(e),v=new DOMPoint(0,0).matrixTransform(f),p=new DOMPoint(0+h,0).matrixTransform(f),g=new DOMPoint(0+h,0+d).matrixTransform(f),m=new DOMPoint(0,0+d).matrixTransform(f),y=Math.abs(g.x-v.x),b=Math.abs(g.y-v.y),w=Math.abs(m.x-p.x),k=Math.abs(m.y-p.y);l=Math.max(y,w),c=Math.max(b,k)}return{contentWidth:l,contentHeight:c}}},{key:"setEdgeForce",value:function(){if(this.ignoreBounds||this.isDragging||this.panMode===X||this.targetScale<this.scale)return this.isBouncingX=!1,void(this.isBouncingY=!1);var e=this.target,t=this.checkBounds(),i=t.x,n=t.y,a=t.xDiff,r=t.yDiff,o=this.option("maxVelocity"),s=this.velocity.e,l=this.velocity.f;0!==a?(this.isBouncingX=!0,a*s<=0?s+=.14*a:(s=.14*a,i.min!==1/0&&(this.target.e=Math.max(e.e,i.min)),i.max!==1/0&&(this.target.e=Math.min(e.e,i.max))),o&&(s=Math.max(Math.min(s,o),-1*o))):this.isBouncingX=!1,0!==r?(this.isBouncingY=!0,r*l<=0?l+=.14*r:(l=.14*r,n.min!==1/0&&(this.target.f=Math.max(e.f,n.min)),n.max!==1/0&&(this.target.f=Math.min(e.f,n.max))),o&&(l=Math.max(Math.min(l,o),-1*o))):this.isBouncingY=!1,this.isBouncingX&&(this.velocity.e=s),this.isBouncingY&&(this.velocity.f=l)}},{key:"enable",value:function(){var e=this.content,t=new DOMMatrixReadOnly(window.getComputedStyle(e).transform),i=!0,n=!1,a=void 0;try{for(var r,o=R[Symbol.iterator]();!(i=(r=o.next()).done);i=!0){var s=r.value;this.current[s]=this.target[s]=t[s]}}catch(e){n=!0,a=e}finally{try{i||null==o.return||o.return()}finally{if(n)throw a}}this.updateMetrics(),this.attachObserver(),this.attachEvents(),this.state=A.Ready,this.emit("ready")}},{key:"onClick",value:function(e){var t,i=this;this.isDragging&&(null===(t=this.pointerTracker)||void 0===t||t.clear(),this.trackingPoints=[],this.startDecelAnim());var n=e.target;if(n&&!e.defaultPrevented){if(n&&n.hasAttribute("disabled"))return e.preventDefault(),void e.stopPropagation();if(!(a=window.getSelection())||"Range"!==a.type||n.closest("button")){var a,r=n.closest("[data-panzoom-action]"),o=n.closest("[data-panzoom-change]"),s=r||o,l=s&&_(s)?s.dataset:null;if(l){var c=l.panzoomChange,u=l.panzoomAction;if((c||u)&&e.preventDefault(),c){var h={};try{h=JSON.parse(c)}catch(e){console&&console.warn("The given data was not valid JSON")}return void this.applyChange(h)}if(u)return void(this[u]&&this[u]())}if(Math.abs(this.dragOffset.x)>3||Math.abs(this.dragOffset.y)>3)return e.preventDefault(),void e.stopPropagation();var d=this.content.getBoundingClientRect();if(!this.dragStart.time||this.canZoomOut()||!(Math.abs(d.x-this.dragStart.x)>2||Math.abs(d.y-this.dragStart.y)>2)){this.dragStart.time=0;var f=function(t){i.option("zoom")&&t&&"string"==typeof t&&/(iterateZoom)|(toggle(Zoom|Full|Cover|Max)|(zoomTo(Fit|Cover|Max)))/.test(t)&&"function"==typeof i[t]&&(e.preventDefault(),i[t]({event:e}))},v=this.option("click",e),p=this.option("dblClick",e);p?(this.clicks++,1==this.clicks&&(this.clickTimer=setTimeout((function(){1===i.clicks?(i.emit("click",e),!e.defaultPrevented&&v&&f(v)):(i.emit("dblClick",e),e.defaultPrevented||f(p)),i.clicks=0,i.clickTimer=null}),350))):(this.emit("click",e),!e.defaultPrevented&&v&&f(v))}}}}},{key:"addTrackingPoint",value:function(e){var t=this.trackingPoints.filter((function(e){return e.time>Date.now()-100}));t.push(e),this.trackingPoints=t}},{key:"onPointerDown",value:function(e,t,i){var n;if(!1===this.option("touch",e))return!1;this.pwt=0,this.dragOffset={x:0,y:0,time:0},this.trackingPoints=[];var a=this.content.getBoundingClientRect();if(this.dragStart={x:a.x,y:a.y,top:a.top,left:a.left,time:Date.now()},this.clickTimer)return!1;if(this.panMode===X&&this.targetScale>1)return e.preventDefault(),e.stopPropagation(),!1;var r=e.composedPath()[0];if(!i.length){if(["TEXTAREA","OPTION","INPUT","SELECT","VIDEO","IFRAME"].includes(r.nodeName)||r.closest("[contenteditable]")||r.closest("[data-selectable]")||r.closest("[data-draggable]")||r.closest("[data-clickable]")||r.closest("[data-panzoom-change]")||r.closest("[data-panzoom-action]"))return!1;null===(n=window.getSelection())||void 0===n||n.removeAllRanges()}if("mousedown"===e.type)["A","BUTTON"].includes(r.nodeName)||e.preventDefault();else if(Math.abs(this.velocity.a)>.3)return!1;return this.target.e=this.current.e,this.target.f=this.current.f,this.stop(),this.isDragging||(this.isDragging=!0,this.addTrackingPoint(t),this.emit("touchStart",e)),!0}},{key:"onPointerMove",value:function(e,t,i){if(!1!==this.option("touch",e)&&this.isDragging&&!(t.length<2&&this.panOnlyZoomed&&g(this.targetScale)<=g(this.minScale)||(this.emit("touchMove",e),e.defaultPrevented))){this.addTrackingPoint(t[0]);var n=this.content,a=O(i[0],i[1]),r=O(t[0],t[1]),o=0,s=0;if(t.length>1){var l=n.getBoundingClientRect();o=a.clientX-l.left-.5*l.width,s=a.clientY-l.top-.5*l.height}var c=P(i[0],i[1]),u=P(t[0],t[1]),h=c?u/c:1,d=r.clientX-a.clientX,f=r.clientY-a.clientY;this.dragOffset.x+=d,this.dragOffset.y+=f,this.dragOffset.time=Date.now()-this.dragStart.time;var v=g(this.targetScale)===g(this.minScale)&&this.option("lockAxis");if(v&&!this.lockedAxis)if("xy"===v||"y"===v||"touchmove"===e.type){if(Math.abs(this.dragOffset.x)<6&&Math.abs(this.dragOffset.y)<6)return void e.preventDefault();var p=Math.abs(180*Math.atan2(this.dragOffset.y,this.dragOffset.x)/Math.PI);this.lockedAxis=p>45&&p<135?"y":"x",this.dragOffset.x=0,this.dragOffset.y=0,d=0,f=0}else this.lockedAxis=v;if(y(e.target,this.content)&&(v="x",this.dragOffset.y=0),!v||"xy"===v||this.lockedAxis===v||g(this.targetScale)!==g(this.minScale)){e.cancelable&&e.preventDefault(),this.container.classList.add(this.cn("isDragging"));var m=this.checkBounds(d,f);this.option("rubberband")?("x"!==this.isInfinite&&(m.xDiff>0&&d<0||m.xDiff<0&&d>0)&&(d*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitWidth*m.xDiff))),"y"!==this.isInfinite&&(m.yDiff>0&&f<0||m.yDiff<0&&f>0)&&(f*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitHeight*m.yDiff)))):(m.xDiff&&(d=0),m.yDiff&&(f=0));var b=this.targetScale,w=this.minScale,k=this.maxScale;b<.5*w&&(h=Math.max(h,w)),b>1.5*k&&(h=Math.min(h,k)),"y"===this.lockedAxis&&g(b)===g(w)&&(d=0),"x"===this.lockedAxis&&g(b)===g(w)&&(f=0),this.applyChange({originX:o,originY:s,panX:d,panY:f,scale:h,friction:this.option("dragFriction"),ignoreBounds:!0})}}}},{key:"onPointerUp",value:function(e,t,i){if(i.length)return this.dragOffset.x=0,this.dragOffset.y=0,void(this.trackingPoints=[]);this.container.classList.remove(this.cn("isDragging")),this.isDragging&&(this.addTrackingPoint(t),this.panOnlyZoomed&&this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1&&(this.trackingPoints=[]),y(e.target,this.content)&&"y"===this.lockedAxis&&(this.trackingPoints=[]),this.emit("touchEnd",e),this.isDragging=!1,this.lockedAxis=!1,this.state!==A.Destroy&&(e.defaultPrevented||this.startDecelAnim()))}},{key:"startDecelAnim",value:function(){var e,t=this.isScaling;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;var i=!0,n=!1,a=void 0;try{for(var r,o=R[Symbol.iterator]();!(i=(r=o.next()).done);i=!0){var s=r.value;this.velocity[s]=0}}catch(e){n=!0,a=e}finally{try{i||null==o.return||o.return()}finally{if(n)throw a}}this.target.e=this.current.e,this.target.f=this.current.f,H(this.container,"is-scaling"),H(this.container,"is-animating"),this.isTicking=!1;var l=this.trackingPoints,c=l[0],u=l[l.length-1],h=0,d=0,f=0;u&&c&&(h=u.clientX-c.clientX,d=u.clientY-c.clientY,f=u.time-c.time);var v=(null===(e=window.visualViewport)||void 0===e?void 0:e.scale)||1;1!==v&&(h*=v,d*=v);var p=0,m=0,y=0,b=0,w=this.option("decelFriction"),k=this.targetScale;if(f>0){y=Math.abs(h)>3?h/(f/30):0,b=Math.abs(d)>3?d/(f/30):0;var x=this.option("maxVelocity");x&&(y=Math.max(Math.min(y,x),-1*x),b=Math.max(Math.min(b,x),-1*x))}y&&(p=y/(1/(1-w)-1)),b&&(m=b/(1/(1-w)-1)),("y"===this.option("lockAxis")||"xy"===this.option("lockAxis")&&"y"===this.lockedAxis&&g(k)===this.minScale)&&(p=y=0),("x"===this.option("lockAxis")||"xy"===this.option("lockAxis")&&"x"===this.lockedAxis&&g(k)===this.minScale)&&(m=b=0);var S=this.dragOffset.x,E=this.dragOffset.y,P=this.option("dragMinThreshold")||0;Math.abs(S)<P&&Math.abs(E)<P&&(p=m=0,y=b=0),(k<this.minScale-1e-5||k>this.maxScale+1e-5||t&&!p&&!m)&&(w=.35),this.applyChange({panX:p,panY:m,friction:w}),this.emit("decel",y,b,S,E)}},{key:"onWheel",value:function(e){var t=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce((function(e,t){return Math.abs(t)>Math.abs(e)?t:e})),i=Math.max(-1,Math.min(1,t));if(this.emit("wheel",e,i),this.panMode!==X&&!e.defaultPrevented){var n=this.option("wheel");"pan"===n?(e.preventDefault(),this.panOnlyZoomed&&!this.canZoomOut()||this.applyChange({panX:2*-e.deltaX,panY:2*-e.deltaY,bounce:!1})):"zoom"===n&&!1!==this.option("zoom")&&this.zoomWithWheel(e)}}},{key:"onMouseMove",value:function(e){this.panWithMouse(e)}},{key:"onKeydown",value:function(e){"Escape"===e.key&&this.toggleFS()}},{key:"onResize",value:function(){this.updateMetrics(),this.checkBounds().inBounds||this.requestTick()}},{key:"setTransform",value:function(){this.emit("beforeTransform");var e=this,t=e.current,i=e.target,n=e.content,a=e.contentRect,r=Object.assign({},B),o=!0,s=!1,l=void 0;try{for(var c,u=R[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var h=c.value,d="e"==h||"f"===h?W:1e5;r[h]=g(t[h],d),Math.abs(i[h]-t[h])<("e"==h||"f"===h?.51:.001)&&(t[h]=i[h])}}catch(e){s=!0,l=e}finally{try{o||null==u.return||u.return()}finally{if(s)throw l}}var f=r.a,v=r.b,p=r.c,m=r.d,y=r.e,b=r.f,w="matrix(".concat(f,", ").concat(v,", ").concat(p,", ").concat(m,", ").concat(y,", ").concat(b,")"),k=n.parentElement instanceof HTMLPictureElement?n.parentElement:n;if(this.option("transformParent")&&(k=k.parentElement||k),k.style.transform!==w){k.style.transform=w;var x=this.calculateContentDim(),S=x.contentWidth,E=x.contentHeight;a.width=S,a.height=E,this.emit("afterTransform")}}},{key:"updateMetrics",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this&&this.state!==A.Destroy&&!this.isContentLoading){var i=Math.max(1,(null===(e=window.visualViewport)||void 0===e?void 0:e.scale)||1),n=this,a=n.container,r=n.content,o=r instanceof HTMLImageElement,s=a.getBoundingClientRect(),l=getComputedStyle(this.container),c=s.width*i,u=s.height*i,h=parseFloat(l.paddingTop)+parseFloat(l.paddingBottom),d=c-(parseFloat(l.paddingLeft)+parseFloat(l.paddingRight)),f=u-h;this.containerRect={width:c,height:u,innerWidth:d,innerHeight:f};var v,p,m=this.option("width")||"auto",y=this.option("height")||"auto";"auto"===m&&(m=parseFloat(r.dataset.width||"")||(((p=r)instanceof HTMLImageElement?p.naturalWidth:p instanceof SVGElement?p.width.baseVal.value:Math.max(p.offsetWidth,p.scrollWidth))||0)),"auto"===y&&(y=parseFloat(r.dataset.height||"")||(((v=r)instanceof HTMLImageElement?v.naturalHeight:v instanceof SVGElement?v.height.baseVal.value:Math.max(v.offsetHeight,v.scrollHeight))||0));var b=r.parentElement instanceof HTMLPictureElement?r.parentElement:r;this.option("transformParent")&&(b=b.parentElement||b);var w=b.getAttribute("style")||"";b.style.setProperty("transform","none","important"),o&&(b.style.width="",b.style.height=""),b.offsetHeight;var k,x,S,E,P,O,T=r.getBoundingClientRect(),M=T.width*i,C=T.height*i,L=0,z=0;o&&(Math.abs(m-M)>1||Math.abs(y-C)>1)&&((O=(E=m)/(P=y))>(x=M)/(S=C)?(E=x,P=x/O):(E=S*O,P=S),M=(k={width:E,height:P,top:.5*(S-P),left:.5*(x-E)}).width,C=k.height,L=k.top,z=k.left),this.contentRect=Object.assign(Object.assign({},this.contentRect),{top:T.top-s.top+L,bottom:s.bottom-T.bottom+L,left:T.left-s.left+z,right:s.right-T.right+z,fitWidth:M,fitHeight:C,width:M,height:C,fullWidth:m,fullHeight:y}),b.style.cssText=w,o&&(b.style.width="".concat(M,"px"),b.style.height="".concat(C,"px")),this.setTransform(),!0!==t&&this.emit("refresh"),this.ignoreBounds||(g(this.targetScale)<g(this.minScale)?this.zoomTo(this.minScale,{friction:0}):this.targetScale>this.maxScale?this.zoomTo(this.maxScale,{friction:0}):this.state===A.Init||this.checkBounds().inBounds||this.requestTick()),this.updateControls()}}},{key:"getBounds",value:function(){var e=this.option("bounds");if("auto"!==e)return e;var t=this.calculateContentDim(this.target),i=t.contentWidth,n=t.contentHeight,a=0,r=0,o=0,s=0,l=this.option("infinite");if(!0===l||this.lockedAxis&&l===this.lockedAxis)a=-1/0,o=1/0,r=-1/0,s=1/0;else{var c=this.containerRect,u=this.contentRect,h=g(this.contentRect.fitWidth*this.targetScale,W),d=g(this.contentRect.fitHeight*this.targetScale,W),f=c.innerWidth,v=c.innerHeight;if(this.containerRect.width===h&&(f=c.width),this.containerRect.width===d&&(v=c.height),i>f){a=-1*(o=.5*(i-f));var p=.5*(u.right-u.left);a+=p,o+=p}if(this.contentRect.fitWidth>f&&i<f&&(a-=.5*(this.contentRect.fitWidth-f),o-=.5*(this.contentRect.fitWidth-f)),n>v){r=-1*(s=.5*(n-v));var m=.5*(u.bottom-u.top);r+=m,s+=m}this.contentRect.fitHeight>v&&n<v&&(a-=.5*(this.contentRect.fitHeight-v),o-=.5*(this.contentRect.fitHeight-v))}return{x:{min:a,max:o},y:{min:r,max:s}}}},{key:"updateControls",value:function(){var e=this,t=e.container,i=e.panMode,n=e.contentRect,a=e.fullScale,r=e.targetScale,o=e.coverScale,s=e.maxScale,l=e.minScale,c={toggleMax:r-l<.5*(s-l)?s:l,toggleCover:r-l<.5*(o-l)?o:l,toggleZoom:r-l<.5*(a-l)?a:l}[e.option("click")||""]||l,u=e.canZoomIn(),h=e.canZoomOut(),d=i===Y&&!!this.option("touch"),f=h&&d;d&&(g(r)<g(l)&&!this.panOnlyZoomed&&(f=!0),(g(n.width,1)>g(n.fitWidth,1)||g(n.height,1)>g(n.fitHeight,1))&&(f=!0)),g(n.width*r,1)<g(n.fitWidth,1)&&(f=!1),i===X&&(f=!1);var v=u&&g(c)>g(r),p=!v&&!f&&h&&g(c)<g(r);k(t,this.cn("canZoomIn"),v),k(t,this.cn("canZoomOut"),p),k(t,this.cn("isDraggable"),f);var m=!0,y=!1,b=void 0;try{for(var w,x=t.querySelectorAll('[data-panzoom-action="zoomIn"]')[Symbol.iterator]();!(m=(w=x.next()).done);m=!0){var S=w.value;u?(S.removeAttribute("disabled"),S.removeAttribute("tabindex")):(S.setAttribute("disabled",""),S.setAttribute("tabindex","-1"))}}catch(e){y=!0,b=e}finally{try{m||null==x.return||x.return()}finally{if(y)throw b}}var E=!0,P=!1,O=void 0;try{for(var T,M=t.querySelectorAll('[data-panzoom-action="zoomOut"]')[Symbol.iterator]();!(E=(T=M.next()).done);E=!0){var C=T.value;h?(C.removeAttribute("disabled"),C.removeAttribute("tabindex")):(C.setAttribute("disabled",""),C.setAttribute("tabindex","-1"))}}catch(e){P=!0,O=e}finally{try{E||null==M.return||M.return()}finally{if(P)throw O}}var L=!0,A=!1,z=void 0;try{for(var D,R=t.querySelectorAll('[data-panzoom-action="toggleZoom"],[data-panzoom-action="iterateZoom"]')[Symbol.iterator]();!(L=(D=R.next()).done);L=!0){var j=D.value;u||h?(j.removeAttribute("disabled"),j.removeAttribute("tabindex")):(j.setAttribute("disabled",""),j.setAttribute("tabindex","-1"));var I=j.querySelector("g");I&&(I.style.display=u?"":"none")}}catch(e){A=!0,z=e}finally{try{L||null==R.return||R.return()}finally{if(A)throw z}}}},{key:"panTo",value:function(e){var t=e.x,i=void 0===t?this.target.e:t,n=e.y,a=void 0===n?this.target.f:n,r=e.scale,o=void 0===r?this.targetScale:r,s=e.friction,l=void 0===s?this.option("friction"):s,c=e.angle,u=void 0===c?0:c,h=e.originX,d=void 0===h?0:h,f=e.originY,v=void 0===f?0:f,p=e.flipX,g=void 0!==p&&p,m=e.flipY,y=void 0!==m&&m,b=e.ignoreBounds,w=void 0!==b&&b;this.state!==A.Destroy&&this.applyChange({panX:i-this.target.e,panY:a-this.target.f,scale:o/this.targetScale,angle:u,originX:d,originY:v,friction:l,flipX:g,flipY:y,ignoreBounds:w})}},{key:"applyChange",value:function(e){var t=e.panX,i=void 0===t?0:t,n=e.panY,a=void 0===n?0:n,r=e.scale,o=void 0===r?1:r,s=e.angle,l=void 0===s?0:s,c=e.originX,u=void 0===c?-this.current.e:c,h=e.originY,d=void 0===h?-this.current.f:h,f=e.friction,v=void 0===f?this.option("friction"):f,p=e.flipX,m=void 0!==p&&p,y=e.flipY,b=void 0!==y&&y,w=e.ignoreBounds,k=void 0!==w&&w,x=e.bounce,S=void 0===x?this.option("bounce"):x;if(this.state!==A.Destroy){this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.friction=v||0,this.ignoreBounds=k;var E=this.current,P=E.e,O=E.f,T=this.getMatrix(this.target),M=(new DOMMatrix).translate(P,O).translate(u,d).translate(i,a);if(this.option("zoom")){if(!k){var C=this.targetScale,L=this.minScale,z=this.maxScale;C*o<L&&(o=L/C),C*o>z&&(o=z/C)}M=M.scale(o)}M=M.translate(-u,-d).translate(-P,-O).multiply(T),l&&(M=M.rotate(l)),m&&(M=M.scale(-1,1)),b&&(M=M.scale(1,-1));var D=!0,j=!1,I=void 0;try{for(var F,_=R[Symbol.iterator]();!(D=(F=_.next()).done);D=!0){var H=F.value;"e"!==H&&"f"!==H&&(M[H]>this.minScale+1e-5||M[H]<this.minScale-1e-5)?this.target[H]=M[H]:this.target[H]=g(M[H],W)}}catch(e){j=!0,I=e}finally{try{D||null==_.return||_.return()}finally{if(j)throw I}}(this.targetScale<this.scale||Math.abs(o-1)>.1||this.panMode===X||!1===S)&&!k&&this.clampTargetBounds(),this.isResting||(this.state=A.Panning,this.requestTick())}}},{key:"stop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.state!==A.Init&&this.state!==A.Destroy){var t=this.isTicking;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;var i=!0,n=!1,a=void 0;try{for(var r,o=R[Symbol.iterator]();!(i=(r=o.next()).done);i=!0){var s=r.value;this.velocity[s]=0,"current"===e?this.current[s]=this.target[s]:"target"===e&&(this.target[s]=this.current[s])}}catch(e){n=!0,a=e}finally{try{i||null==o.return||o.return()}finally{if(n)throw a}}this.setTransform(),H(this.container,"is-scaling"),H(this.container,"is-animating"),this.isTicking=!1,this.state=A.Ready,t&&(this.emit("endAnimation"),this.updateControls())}}},{key:"requestTick",value:function(){var e=this;this.isTicking||(this.emit("startAnimation"),this.updateControls(),N(this.container,"is-animating"),this.isScaling&&N(this.container,"is-scaling")),this.isTicking=!0,this.rAF||(this.rAF=requestAnimationFrame((function(){return e.animate()})))}},{key:"panWithMouse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.option("mouseMoveFriction");if(this.pmme=e,this.panMode===X&&e&&!(g(this.targetScale)<=g(this.minScale))){this.emit("mouseMove",e);var i=this,n=i.container,a=i.containerRect,r=i.contentRect,o=a.width,s=a.height,l=n.getBoundingClientRect(),c=(e.clientX||0)-l.left,u=(e.clientY||0)-l.top,h=this.calculateContentDim(this.target),d=h.contentWidth,f=h.contentHeight,v=this.option("mouseMoveFactor");v>1&&(d!==o&&(d*=v),f!==s&&(f*=v));var p=.5*(d-o)-c/o*100/100*(d-o);p+=.5*(r.right-r.left);var m=.5*(f-s)-u/s*100/100*(f-s);m+=.5*(r.bottom-r.top),this.applyChange({panX:p-this.target.e,panY:m-this.target.f,friction:t})}}},{key:"zoomWithWheel",value:function(e){if(this.state!==A.Destroy&&this.state!==A.Init){var t=Date.now();if(t-this.pwt<45)e.preventDefault();else{this.pwt=t;var i=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce((function(e,t){return Math.abs(t)>Math.abs(e)?t:e})),n=Math.max(-1,Math.min(1,i)),a=this,r=a.targetScale,o=a.maxScale,s=a.minScale,l=r*(100+45*n)/100;g(l)<g(s)&&g(r)<=g(s)?(this.cwd+=Math.abs(n),l=s):g(l)>g(o)&&g(r)>=g(o)?(this.cwd+=Math.abs(n),l=o):(this.cwd=0,l=Math.max(Math.min(l,o),s)),this.cwd>this.option("wheelLimit")||(e.preventDefault(),g(l)!==g(r)&&this.zoomTo(l,{event:e}))}}}},{key:"canZoomIn",value:function(){return this.option("zoom")&&(g(this.contentRect.width,1)<g(this.contentRect.fitWidth,1)||g(this.targetScale)<g(this.maxScale))}},{key:"canZoomOut",value:function(){return this.option("zoom")&&g(this.targetScale)>g(this.minScale)}},{key:"zoomIn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1.25,t=arguments.length>1?arguments[1]:void 0;this.zoomTo(this.targetScale*e,t)}},{key:"zoomOut",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.8,t=arguments.length>1?arguments[1]:void 0;this.zoomTo(this.targetScale*e,t)}},{key:"zoomToFit",value:function(e){this.zoomTo("fit",e)}},{key:"zoomToCover",value:function(e){this.zoomTo("cover",e)}},{key:"zoomToFull",value:function(e){this.zoomTo("full",e)}},{key:"zoomToMax",value:function(e){this.zoomTo("max",e)}},{key:"toggleZoom",value:function(e){this.zoomTo(this.targetScale-this.minScale<.5*(this.fullScale-this.minScale)?"full":"fit",e)}},{key:"toggleMax",value:function(e){this.zoomTo(this.targetScale-this.minScale<.5*(this.maxScale-this.minScale)?"max":"fit",e)}},{key:"toggleCover",value:function(e){this.zoomTo(this.targetScale-this.minScale<.5*(this.coverScale-this.minScale)?"cover":"fit",e)}},{key:"iterateZoom",value:function(e){this.zoomTo("next",e)}},{key:"zoomTo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.friction,n=void 0===i?"auto":i,a=t.originX,r=void 0===a?"auto":a,o=t.originY,s=void 0===o?"auto":o,l=t.event;if(!this.isContentLoading&&this.state!==A.Destroy){var c=this,u=c.targetScale;this.stop();var h=1;if(this.panMode===X&&(l=this.pmme||l),l||"auto"===r||"auto"===s){var d=this.content.getBoundingClientRect(),f=this.container.getBoundingClientRect(),v=l?l.clientX:f.left+.5*f.width,p=l?l.clientY:f.top+.5*f.height;r=v-d.left-.5*d.width,s=p-d.top-.5*d.height}var g=this.fullScale,m=this.maxScale,y=this.coverScale;"number"==typeof e?h=e/u:("next"===e&&(g-y<.2&&(y=g),e=u<g-1e-5?"full":u<m-1e-5?"max":"fit"),h="full"===e?g/u||1:"cover"===e?y/u||1:"max"===e?m/u||1:1/u||1),n="auto"===n?h>1?.15:.25:n,this.applyChange({scale:h,originX:r,originY:s,friction:n}),l&&this.panMode===X&&this.panWithMouse(l,n)}}},{key:"rotateCCW",value:function(){this.applyChange({angle:-90})}},{key:"rotateCW",value:function(){this.applyChange({angle:90})}},{key:"flipX",value:function(){this.applyChange({flipX:!0})}},{key:"flipY",value:function(){this.applyChange({flipY:!0})}},{key:"fitX",value:function(){this.stop("target");var e=this,t=e.containerRect,i=e.contentRect,n=e.target;this.applyChange({panX:.5*t.width-(i.left+.5*i.fitWidth)-n.e,panY:.5*t.height-(i.top+.5*i.fitHeight)-n.f,scale:t.width/i.fitWidth/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}},{key:"fitY",value:function(){this.stop("target");var e=this,t=e.containerRect,i=e.contentRect,n=e.target;this.applyChange({panX:.5*t.width-(i.left+.5*i.fitWidth)-n.e,panY:.5*t.innerHeight-(i.top+.5*i.fitHeight)-n.f,scale:t.height/i.fitHeight/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}},{key:"toggleFS",value:function(){var e=this.container,t=this.cn("inFullscreen"),i=this.cn("htmlHasFullscreen");e.classList.toggle(t);var n=e.classList.contains(t);n?(document.documentElement.classList.add(i),document.addEventListener("keydown",this.onKeydown,!0)):(document.documentElement.classList.remove(i),document.removeEventListener("keydown",this.onKeydown,!0)),this.updateMetrics(),this.emit(n?"enterFS":"exitFS")}},{key:"getMatrix",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current,t=e.a,i=e.b,n=e.c,a=e.d,r=e.e,o=e.f;return new DOMMatrix([t,i,n,a,r,o])}},{key:"reset",value:function(e){if(this.state!==A.Init&&this.state!==A.Destroy){this.stop("current");var t=!0,i=!1,n=void 0;try{for(var a,r=R[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var o=a.value;this.target[o]=B[o]}}catch(e){i=!0,n=e}finally{try{t||null==r.return||r.return()}finally{if(i)throw n}}this.target.a=this.minScale,this.target.d=this.minScale,this.clampTargetBounds(),this.isResting||(this.friction=void 0===e?this.option("friction"):e,this.state=A.Panning,this.requestTick())}}},{key:"destroy",value:function(){this.stop(),this.state=A.Destroy,this.detachEvents(),this.detachObserver();var e=this.container,t=this.content,i=this.option("classes")||{},n=!0,a=!1,r=void 0;try{for(var o,s=Object.values(i)[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;e.classList.remove(l+"")}}catch(e){a=!0,r=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}t&&(t.removeEventListener("load",this.onLoad),t.removeEventListener("error",this.onError)),this.detachPlugins()}}]),n}(D);Object.defineProperty(G,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:I}),Object.defineProperty(G,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}});var U,K,J=function(e,i){var n=!0;return function(){for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];n&&(n=!1,e.apply(void 0,t(v)(r)),setTimeout((function(){n=!0}),i))}},Q=function(e,t){var i=[];return e.childNodes.forEach((function(e){e.nodeType!==Node.ELEMENT_NODE||t&&!e.matches(t)||i.push(e)})),i};(K=U||(U={}))[K.Init=0]="Init",K[K.Ready=1]="Ready",K[K.Destroy=2]="Destroy";var $=function(e){if("string"==typeof e||e instanceof HTMLElement)e={html:e};else{var t=e.thumb;void 0!==t&&("string"==typeof t&&(e.thumbSrc=t),t instanceof HTMLImageElement&&(e.thumbEl=t,e.thumbElSrc=t.src,e.thumbSrc=t.src),delete e.thumb)}return Object.assign({html:"",el:null,isDom:!1,class:"",customClass:"",index:-1,dim:0,gap:0,pos:0,transition:!1},e)},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({index:-1,slides:[],dim:0,pos:-1},e)},te=function(e){"use strict";t(h)(n,e);var i=t(p)(n);function n(e,r){var s;return t(o)(this,n),s=i.call(this,r),Object.defineProperty(t(a)(s),"instance",{enumerable:!0,configurable:!0,writable:!0,value:e}),t(d)(s)}return t(s)(n,[{key:"attach",value:function(){}},{key:"detach",value:function(){}}]),n}(L),ie=function(e){"use strict";t(h)(n,e);var i=t(p)(n);function n(){var e;return t(o)(this,n),e=i.call.apply(i,[this].concat(Array.prototype.slice.call(arguments))),Object.defineProperty(t(a)(e),"isDynamic",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(t(a)(e),"list",{enumerable:!0,configurable:!0,writable:!0,value:null}),t(d)(e)}return t(s)(n,[{key:"onRefresh",value:function(){this.refresh()}},{key:"build",value:function(){var e=this.list;return e||(e=document.createElement("ul"),N(e,this.cn("list")),e.setAttribute("role","tablist"),this.instance.container.appendChild(e),N(this.instance.container,this.cn("hasDots")),this.list=e),e}},{key:"refresh",value:function(){var e,i=this.instance.pages.length,n=Math.min(2,this.option("minCount")),a=Math.max(2e3,this.option("maxCount")),r=this.option("dynamicFrom");if(i<n||i>a)this.cleanup();else{var o="number"==typeof r&&i>5&&i>=r,s=!this.list||this.isDynamic!==o||this.list.children.length!==i;s&&this.cleanup();var l=this.build();if(k(l,this.cn("isDynamic"),!!o),s)for(var c=0;c<i;c++)l.append(this.createItem(c));var u,h=0,d=!0,f=!1,p=void 0;try{for(var g,m=t(v)(l.children)[Symbol.iterator]();!(d=(g=m.next()).done);d=!0){var y=g.value,b=h===this.instance.page;b&&(u=y),k(y,this.cn("isCurrent"),b),null===(e=y.children[0])||void 0===e||e.setAttribute("aria-selected",b?"true":"false");var w=!0,x=!1,S=void 0;try{for(var E,P=["isBeforePrev","isPrev","isNext","isAfterNext"][Symbol.iterator]();!(w=(E=P.next()).done);w=!0){var O=E.value;H(y,this.cn(O))}}catch(e){x=!0,S=e}finally{try{w||null==P.return||P.return()}finally{if(x)throw S}}h++}}catch(e){f=!0,p=e}finally{try{d||null==m.return||m.return()}finally{if(f)throw p}}if(u=u||l.firstChild,o&&u){var T=u.previousElementSibling,M=T&&T.previousElementSibling;N(T,this.cn("isPrev")),N(M,this.cn("isBeforePrev"));var C=u.nextElementSibling,L=C&&C.nextElementSibling;N(C,this.cn("isNext")),N(L,this.cn("isAfterNext"))}this.isDynamic=o}}},{key:"createItem",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=document.createElement("li");i.setAttribute("role","presentation");var n=b(this.instance.localize(this.option("dotTpl"),[["%d",t+1]]).replace(/\%i/g,t+""));return i.appendChild(n),null===(e=i.children[0])||void 0===e||e.setAttribute("role","tab"),i}},{key:"cleanup",value:function(){this.list&&(this.list.remove(),this.list=null),this.isDynamic=!1,H(this.instance.container,this.cn("hasDots"))}},{key:"attach",value:function(){this.instance.on(["refresh","change"],this.onRefresh)}},{key:"detach",value:function(){this.instance.off(["refresh","change"],this.onRefresh),this.cleanup()}}]),n}(te);Object.defineProperty(ie,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{classes:{list:"f-carousel__dots",isDynamic:"is-dynamic",hasDots:"has-dots",dot:"f-carousel__dot",isBeforePrev:"is-before-prev",isPrev:"is-prev",isCurrent:"is-current",isNext:"is-next",isAfterNext:"is-after-next"},dotTpl:'<button type="button" data-carousel-page="%i" aria-label="{{GOTO}}"><span class="f-carousel__dot" aria-hidden="true"></span></button>',dynamicFrom:11,maxCount:1/0,minCount:2}});var ne="disabled",ae="next",re="prev",oe=function(e){"use strict";t(h)(n,e);var i=t(p)(n);function n(){var e;return t(o)(this,n),e=i.call.apply(i,[this].concat(Array.prototype.slice.call(arguments))),Object.defineProperty(t(a)(e),"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t(a)(e),"prev",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t(a)(e),"next",{enumerable:!0,configurable:!0,writable:!0,value:null}),t(d)(e)}return t(s)(n,[{key:"onRefresh",value:function(){var e=this.instance,t=e.pages.length,i=e.page;if(t<2)this.cleanup();else{this.build();var n=this.prev,a=this.next;n&&a&&(n.removeAttribute(ne),a.removeAttribute(ne),e.isInfinite||(i<=0&&n.setAttribute(ne,""),i>=t-1&&a.setAttribute(ne,"")))}}},{key:"createButton",value:function(e){var t=this.instance,i=document.createElement("button");i.setAttribute("tabindex","0"),i.setAttribute("title",t.localize("{{".concat(e.toUpperCase(),"}}"))),N(i,this.cn("button")+" "+this.cn(e===ae?"isNext":"isPrev"));var n,a=t.isRTL?e===ae?re:ae:e;return i.innerHTML=t.localize(this.option("".concat(a,"Tpl"))),i.dataset["carousel".concat((n=e,n?n.match("^[a-z]")?n.charAt(0).toUpperCase()+n.substring(1):n:""))]="true",i}},{key:"build",value:function(){var e=this.container;e||(this.container=e=document.createElement("div"),N(e,this.cn("container")),this.instance.container.appendChild(e)),this.next||(this.next=e.appendChild(this.createButton(ae))),this.prev||(this.prev=e.appendChild(this.createButton(re)))}},{key:"cleanup",value:function(){this.prev&&this.prev.remove(),this.next&&this.next.remove(),this.container&&this.container.remove(),this.prev=null,this.next=null,this.container=null}},{key:"attach",value:function(){this.instance.on(["refresh","change"],this.onRefresh)}},{key:"detach",value:function(){this.instance.off(["refresh","change"],this.onRefresh),this.cleanup()}}]),n}(te);Object.defineProperty(oe,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{classes:{container:"f-carousel__nav",button:"f-button",isNext:"is-next",isPrev:"is-prev"},nextTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M9 3l9 9-9 9"/></svg>',prevTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M15 3l-9 9 9 9"/></svg>'}});var se=function(e){"use strict";t(h)(n,e);var i=t(p)(n);function n(){var e;return t(o)(this,n),e=i.call.apply(i,[this].concat(Array.prototype.slice.call(arguments))),Object.defineProperty(t(a)(e),"selectedIndex",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t(a)(e),"target",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t(a)(e),"nav",{enumerable:!0,configurable:!0,writable:!0,value:null}),t(d)(e)}return t(s)(n,[{key:"addAsTargetFor",value:function(e){this.target=this.instance,this.nav=e,this.attachEvents()}},{key:"addAsNavFor",value:function(e){this.nav=this.instance,this.target=e,this.attachEvents()}},{key:"attachEvents",value:function(){this.nav&&this.target&&(this.nav.options.initialSlide=this.target.options.initialPage,this.nav.on("ready",this.onNavReady),this.nav.state===U.Ready&&this.onNavReady(this.nav),this.target.on("ready",this.onTargetReady),this.target.state===U.Ready&&this.onTargetReady(this.target))}},{key:"onNavReady",value:function(e){e.on("createSlide",this.onNavCreateSlide),e.on("Panzoom.click",this.onNavClick),e.on("Panzoom.touchEnd",this.onNavTouch),this.onTargetChange()}},{key:"onTargetReady",value:function(e){e.on("change",this.onTargetChange),e.on("Panzoom.refresh",this.onTargetChange),this.onTargetChange()}},{key:"onNavClick",value:function(e,t,i){this.onNavTouch(e,e.panzoom,i)}},{key:"onNavTouch",value:function(e,t,i){var n,a;if(!(Math.abs(t.dragOffset.x)>3||Math.abs(t.dragOffset.y)>3)){var r=i.target,o=this.nav,s=this.target;if(o&&s&&r){var l=r.closest("[data-index]");if(i.stopPropagation(),i.preventDefault(),l){var c=parseInt(l.dataset.index||"",10)||0,u=s.getPageForSlide(c),h=o.getPageForSlide(c);o.slideTo(h),s.slideTo(u,{friction:(null===(a=null===(n=this.nav)||void 0===n?void 0:n.plugins)||void 0===a?void 0:a.Sync.option("friction"))||0}),this.markSelectedSlide(c)}}}}},{key:"onNavCreateSlide",value:function(e,t){t.index===this.selectedIndex&&this.markSelectedSlide(t.index)}},{key:"onTargetChange",value:function(){var e=this.target,t=this.nav;if(e&&t&&t.state===U.Ready&&e.state===U.Ready){var i=e.pages[e.page].slides[0].index,n=t.getPageForSlide(i);this.markSelectedSlide(i),t.slideTo(n)}}},{key:"markSelectedSlide",value:function(e){var i=this.nav;i&&i.state===U.Ready&&(this.selectedIndex=e,t(v)(i.slides).map((function(t){t.el&&t.el.classList[t.index===e?"add":"remove"]("is-nav-selected")})))}},{key:"attach",value:function(){var e=this,t=e.options.target,i=e.options.nav;t?e.addAsNavFor(t):i&&e.addAsTargetFor(i)}},{key:"detach",value:function(){var e=this,t=e.nav,i=e.target;t&&(t.off("ready",e.onNavReady),t.off("createSlide",e.onNavCreateSlide),t.off("Panzoom.click",e.onNavClick),t.off("Panzoom.touchEnd",e.onNavTouch)),e.nav=null,i&&(i.off("ready",e.onTargetReady),i.off("refresh",e.onTargetChange),i.off("change",e.onTargetChange)),e.target=null}}]),n}(te);Object.defineProperty(se,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{friction:.35}});var le={Navigation:oe,Dots:ie,Sync:se},ce=function(e){"use strict";t(h)(n,e);var i=t(p)(n);function n(e){var r,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t(o)(this,n),r=i.call(this),Object.defineProperty(t(a)(r),"userOptions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(t(a)(r),"userPlugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(t(a)(r),"bp",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(t(a)(r),"lp",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(t(a)(r),"state",{enumerable:!0,configurable:!0,writable:!0,value:U.Init}),Object.defineProperty(t(a)(r),"page",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(t(a)(r),"prevPage",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t(a)(r),"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t(a)(r),"viewport",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t(a)(r),"track",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t(a)(r),"slides",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(t(a)(r),"pages",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(t(a)(r),"panzoom",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t(a)(r),"inTransition",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(t(a)(r),"contentDim",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(t(a)(r),"viewportDim",{enumerable:!0,configurable:!0,writable:!0,value:0}),"string"==typeof e&&(e=document.querySelector(e)),!e||!_(e))throw new Error("No Element found");return r.container=e,r.slideNext=J(r.slideNext.bind(t(a)(r)),150),r.slidePrev=J(r.slidePrev.bind(t(a)(r)),150),r.userOptions=s,r.userPlugins=l,queueMicrotask((function(){r.processOptions()})),t(d)(r)}return t(s)(n,[{key:"axis",get:function(){return this.isHorizontal?"e":"f"}},{key:"isEnabled",get:function(){return this.state===U.Ready}},{key:"isInfinite",get:function(){var e=!1,t=this,i=t.contentDim,n=t.viewportDim,a=t.pages,r=t.slides;return a.length>=2&&i+r[0].dim>=n&&(e=this.option("infinite")),e}},{key:"isRTL",get:function(){return"rtl"===this.option("direction")}},{key:"isHorizontal",get:function(){return"x"===this.option("axis")}},{key:"processOptions",value:function(){var e=this,i=M({},n.defaults,this.userOptions),a="",r=i.breakpoints,o=!0,s=!1,l=void 0;if(r&&T(r))try{for(var h,d=Object.entries(r)[Symbol.iterator]();!(o=(h=d.next()).done);o=!0){var v=t(f)(h.value,2),p=v[0],g=v[1];window.matchMedia(p).matches&&T(g)&&(a+=p,M(i,g))}}catch(e){s=!0,l=e}finally{try{o||null==d.return||d.return()}finally{if(s)throw l}}a===this.bp&&this.state!==U.Init||(this.bp=a,this.state===U.Ready&&(i.initialSlide=this.pages[this.page].slides[0].index),this.state!==U.Init&&this.destroy(),t(c)(t(u)(n.prototype),"setOptions",this).call(this,i),!1===this.option("enabled")?this.attachEvents():setTimeout((function(){e.init()}),0))}},{key:"init",value:function(){this.state=U.Init,this.emit("init"),this.attachPlugins(Object.assign(Object.assign({},n.Plugins),this.userPlugins)),this.initLayout(),this.initSlides(),this.updateMetrics(),this.setInitialPosition(),this.initPanzoom(),this.attachEvents(),this.state=U.Ready,this.emit("ready")}},{key:"initLayout",value:function(){var e,i,n=this.container,a=this.option("classes");N(n,this.cn("container")),k(n,a.isLTR,!this.isRTL),k(n,a.isRTL,this.isRTL),k(n,a.isVertical,!this.isHorizontal),k(n,a.isHorizontal,this.isHorizontal);var r=this.option("viewport")||n.querySelector(".".concat(a.viewport));r||(r=document.createElement("div"),N(r,a.viewport),(e=r).append.apply(e,t(v)(Q(n,".".concat(a.slide)))),n.prepend(r));var o=this.option("track")||n.querySelector(".".concat(a.track));o||(o=document.createElement("div"),N(o,a.track),(i=o).append.apply(i,t(v)(Array.from(r.childNodes)))),o.setAttribute("aria-live","polite"),r.contains(o)||r.prepend(o),this.viewport=r,this.track=o,this.emit("initLayout")}},{key:"initSlides",value:function(){var e=this.track;if(e){var i=this;this.slides=[],t(v)(Q(e,".".concat(this.cn("slide")))).forEach((function(e){if(_(e)){var t=$({el:e,isDom:!0,index:i.slides.length});i.slides.push(t),i.emit("initSlide",t,i.slides.length)}}));var n=!0,a=!1,r=void 0;try{for(var o,s=this.option("slides",[])[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value,c=$(l);c.index=this.slides.length,this.slides.push(c),this.emit("initSlide",c,this.slides.length)}}catch(e){a=!0,r=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}this.emit("initSlides")}}},{key:"setInitialPage",value:function(){var e,t=this.option("initialSlide");e="number"==typeof t?this.getPageForSlide(t):parseInt(this.option("initialPage",0)+"",10)||0,this.page=e}},{key:"setInitialPosition",value:function(){if(this.track&&this.pages.length){var e=this.isHorizontal,t=this.page;this.pages[t]||(this.page=t=0);var i=this.pages[t].pos*(this.isRTL&&e?1:-1),n=e?"".concat(i,"px"):"0",a=e?"0":"".concat(i,"px");this.track.style.transform="translate3d(".concat(n,", ").concat(a,", 0) scale(1)"),this.option("adaptiveHeight")&&this.setViewportHeight()}}},{key:"initPanzoom",value:function(){var e=this;this.panzoom&&(this.panzoom.destroy(),this.panzoom=null);var i=this.option("Panzoom")||{};this.panzoom=new G(this.viewport,M({},{content:this.track,zoom:!1,panOnlyZoomed:!1,lockAxis:this.isHorizontal?"x":"y",infinite:this.isInfinite,click:!1,dblClick:!1,touch:function(t){return!(e.pages.length<2&&!t.options.infinite)},bounds:function(){return e.getBounds()},maxVelocity:function(t){return Math.abs(t.target[e.axis]-t.current[e.axis])<2*e.viewportDim?100:0}},i)),this.panzoom.on("*",(function(i,n){for(var a=arguments.length,r=new Array(a>2?a-2:0),o=2;o<a;o++)r[o-2]=arguments[o];e.emit.apply(e,["Panzoom.".concat(n),i].concat(t(v)(r)))})),this.panzoom.on("decel",this.onDecel),this.panzoom.on("refresh",this.onRefresh),this.panzoom.on("beforeTransform",this.onBeforeTransform),this.panzoom.on("endAnimation",this.onEndAnimation)}},{key:"attachEvents",value:function(){var e=this.container;e&&(e.addEventListener("click",this.onClick,{passive:!1,capture:!1}),e.addEventListener("slideTo",this.onSlideTo)),window.addEventListener("resize",this.onResize)}},{key:"createPages",value:function(){var e=[],t=this.contentDim,i=this.viewportDim,n=this.option("slidesPerPage");("number"!=typeof n||t<=i)&&(n=1/0);var a=0,r=0,o=0,s=!0,l=!1,c=void 0;try{for(var u,h=this.slides[Symbol.iterator]();!(s=(u=h.next()).done);s=!0){var d=u.value;(!e.length||r+d.dim>i||o===n)&&(e.push(ee()),a=e.length-1,r=0,o=0),e[a].slides.push(d),r+=d.dim+d.gap,o++}}catch(e){l=!0,c=e}finally{try{s||null==h.return||h.return()}finally{if(l)throw c}}return e}},{key:"processPages",value:function(){var e=this,i=this.pages,n=this.contentDim,a=this.viewportDim,r=this.option("center"),o=this.option("fill"),s=o&&r&&n>a&&!this.isInfinite;if(i.forEach((function(e,i){e.index=i,e.pos=e.slides[0].pos,e.dim=0;var o=!0,l=!1,c=void 0;try{for(var u,h=e.slides.entries()[Symbol.iterator]();!(o=(u=h.next()).done);o=!0){var d=t(f)(u.value,2),v=d[0],p=d[1];e.dim+=p.dim,v<e.slides.length-1&&(e.dim+=p.gap)}}catch(e){l=!0,c=e}finally{try{o||null==h.return||h.return()}finally{if(l)throw c}}s&&e.pos+.5*e.dim<.5*a?e.pos=0:s&&e.pos+.5*e.dim>=n-.5*a?e.pos=n-a:r&&(e.pos+=-.5*(a-e.dim))})),i.forEach((function(t,i){o&&!e.isInfinite&&n>a&&(t.pos=Math.max(t.pos,0),t.pos=Math.min(t.pos,n-a)),t.pos=g(t.pos,1e3),t.dim=g(t.dim,1e3),Math.abs(t.pos)<=.1&&(t.pos=0)})),this.isInfinite)return i;var l,c=[];return i.forEach((function(e){var i=Object.assign({},e);l&&i.pos===l.pos?(l.dim+=i.dim,l.slides=t(v)(l.slides).concat(t(v)(i.slides))):(i.index=c.length,l=i,c.push(i))})),c}},{key:"getPageFromIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.pages.length;return e=parseInt((e||0).toString())||0,this.isInfinite?(e%t+t)%t:Math.max(Math.min(e,t-1),0)}},{key:"getSlideMetrics",value:function(e){var t,i,n,a=this.isHorizontal?"width":"height",r=0,o=e.el,s=o&&!o.parentNode;if(o?r=parseFloat(o.dataset[a]||"")||0:((o=document.createElement("div")).style.visibility="hidden",(this.track||document.body).prepend(o)),N(o,this.cn("slide")+" "+e.class+" "+e.customClass),r)o.style[a]="".concat(r,"px"),o.style["width"===a?"height":"width"]="";else{s&&(this.track||document.body).prepend(o);var l=Math.max(1,(null===(t=window.visualViewport)||void 0===t?void 0:t.scale)||1);r=o.getBoundingClientRect()[a]*l}var c=getComputedStyle(o);return"content-box"===c.boxSizing&&(this.isHorizontal?(r+=parseFloat(c.paddingLeft)||0,r+=parseFloat(c.paddingRight)||0):(r+=parseFloat(c.paddingTop)||0,r+=parseFloat(c.paddingBottom)||0)),n=parseFloat(c[this.isHorizontal?"marginRight":"marginBottom"])||0,s?null===(i=o.parentElement)||void 0===i||i.removeChild(o):e.el||o.remove(),{dim:g(r,1e3),gap:g(n,1e3)}}},{key:"getBounds",value:function(){var e=this,t=e.isInfinite,i=e.isRTL,n=e.isHorizontal,a=e.pages,r={min:0,max:0};if(t)r={min:-1/0,max:1/0};else if(a.length){var o=a[0].pos,s=a[a.length-1].pos;r=i&&n?{min:o,max:s}:{min:-1*s,max:-1*o}}return{x:n?r:{min:0,max:0},y:n?{min:0,max:0}:r}}},{key:"repositionSlides",value:function(){var e,i=this,n=i.isHorizontal,a=i.isRTL,r=i.isInfinite,o=i.viewport,s=i.viewportDim,l=i.contentDim,c=i.page,u=i.pages,h=i.slides,d=i.panzoom,f=0,p=0,m=0,y=0;d?y=-1*d.current[this.axis]:u[c]&&(y=u[c].pos||0),e=n?a?"right":"left":"top",a&&n&&(y*=-1);var b=!0,w=!1,k=void 0;try{for(var x,S=h[Symbol.iterator]();!(b=(x=S.next()).done);b=!0){var E=x.value;E.el?("top"===e?(E.el.style.right="",E.el.style.left=""):E.el.style.top="",E.index!==f?E.el.style[e]=0===p?"":"".concat(g(p,1e3),"px"):E.el.style[e]="",m+=E.dim+E.gap,f++):p+=E.dim+E.gap}}catch(e){w=!0,k=e}finally{try{b||null==S.return||S.return()}finally{if(w)throw k}}if(r&&m&&o){var P=getComputedStyle(o),O="padding",T=n?"Right":"Bottom",M=parseFloat(P[O+(n?"Left":"Top")]);y-=M,s+=M,s+=parseFloat(P[O+T]);var C=!0,L=!1,A=void 0;try{for(var z,D=h[Symbol.iterator]();!(C=(z=D.next()).done);C=!0){var R=z.value;R.el&&(g(R.pos)<g(s)&&g(R.pos+R.dim+R.gap)<g(y)&&g(y)>g(l-s)&&(R.el.style[e]="".concat(g(p+m,1e3),"px")),g(R.pos+R.gap)>=g(l-s)&&g(R.pos)>g(y+s)&&g(y)<g(s)&&(R.el.style[e]="-".concat(g(m,1e3),"px")))}}catch(e){L=!0,A=e}finally{try{C||null==D.return||D.return()}finally{if(L)throw A}}}var j,I,F=t(v)(this.inTransition);if(F.length>1&&(j=u[F[0]],I=u[F[1]]),j&&I){var _=0,H=!0,N=!1,B=void 0;try{for(var W,X=h[Symbol.iterator]();!(H=(W=X.next()).done);H=!0){var Y=W.value;Y.el?this.inTransition.has(Y.index)&&j.slides.indexOf(Y)<0&&(Y.el.style[e]="".concat(g(_+(j.pos-I.pos),1e3),"px")):_+=Y.dim+Y.gap}}catch(e){N=!0,B=e}finally{try{H||null==X.return||X.return()}finally{if(N)throw B}}}}},{key:"createSlideEl",value:function(e){var t=this.track,i=this.slides;if(t&&e&&(!e.el||!e.el.parentNode)){var n=e.el||document.createElement("div");N(n,this.cn("slide")),N(n,e.class),N(n,e.customClass);var a=e.html;a&&(a instanceof HTMLElement?n.appendChild(a):n.innerHTML=e.html+"");var r=[];i.forEach((function(e,t){e.el&&r.push(t)}));var o=e.index,s=null;r.length&&(s=i[r.reduce((function(e,t){return Math.abs(t-o)<Math.abs(e-o)?t:e}))]);var l=s&&s.el&&s.el.parentNode?s.index<e.index?s.el.nextSibling:s.el:null;t.insertBefore(n,t.contains(l)?l:null),e.el=n,this.emit("createSlide",e)}}},{key:"removeSlideEl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e.el;if(i&&i.parentNode){if(H(i,this.cn("isSelected")),e.isDom&&!t)return i.removeAttribute("aria-hidden"),i.removeAttribute("data-index"),H(i,this.cn("isSelected")),void(i.style.left="");this.emit("removeSlide",e);var n=new CustomEvent("animationend");i.dispatchEvent(n),e.el&&(e.el.remove(),e.el=null)}}},{key:"transitionTo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.option("transition");if(!t)return!1;var i=this,n=i.pages,a=i.panzoom;e=parseInt((e||0).toString())||0;var r=this.getPageFromIndex(e);if(!a||!n[r]||n.length<2||Math.abs(n[this.page].slides[0].dim-this.viewportDim)>1)return!1;var o=e>this.page?1:-1,s=this.pages[r].pos*(this.isRTL?1:-1);if(this.page===r&&Math.abs(s-a.target[this.axis])<1)return!1;this.clearTransitions();var l=a.isResting;N(this.container,this.cn("inTransition"));var c=this.pages[this.page].slides[0],u=this.pages[r].slides[0];this.inTransition.add(u.index),this.createSlideEl(u);var h=c.el,d=u.el;l||"slide"===t||(t="fadeFast",h=null);var f=this.isRTL?"next":"prev",v=this.isRTL?"prev":"next";return h&&(this.inTransition.add(c.index),c.transition=t,h.addEventListener("animationend",this.onAnimationEnd),h.classList.add("f-".concat(t,"Out"),"to-".concat(o>0?v:f))),d&&(u.transition=t,d.addEventListener("animationend",this.onAnimationEnd),d.classList.add("f-".concat(t,"In"),"from-".concat(o>0?f:v))),a.panTo({x:this.isHorizontal?s:0,y:this.isHorizontal?0:s,friction:0}),this.onChange(r),!0}},{key:"manageSlideVisiblity",value:function(){var e=new Set,t=new Set,i=this.getVisibleSlides(parseFloat(this.option("preload",0)+"")||0),n=!0,a=!1,r=void 0;try{for(var o,s=this.slides[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;i.has(l)?e.add(l):t.add(l)}}catch(e){a=!0,r=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}var c=!0,u=!1,h=void 0;try{for(var d,f=this.inTransition[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var v=d.value;e.add(this.slides[v])}}catch(e){u=!0,h=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw h}}var p=!0,g=!1,m=void 0;try{for(var y,b=e[Symbol.iterator]();!(p=(y=b.next()).done);p=!0){var w=y.value;this.createSlideEl(w),this.lazyLoadSlide(w)}}catch(e){g=!0,m=e}finally{try{p||null==b.return||b.return()}finally{if(g)throw m}}var k=!0,x=!1,S=void 0;try{for(var E,P=t[Symbol.iterator]();!(k=(E=P.next()).done);k=!0){var O=E.value;e.has(O)||this.removeSlideEl(O)}}catch(e){x=!0,S=e}finally{try{k||null==P.return||P.return()}finally{if(x)throw S}}this.markSelectedSlides(),this.repositionSlides()}},{key:"markSelectedSlides",value:function(){if(this.pages[this.page]&&this.pages[this.page].slides){var e="aria-hidden",t=this.cn("isSelected"),i=!0,n=!1,a=void 0;if(t)try{for(var r,o=this.slides[Symbol.iterator]();!(i=(r=o.next()).done);i=!0){var s=r.value;s.el&&(s.el.dataset.index="".concat(s.index),this.pages[this.page].slides.includes(s)?(s.el.classList.contains(t)||(N(s.el,t),this.emit("selectSlide",s)),s.el.removeAttribute(e)):(s.el.classList.contains(t)&&(H(s.el,t),this.emit("unselectSlide",s)),s.el.setAttribute(e,"true")))}}catch(e){n=!0,a=e}finally{try{i||null==o.return||o.return()}finally{if(n)throw a}}}}},{key:"flipInfiniteTrack",value:function(){var e=this.panzoom;if(e&&this.isInfinite){var t="x"===this.option("axis")?"e":"f",i=this.viewportDim,n=this.contentDim,a=e.current[t],r=e.target[t]-a,o=0,s=.5*i,l=n;this.isRTL&&this.isHorizontal?(a<-s&&(o=-1,a+=l),a>l-s&&(o=1,a-=l)):(a>s&&(o=1,a-=l),a<-l+s&&(o=-1,a+=l)),o&&(e.current[t]=a,e.target[t]=a+r)}}},{key:"lazyLoadSlide",value:function(e){var t=this,i=this,n=e&&e.el;if(n){var a=new Set,r="f-fadeIn";n.querySelectorAll("[data-lazy-srcset]").forEach((function(e){e instanceof HTMLImageElement&&a.add(e)}));var o=Array.from(n.querySelectorAll("[data-lazy-src]"));n.dataset.lazySrc&&o.push(n),o.map((function(e){e instanceof HTMLImageElement?a.add(e):_(e)&&(e.style.backgroundImage="url('".concat(e.dataset.lazySrc||"","')"),delete e.dataset.lazySrc)}));var s=function(e,n,a){a&&(a.remove(),a=null),n.complete&&(n.classList.add(r),setTimeout((function(){n.classList.remove(r)}),350),n.style.display=""),t.option("adaptiveHeight")&&e.el&&t.pages[t.page].slides.indexOf(e)>-1&&(i.updateMetrics(),i.setViewportHeight()),t.emit("load",e)},l=!0,c=!1,u=void 0;try{for(var h,d=function(t,i){var n=i.value,a=null;n.src=n.dataset.lazySrcset||n.dataset.lazySrc||"",delete n.dataset.lazySrc,delete n.dataset.lazySrcset,n.style.display="none",n.addEventListener("error",(function(){s(e,n,a)})),n.addEventListener("load",(function(){s(e,n,a)})),setTimeout((function(){n.parentNode&&e.el&&(n.complete?s(e,n,a):(a=b(F),n.parentNode.insertBefore(a,n)))}),300)},f=a[Symbol.iterator]();!(l=(h=f.next()).done);l=!0)d(0,h)}catch(e){c=!0,u=e}finally{try{l||null==f.return||f.return()}finally{if(c)throw u}}}}},{key:"onAnimationEnd",value:function(e){var t,i=e.target,n=i?parseInt(i.dataset.index||"",10)||0:-1,a=this.slides[n],r=e.animationName;if(i&&a&&r){var o=!!this.inTransition.has(n)&&a.transition;o&&r.substring(0,o.length+2)==="f-".concat(o)&&this.inTransition.delete(n),this.inTransition.size||this.clearTransitions(),n===this.page&&(null===(t=this.panzoom)||void 0===t?void 0:t.isResting)&&this.emit("settle")}}},{key:"onDecel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=this,o=r.isRTL,s=r.isHorizontal,l=r.axis,c=r.pages,u=c.length,h=Math.abs(Math.atan2(i,t)/(Math.PI/180)),d=0;if(d=h>45&&h<135?s?0:i:s?t:0,u){var f=this.option("dragFree"),v=this.page,p=o&&s?1:-1,g=e.target[l]*p,m=e.current[l]*p,y=this.getPageFromPosition(g),b=y.pageIndex,w=this.getPageFromPosition(m),k=w.pageIndex;f?this.onChange(b):(Math.abs(d)>5?(c[v].dim<document.documentElement["client"+(this.isHorizontal?"Width":"Height")]-1&&(v=k),v=o&&s?d<0?v-1:v+1:d<0?v+1:v-1):v=0===n&&0===a?v:k,this.slideTo(v,{transition:!1,friction:e.option("decelFriction")}))}}},{key:"onClick",value:function(e){var t,i,n=e.target,a=n&&_(n)?n.dataset:null;a&&(void 0!==a.carouselPage?(i="slideTo",t=a.carouselPage):void 0!==a.carouselNext?i="slideNext":void 0!==a.carouselPrev&&(i="slidePrev")),i?(e.preventDefault(),e.stopPropagation(),n&&!n.hasAttribute("disabled")&&this[i](t)):this.emit("click",e)}},{key:"onSlideTo",value:function(e){var t=e.detail||0;this.slideTo(this.getPageForSlide(t),{friction:0})}},{key:"onChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.page;this.prevPage=i,this.page=e,this.option("adaptiveHeight")&&this.setViewportHeight(),e!==i&&(this.markSelectedSlides(),this.emit("change",e,i,t))}},{key:"onRefresh",value:function(){var e=this.contentDim,t=this.viewportDim;this.updateMetrics(),this.contentDim===e&&this.viewportDim===t||this.slideTo(this.page,{friction:0,transition:!1})}},{key:"onResize",value:function(){this.option("breakpoints")&&this.processOptions()}},{key:"onBeforeTransform",value:function(e){this.lp!==e.current[this.axis]&&(this.flipInfiniteTrack(),this.manageSlideVisiblity()),this.lp=e.current.e}},{key:"onEndAnimation",value:function(){this.inTransition.size||this.emit("settle")}},{key:"reInit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.destroy(),this.state=U.Init,this.userOptions=e||this.userOptions,this.userPlugins=t||this.userPlugins,this.processOptions()}},{key:"slideTo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.friction,n=void 0===i?this.option("friction"):i,a=t.transition,r=void 0===a?this.option("transition"):a;if(this.state!==U.Destroy){var o=this,s=o.axis,l=o.isHorizontal,c=o.isRTL,u=o.pages,h=o.panzoom,d=u.length,f=c&&l?1:-1;if(h&&d&&!this.transitionTo(e,r)){var v=this.getPageFromIndex(e),p=u[v].pos;if(this.isInfinite){var g=this.contentDim,m=h.target[s]*f;if(2===d)p+=g*Math.floor(parseFloat(e+"")/2);else{var y=m;p=[p,p-g,p+g].reduce((function(e,t){return Math.abs(t-y)<Math.abs(e-y)?t:e}))}}p*=f,Math.abs(h.target[s]-p)<.1||(h.panTo({x:l?p:0,y:l?0:p,friction:n}),this.onChange(v))}}}},{key:"slideToClosest",value:function(e){if(this.panzoom){var t=this.getPageFromPosition(this.panzoom.current[this.isHorizontal?"e":"f"]).pageIndex;this.slideTo(t,e)}}},{key:"slideNext",value:function(){this.slideTo(this.page+1)}},{key:"slidePrev",value:function(){this.slideTo(this.page-1)}},{key:"clearTransitions",value:function(){this.inTransition.clear(),H(this.container,this.cn("inTransition"));var e=["to-prev","to-next","from-prev","from-next"],i=!0,n=!1,a=void 0;try{for(var r,o=this.slides[Symbol.iterator]();!(i=(r=o.next()).done);i=!0){var s=r.value,l=s.el;if(l){var c;l.removeEventListener("animationend",this.onAnimationEnd),(c=l.classList).remove.apply(c,t(v)(e));var u=s.transition;u&&l.classList.remove("f-".concat(u,"Out"),"f-".concat(u,"In"))}}}catch(e){n=!0,a=e}finally{try{i||null==o.return||o.return()}finally{if(n)throw a}}this.manageSlideVisiblity()}},{key:"prependSlide",value:function(e){var t,i,n=Array.isArray(e)?e:[e],a=!0,r=!1,o=void 0;try{for(var s,l=n.reverse()[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var c=s.value;this.slides.unshift($(c))}}catch(e){r=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}for(var u=0;u<this.slides.length;u++)this.slides[u].index=u;var h=(null===(t=this.pages[this.page])||void 0===t?void 0:t.pos)||0;this.page+=n.length,this.updateMetrics();var d=(null===(i=this.pages[this.page])||void 0===i?void 0:i.pos)||0;if(this.panzoom){var f=this.isRTL?h-d:d-h;this.panzoom.target.e-=f,this.panzoom.current.e-=f,this.panzoom.requestTick()}}},{key:"appendSlide",value:function(e){var t=Array.isArray(e)?e:[e],i=!0,n=!1,a=void 0;try{for(var r,o=t[Symbol.iterator]();!(i=(r=o.next()).done);i=!0){var s=r.value,l=$(s);l.index=this.slides.length,this.slides.push(l),this.emit("initSlide",l,this.slides.length)}}catch(e){n=!0,a=e}finally{try{i||null==o.return||o.return()}finally{if(n)throw a}}this.updateMetrics()}},{key:"removeSlide",value:function(e){var t=this.slides.length;e=(e%t+t)%t,this.removeSlideEl(this.slides[e],!0),this.slides.splice(e,1);for(var i=0;i<this.slides.length;i++)this.slides[i].index=i;this.updateMetrics(),this.slideTo(this.page,{friction:0,transition:!1})}},{key:"updateMetrics",value:function(){var e=this,i=e.panzoom,n=e.viewport,a=e.track,r=e.isHorizontal;if(a){var o=r?"width":"height",s=r?"offsetWidth":"offsetHeight";if(n){var l=Math.max(n[s],g(n.getBoundingClientRect()[o],1e3)),c=getComputedStyle(n),u="padding",h=r?"Right":"Bottom";l-=parseFloat(c[u+(r?"Left":"Top")])+parseFloat(c[u+h]),this.viewportDim=l}var d,v=this.pages.length,p=0,m=!0,y=!1,b=void 0;try{for(var w,k=this.slides.entries()[Symbol.iterator]();!(m=(w=k.next()).done);m=!0){var x,S=t(f)(w.value,2),E=S[0],P=S[1],O=0,T=0;!P.el&&d?(O=d.dim,T=d.gap):(O=(x=this.getSlideMetrics(P)).dim,T=x.gap,d=P),O=g(O,1e3),T=g(T,1e3),P.dim=O,P.gap=T,P.pos=p,p+=O,(this.isInfinite||E<this.slides.length-1)&&(p+=T)}}catch(e){y=!0,b=e}finally{try{m||null==k.return||k.return()}finally{if(y)throw b}}var M=this.contentDim;p=g(p,1e3),this.contentDim=p,i&&(i.contentRect[o]=p,i.contentRect["e"===this.axis?"fullWidth":"fullHeight"]=p),this.pages=this.createPages(),this.pages=this.processPages(),this.state===U.Init&&this.setInitialPage(),this.page=Math.max(0,Math.min(this.page,this.pages.length-1)),i&&v===this.pages.length&&Math.abs(p-M)>.5&&(i.target[this.axis]=-1*this.pages[this.page].pos,i.current[this.axis]=-1*this.pages[this.page].pos,i.stop()),this.manageSlideVisiblity(),this.emit("refresh")}}},{key:"getProgress",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];void 0===e&&(e=this.page);var i=this,n=i.panzoom,a=i.pages[e]||0;if(!a||!n)return 0;var r=-1*n.current.e,o=i.contentDim,s=[g((r-a.pos)/(1*a.dim),1e3),g((r+o-a.pos)/(1*a.dim),1e3),g((r-o-a.pos)/(1*a.dim),1e3)].reduce((function(e,t){return Math.abs(t)<Math.abs(e)?t:e}));return t?s:Math.max(-1,Math.min(1,s))}},{key:"setViewportHeight",value:function(){var e=this,t=e.page,i=e.pages,n=e.viewport,a=e.isHorizontal;if(n&&i[t]){var r=0;a&&this.track&&(this.track.style.height="auto",i[t].slides.forEach((function(e){e.el&&(r=Math.max(r,e.el.offsetHeight))}))),n.style.height=r?"".concat(r,"px"):""}}},{key:"getPageForSlide",value:function(e){var t=!0,i=!1,n=void 0,a=!0,r=!1,o=void 0;try{for(var s,l=this.pages[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var c=s.value;try{for(var u,h=c.slides[Symbol.iterator]();!(t=(u=h.next()).done);t=!0){if(u.value.index===e)return c.index}}catch(e){i=!0,n=e}finally{try{t||null==h.return||h.return()}finally{if(i)throw n}}}}catch(e){r=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}return-1}},{key:"getVisibleSlides",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=new Set,n=this,a=n.contentDim,r=n.viewportDim,o=n.pages,s=n.page;a=a+(null===(e=this.slides[this.slides.length-1])||void 0===e?void 0:e.gap)||0;var l=0;l=this.panzoom?-1*this.panzoom.current[this.axis]:o[s]&&o[s].pos||0,this.isInfinite&&(l-=Math.floor(l/a)*a),this.isRTL&&this.isHorizontal&&(l*=-1);var c=l-r*t,u=l+r*(t+1),h=this.isInfinite?[-1,0,1]:[0],d=!0,f=!1,v=void 0,p=!0,g=!1,m=void 0;try{for(var y,b=this.slides[Symbol.iterator]();!(p=(y=b.next()).done);p=!0){var w=y.value;try{for(var k,x=h[Symbol.iterator]();!(d=(k=x.next()).done);d=!0){var S=k.value,E=w.pos+S*a,P=w.pos+w.dim+w.gap+S*a;E<u&&P>c&&i.add(w)}}catch(e){f=!0,v=e}finally{try{d||null==x.return||x.return()}finally{if(f)throw v}}}}catch(e){g=!0,m=e}finally{try{p||null==b.return||b.return()}finally{if(g)throw m}}return i}},{key:"getPageFromPosition",value:function(e){var t,i,n=this.viewportDim,a=this.contentDim,r=this.pages.length,o=this.slides.length,s=this.slides[o-1],l=this.option("center");l&&(e+=.5*n),this.isInfinite||(e=Math.max(this.slides[0].pos,Math.min(e,s.pos)));var c=a+s.gap;i=Math.floor(e/c)||0,e-=i*c;var u=s,h=this.slides.find((function(t){var i=e+(u&&!l?.5*u.dim:0);return u=t,t.pos<=i&&t.pos+t.dim+t.gap>i}));return h||(h=s),{page:(t=this.getPageForSlide(h.index))+i*r,pageIndex:t}}},{key:"destroy",value:function(){var e,i=this;if(![U.Destroy].includes(this.state)){this.state=U.Destroy;var n=this,a=n.container,r=n.viewport,o=n.track,s=n.slides,l=n.panzoom,c=this.option("classes");a.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),a.removeEventListener("slideTo",this.onSlideTo),window.removeEventListener("resize",this.onResize),l&&(l.destroy(),this.panzoom=null),s&&s.forEach((function(e){i.removeSlideEl(e)})),this.detachPlugins(),r&&r.offsetParent&&o&&o.offsetParent&&(e=r).replaceWith.apply(e,t(v)(o.childNodes));var u=!0,h=!1,d=void 0;try{for(var p,g=Object.entries(c)[Symbol.iterator]();!(u=(p=g.next()).done);u=!0){var m=t(f)(p.value,2),y=m[0],b=m[1];"container"!==y&&b&&a.classList.remove(b)}}catch(e){h=!0,d=e}finally{try{u||null==g.return||g.return()}finally{if(h)throw d}}this.track=null,this.viewport=null,this.page=0,this.slides=[];var w=this.events.get("ready");this.events=new Map,w&&this.events.set("ready",w)}}}]),n}(D);Object.defineProperty(ce,"Panzoom",{enumerable:!0,configurable:!0,writable:!0,value:G}),Object.defineProperty(ce,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{viewport:null,track:null,enabled:!0,slides:[],axis:"x",transition:"fade",preload:1,slidesPerPage:"auto",initialPage:0,friction:.12,Panzoom:{decelFriction:.12},center:!0,infinite:!0,fill:!0,dragFree:!1,adaptiveHeight:!1,direction:"ltr",classes:{container:"f-carousel",viewport:"f-carousel__viewport",track:"f-carousel__track",slide:"f-carousel__slide",isLTR:"is-ltr",isRTL:"is-rtl",isHorizontal:"is-horizontal",isVertical:"is-vertical",inTransition:"in-transition",isSelected:"is-selected"},l10n:{NEXT:"Next slide",PREV:"Previous slide",GOTO:"Go to slide #%d"}}}),Object.defineProperty(ce,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:le});var ue,he,de,fe,ve,pe=function(e){var t=window.pageYOffset,i=window.pageYOffset+window.innerHeight;if(!_(e))return 0;var n=e.getBoundingClientRect(),a=n.y+window.pageYOffset,r=n.y+n.height+window.pageYOffset;if(t>r||i<a)return 0;if(t<a&&i>r)return 100;if(a<t&&r>i)return 100;var o=n.height;a<t&&(o-=window.pageYOffset-a),r>i&&(o-=r-i);var s=o/window.innerHeight*100;return Math.round(s)},ge=!("undefined"==typeof window||!window.document||!window.document.createElement),me=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden]):not(.fancybox-focus-guard)","iframe","object","embed","video","audio","[contenteditable]",'[tabindex]:not([tabindex^="-"]):not([disabled]):not([aria-hidden])'].join(","),ye=function(e){if(e&&ge){void 0===ue&&document.createElement("div").focus({get preventScroll(){return ue=!0,!1}});try{if(ue)e.focus({preventScroll:!0});else{var t=window.pageXOffset||document.body.scrollTop,i=window.pageYOffset||document.body.scrollLeft;e.focus(),document.body.scrollTo({top:t,left:i,behavior:"auto"})}}catch(e){}}},be={dragToClose:!0,hideScrollbar:!0,Carousel:{classes:{container:"fancybox__carousel",viewport:"fancybox__viewport",track:"fancybox__track",slide:"fancybox__slide"}},contentClick:"toggleZoom",contentDblClick:!1,backdropClick:"close",animated:!0,idle:3500,showClass:"f-zoomInUp",hideClass:"f-fadeOut",commonCaption:!1,parentEl:null,startIndex:0,l10n:Object.assign(Object.assign({},j),{CLOSE:"Close",NEXT:"Next",PREV:"Previous",MODAL:"You can close this modal content with the ESC key",ERROR:"Something Went Wrong, Please Try Again Later",IMAGE_ERROR:"Image Not Found",ELEMENT_NOT_FOUND:"HTML Element Not Found",AJAX_NOT_FOUND:"Error Loading AJAX : Not Found",AJAX_FORBIDDEN:"Error Loading AJAX : Forbidden",IFRAME_ERROR:"Error Loading Page",TOGGLE_ZOOM:"Toggle zoom level",TOGGLE_THUMBS:"Toggle thumbnails",TOGGLE_SLIDESHOW:"Toggle slideshow",TOGGLE_FULLSCREEN:"Toggle full-screen mode",DOWNLOAD:"Download"}),tpl:{closeButton:'<button data-fancybox-close class="f-button is-close-btn" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M20 20L4 4m16 0L4 20"/></svg></button>',main:'<div class="fancybox__container" role="dialog" aria-modal="true" aria-label="{{MODAL}}" tabindex="-1">\n    <div class="fancybox__backdrop"></div>\n    <div class="fancybox__carousel"></div>\n    <div class="fancybox__footer"></div>\n  </div>'},groupAll:!1,groupAttr:"data-fancybox",defaultType:"image",defaultDisplay:"block",autoFocus:!0,trapFocus:!0,placeFocusBack:!0,closeButton:"auto",keyboard:{Escape:"close",Delete:"close",Backspace:"close",PageUp:"next",PageDown:"prev",ArrowUp:"prev",ArrowDown:"next",ArrowRight:"next",ArrowLeft:"prev"},Fullscreen:{autoStart:!1},compact:function(){return window.matchMedia("(max-width: 578px), (max-height: 578px)").matches},wheel:"zoom"};(ve=he||(he={}))[ve.Init=0]="Init",ve[ve.Ready=1]="Ready",ve[ve.Closing=2]="Closing",ve[ve.CustomClosing=3]="CustomClosing",ve[ve.Destroy=4]="Destroy",(fe=de||(de={}))[fe.Loading=0]="Loading",fe[fe.Opening=1]="Opening",fe[fe.Ready=2]="Ready",fe[fe.Closing=3]="Closing";var we=function(){queueMicrotask((function(){!function(){var e=ke.parseURL(),t=e.slug,i=e.index,n=at.getInstance();if(n&&!1!==n.option("Hash")){var a=n.carousel;if(t&&a){var r=!0,o=!1,s=void 0;try{for(var l,c=a.slides[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var u=l.value;if(u.slug&&u.slug===t)return a.slideTo(u.index)}}catch(e){o=!0,s=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw s}}if(t===n.option("slug"))return a.slideTo(i-1);var h=n.getSlide(),d=h&&h.triggerEl&&h.triggerEl.dataset;if(d&&d.fancybox===t)return a.slideTo(i-1)}ke.hasSilentClose=!0,n.close()}ke.startFromUrl()}()}))},ke=function(e){"use strict";t(h)(n,e);var i=t(p)(n);function n(){var e;return t(o)(this,n),e=i.call.apply(i,[this].concat(Array.prototype.slice.call(arguments))),Object.defineProperty(t(a)(e),"origHash",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(t(a)(e),"timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),t(d)(e)}return t(s)(n,[{key:"onChange",value:function(){var e=this.instance,t=e.carousel;this.timer&&clearTimeout(this.timer);var i=e.getSlide();if(t&&i){var n,a=e.isOpeningSlide(i),r=new URL(document.URL).hash,o=i.slug||void 0,s=i.triggerEl||void 0;!(n=o||this.instance.option("slug"))&&s&&s.dataset&&(n=s.dataset.fancybox);var l="";n&&"true"!==n&&(l="#"+n+(!o&&t.slides.length>1?"-"+(i.index+1):"")),a&&(this.origHash=r!==l?r:""),l&&r!==l&&(this.timer=setTimeout((function(){try{e.state===he.Ready&&window.history[a?"pushState":"replaceState"]({},document.title,window.location.pathname+window.location.search+l)}catch(e){}}),300))}}},{key:"onClose",value:function(){if(this.timer&&clearTimeout(this.timer),!0!==n.hasSilentClose)try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+(this.origHash||""))}catch(e){}}},{key:"attach",value:function(){var e=this.instance;e.on("Carousel.ready",this.onChange),e.on("Carousel.change",this.onChange),e.on("close",this.onClose)}},{key:"detach",value:function(){var e=this.instance;e.off("Carousel.ready",this.onChange),e.off("Carousel.change",this.onChange),e.off("close",this.onClose)}}],[{key:"parseURL",value:function(){var e=window.location.hash.slice(1),t=e.split("-"),i=t[t.length-1],n=i&&/^\+?\d+$/.test(i)&&parseInt(t.pop()||"1",10)||1;return{hash:e,slug:t.join("-"),index:n}}},{key:"startFromUrl",value:function(){if(n.hasSilentClose=!1,!at.getInstance()&&!1!==at.defaults.Hash){var e=n.parseURL(),t=e.hash,i=e.slug,a=e.index;if(i){var r=document.querySelector('[data-slug="'.concat(t,'"]'));if(r&&r.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})),!at.getInstance()){var o=document.querySelectorAll('[data-fancybox="'.concat(i,'"]'));o.length&&((r=o[a-1])&&r.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})))}}}}},{key:"destroy",value:function(){window.removeEventListener("hashchange",we,!1)}}]),n}(te);function xe(){window.addEventListener("hashchange",we,!1),setTimeout((function(){ke.startFromUrl()}),500)}Object.defineProperty(ke,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(ke,"hasSilentClose",{enumerable:!0,configurable:!0,writable:!0,value:!1}),ge&&(/complete|interactive|loaded/.test(document.readyState)?xe():document.addEventListener("DOMContentLoaded",xe));var Se=function(e){"use strict";t(h)(n,e);var i=t(p)(n);function n(){return t(o)(this,n),i.apply(this,arguments)}return t(s)(n,[{key:"onCreateSlide",value:function(e,t,i){var n=this.instance.optionFor(i,"src")||"";i.el&&"image"===i.type&&"string"==typeof n&&this.setImage(i,n)}},{key:"onRemoveSlide",value:function(e,t,i){i.panzoom&&i.panzoom.destroy(),i.panzoom=void 0,i.imageEl=void 0}},{key:"onChange",value:function(e,t,i,n){var a=!0,r=!1,o=void 0;try{for(var s,l=t.slides[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var c=s.value,u=c.panzoom;u&&c.index!==i&&u.reset(.35)}}catch(e){r=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}}},{key:"onClose",value:function(){var e,t=this.instance,i=t.container,n=t.getSlide();if(i&&i.parentElement&&n){var a=n.el,r=n.contentEl,o=n.panzoom,s=n.thumbElSrc;if(a&&s&&r&&o&&!o.isContentLoading&&o.state!==A.Init&&o.state!==A.Destroy){o.updateMetrics();var l=this.getZoomInfo(n);if(l){this.instance.state=he.CustomClosing,i.classList.remove("is-zooming-in"),i.classList.add("is-zooming-out"),r.style.backgroundImage="url('".concat(s,"')");var c=i.getBoundingClientRect();1===((null===(e=window.visualViewport)||void 0===e?void 0:e.scale)||1)&&Object.assign(i.style,{position:"absolute",top:"".concat(window.pageYOffset,"px"),left:"".concat(window.pageXOffset,"px"),bottom:"auto",right:"auto",width:"".concat(c.width,"px"),height:"".concat(c.height,"px"),overflow:"hidden"});var u,h,d=l.x,f=l.y,v=l.scale,p=l.opacity;if(p){var g=(u=o.scale,h=v-u,function(e){return 1+((e-u)/h*-1||0)});o.on("afterTransform",(function(){r.style.opacity=g(o.scale)+""}))}o.on("endAnimation",(function(){t.destroy()})),o.target.a=v,o.target.b=0,o.target.c=0,o.target.d=v,o.panTo({x:d,y:f,scale:v,friction:p?.2:.33,ignoreBounds:!0}),o.isResting&&t.destroy()}}}}},{key:"setImage",value:function(e,t){var i=this,n=this.instance;e.src=t,this.process(e,t).then((function(t){var a,r=e.contentEl,o=e.imageEl,s=e.thumbElSrc;if(!n.isClosing()&&r&&o){r.offsetHeight;var l,c=!!n.isOpeningSlide(e)&&i.getZoomInfo(e);if(i.option("protected")){null===(a=e.el)||void 0===a||a.addEventListener("contextmenu",(function(e){e.preventDefault()}));var u=document.createElement("div");N(u,"fancybox-protected"),r.appendChild(u)}if(s&&c){var h=i,d=t.contentRect,f=Math.max(d.fullWidth,d.fullHeight),v=null;!c.opacity&&f>1200&&(v=document.createElement("img"),N(v,"fancybox-ghost"),v.src=s,r.appendChild(v));var p=function(){v&&(N(v,"f-fadeFastOut"),setTimeout((function(){v&&(v.remove(),v=null)}),200))};(l=s,new Promise((function(e,t){var i=new Image;i.onload=e,i.onerror=t,i.src=l}))).then((function(){var t=h;e.state=de.Opening,h.instance.emit("reveal",e),h.zoomIn(e).then((function(){p(),t.instance.done(e)}),(function(){n.hideLoading(e)})),v&&setTimeout((function(){p()}),f>2500?800:200)}),(function(){n.hideLoading(e),n.revealContent(e)}))}else{var g=i.optionFor(e,"initialSize"),m=i.optionFor(e,"zoom"),y={event:n.prevMouseMoveEvent||n.options.event,friction:m?.12:0},b=n.optionFor(e,"showClass")||void 0,w=!0;n.isOpeningSlide(e)&&("full"===g?t.zoomToFull(y):"cover"===g?t.zoomToCover(y):"max"===g?t.zoomToMax(y):w=!1,t.stop("current")),w&&b&&(b=t.isDragging?"f-fadeIn":""),n.revealContent(e,b)}}}),(function(){n.setError(e,"{{IMAGE_ERROR}}")}))}},{key:"process",value:function(e,t){var i=this;return new Promise((function(n,a){var r,o=i.instance,s=e.el;o.clearContent(e),o.showLoading(e);var l=i.optionFor(e,"content");if("string"==typeof l&&(l=b(l)),!l||!_(l)){if((l=document.createElement("img"))instanceof HTMLImageElement){var c,u=e.caption;c="string"==typeof u&&u?u.replace(/<[^>]+>/gi,"").substring(0,1e3):"Image ".concat(e.index+1," of ").concat(null===(r=o.carousel)||void 0===r?void 0:r.pages.length),l.src=t||"",l.alt=c,l.draggable=!1,e.srcset&&l.setAttribute("srcset",e.srcset)}e.sizes&&l.setAttribute("sizes",e.sizes)}l.classList.add("fancybox-image"),e.imageEl=l,o.setContent(e,l,!1),e.panzoom=new G(s,M({transformParent:!0},i.option("Panzoom")||{},{content:l,width:o.optionFor(e,"width","auto"),height:o.optionFor(e,"height","auto"),wheel:function(){var e=o.option("wheel");return("zoom"===e||"pan"==e)&&e},click:function(t,i){var n,a;if(o.isCompact||o.isClosing())return!1;if(e.index!==(null===(n=o.getSlide())||void 0===n?void 0:n.index))return!1;if(i){var r=i.composedPath()[0];if(["A","BUTTON","TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].includes(r.nodeName))return!1}var s=!i||i.target&&(null===(a=e.contentEl)||void 0===a?void 0:a.contains(i.target));return o.option(s?"contentClick":"backdropClick")||!1},dblClick:function(){return o.isCompact?"toggleZoom":o.option("contentDblClick")||!1},spinner:!1,panOnlyZoomed:!0,wheelLimit:1/0,on:{ready:function(e){n(e)},error:function(){a()},destroy:function(){a()}}}))}))}},{key:"zoomIn",value:function(e){var t=this;return new Promise((function(i,n){var a=t.instance,r=a.container,o=e.panzoom,s=e.contentEl,l=e.el;o&&o.updateMetrics();var c=t.getZoomInfo(e);if(c&&l&&s&&o&&r){var u=c.x,h=c.y,d=c.scale,f=c.opacity,v=function(){e.state!==de.Closing&&(f&&(s.style.opacity=Math.max(Math.min(1,1-(1-o.scale)/(1-d)),0)+""),o.scale>=1&&o.scale>o.targetScale-.1&&i(o))},p=function(e){H(r,"is-zooming-in"),e.scale<.99||e.scale>1.01||(s.style.opacity="",e.off("endAnimation",p),e.off("touchStart",p),e.off("afterTransform",v),i(e))};o.on("endAnimation",p),o.on("touchStart",p),o.on("afterTransform",v),o.on(["error","destroy"],(function(){n()})),o.panTo({x:u,y:h,scale:d,friction:0,ignoreBounds:!0}),o.stop("current");var g={event:"mousemove"===o.panMode?a.prevMouseMoveEvent||a.options.event:void 0},m=t.optionFor(e,"initialSize");N(r,"is-zooming-in"),a.hideLoading(e),"full"===m?o.zoomToFull(g):"cover"===m?o.zoomToCover(g):"max"===m?o.zoomToMax(g):o.reset(.172)}else n()}))}},{key:"getZoomInfo",value:function(e){var t,i=e.el,n=e.imageEl,a=e.thumbEl,r=e.panzoom;if(!i||!n||!a||!r||pe(a)<3||!this.optionFor(e,"zoom")||this.instance.state===he.Destroy)return!1;if(1!==((null===(t=window.visualViewport)||void 0===t?void 0:t.scale)||1))return!1;var o=a.getBoundingClientRect(),s=o.top,l=o.left,c=o.width,u=o.height,h=r.contentRect,d=h.top,f=h.left,v=h.fitWidth,p=h.fitHeight;if(!(c&&u&&v&&p))return!1;var g=r.container.getBoundingClientRect(),m=-1*((f+=g.left)+.5*v-(l+.5*c)),y=-1*((d+=g.top)+.5*p-(s+.5*u)),b=c/v,w=this.option("zoomOpacity")||!1;return"auto"===w&&(w=Math.abs(c/u-v/p)>.1),{x:m,y:y,scale:b,opacity:w}}},{key:"attach",value:function(){var e=this,t=e.instance;t.on("Carousel.change",e.onChange),t.on("Carousel.createSlide",e.onCreateSlide),t.on("Carousel.removeSlide",e.onRemoveSlide),t.on("close",e.onClose)}},{key:"detach",value:function(){var e=this,t=e.instance;t.off("Carousel.change",e.onChange),t.off("Carousel.createSlide",e.onCreateSlide),t.off("Carousel.removeSlide",e.onRemoveSlide),t.off("close",e.onClose)}}]),n}(te);Object.defineProperty(Se,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{initialSize:"fit",Panzoom:{maxScale:1},protected:!1,zoom:!0,zoomOpacity:"auto"}}),"function"==typeof SuppressedError&&SuppressedError;var Ee=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new URL(e),a=new URLSearchParams(n.search),r=new URLSearchParams,o=!0,s=!1,l=void 0;try{for(var c,u=t(v)(a).concat(t(v)(Object.entries(i)))[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var h=t(f)(c.value,2),d=h[0],p=h[1],g=p.toString();"t"===d?r.set("start",parseInt(g).toString()):r.set(d,g)}}catch(e){s=!0,l=e}finally{try{o||null==u.return||u.return()}finally{if(s)throw l}}var m=r.toString(),y=e.match(/#t=((.*)?\d+s)/);return y&&(m+="#t=".concat(y[1])),m},Pe=["image","html","ajax","inline","clone","iframe","map","pdf","html5video","youtube","vimeo","video"],Oe=function(e){"use strict";t(h)(n,e);var i=t(p)(n);function n(){return t(o)(this,n),i.apply(this,arguments)}return t(s)(n,[{key:"onInitSlide",value:function(e,t,i){this.processType(i)}},{key:"onCreateSlide",value:function(e,t,i){this.setContent(i)}},{key:"onRemoveSlide",value:function(e,t,i){i.xhr&&(i.xhr.abort(),i.xhr=null);var n=i.iframeEl;n&&(n.onload=n.onerror=null,n.src="//about:blank",i.iframeEl=null);var a=i.contentEl,r=i.placeholderEl;if("inline"===i.type&&a&&r)a.classList.remove("fancybox__content"),"none"!==a.style.display&&(a.style.display="none"),r.parentNode&&r.parentNode.insertBefore(a,r),r.remove(),i.contentEl=void 0,i.placeholderEl=void 0;else for(;i.el&&i.el.firstChild;)i.el.removeChild(i.el.firstChild)}},{key:"onSelectSlide",value:function(e,t,i){i.state===de.Ready&&this.playVideo()}},{key:"onUnselectSlide",value:function(e,t,i){var n,a,r;if("html5video"!==i.type)"vimeo"===i.type?r={method:"pause",value:"true"}:"youtube"===i.type&&(r={event:"command",func:"pauseVideo"}),r&&i.iframeEl&&i.iframeEl.contentWindow&&i.iframeEl.contentWindow.postMessage(JSON.stringify(r),"*"),i.poller&&clearTimeout(i.poller);else try{null===(a=null===(n=i.el)||void 0===n?void 0:n.querySelector("video"))||void 0===a||a.pause()}catch(e){}}},{key:"onDone",value:function(e,t){e.isCurrentSlide(t)&&!e.isClosing()&&this.playVideo()}},{key:"onRefresh",value:function(e,t){var i=this;t.slides.forEach((function(e){e.el&&(i.setAspectRatio(e),i.resizeIframe(e))}))}},{key:"onMessage",value:function(e){try{var t=JSON.parse(e.data);if("https://player.vimeo.com"===e.origin){var i=!0,n=!1,a=void 0;if("ready"===t.event)try{for(var r,o=Array.from(document.getElementsByClassName("fancybox__iframe"))[Symbol.iterator]();!(i=(r=o.next()).done);i=!0){var s=r.value;s instanceof HTMLIFrameElement&&s.contentWindow===e.source&&(s.dataset.ready="true")}}catch(e){n=!0,a=e}finally{try{i||null==o.return||o.return()}finally{if(n)throw a}}}else if(e.origin.match(/^https:\/\/(www.)?youtube(-nocookie)?.com$/)&&"onReady"===t.event){var l=document.getElementById(t.id);l&&(l.dataset.ready="true")}}catch(e){}}},{key:"loadAjaxContent",value:function(e){var t=this.instance.optionFor(e,"src")||"";this.instance.showLoading(e);var i=this.instance,n=new XMLHttpRequest;i.showLoading(e),n.onreadystatechange=function(){n.readyState===XMLHttpRequest.DONE&&i.state===he.Ready&&(i.hideLoading(e),200===n.status?i.setContent(e,n.responseText):i.setError(e,404===n.status?"{{AJAX_NOT_FOUND}}":"{{AJAX_FORBIDDEN}}"))};var a=e.ajax||null;n.open(a?"POST":"GET",t+""),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.send(a),e.xhr=n}},{key:"setInlineContent",value:function(e){var t=null;if(_(e.src))t=e.src;else if("string"==typeof e.src){var i=e.src.split("#",2).pop();t=i?document.getElementById(i):null}if(t){if("clone"===e.type||t.closest(".fancybox__slide")){var n=(t=t.cloneNode(!0)).dataset.animationName;n&&(t.classList.remove(n),delete t.dataset.animationName);var a=t.getAttribute("id");a=a?"".concat(a,"--clone"):"clone-".concat(this.instance.id,"-").concat(e.index),t.setAttribute("id",a)}else if(t.parentNode){var r=document.createElement("div");r.classList.add("fancybox-placeholder"),t.parentNode.insertBefore(r,t),e.placeholderEl=r}this.instance.setContent(e,t)}else this.instance.setError(e,"{{ELEMENT_NOT_FOUND}}")}},{key:"setIframeContent",value:function(e){var i=this,n=e.src,a=e.el;if(n&&"string"==typeof n&&a){a.classList.add("is-loading");var r=this.instance,o=document.createElement("iframe");o.className="fancybox__iframe",o.setAttribute("id","fancybox__iframe_".concat(r.id,"_").concat(e.index));var s=!0,l=!1,c=void 0;try{for(var u,h=Object.entries(this.optionFor(e,"iframeAttr")||{})[Symbol.iterator]();!(s=(u=h.next()).done);s=!0){var d=t(f)(u.value,2),v=d[0],p=d[1];o.setAttribute(v,p)}}catch(e){l=!0,c=e}finally{try{s||null==h.return||h.return()}finally{if(l)throw c}}o.onerror=function(){r.setError(e,"{{IFRAME_ERROR}}")},e.iframeEl=o;var g=this.optionFor(e,"preload");if("iframe"!==e.type||!1===g)return o.setAttribute("src",e.src+""),r.setContent(e,o,!1),this.resizeIframe(e),void r.revealContent(e);r.showLoading(e),o.onload=function(){if(o.src.length){var t="true"!==o.dataset.ready;o.dataset.ready="true",i.resizeIframe(e),t?r.revealContent(e):r.hideLoading(e)}},o.setAttribute("src",n),r.setContent(e,o,!1)}}},{key:"resizeIframe",value:function(e){var t=e.iframeEl,i=null==t?void 0:t.parentElement;if(t&&i){var n=e.autoSize,a=e.width||0,r=e.height||0;a&&r&&(n=!1);var o=i&&i.style;if(!1!==e.preload&&!1!==n&&o)try{var s=window.getComputedStyle(i),l=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight),c=parseFloat(s.paddingTop)+parseFloat(s.paddingBottom),u=t.contentWindow;if(u){var h=u.document,d=h.getElementsByTagName("html")[0],f=h.body;o.width="",f.style.overflow="hidden",a=a||d.scrollWidth+l,o.width="".concat(a,"px"),f.style.overflow="",o.flex="0 0 auto",o.height="".concat(f.scrollHeight,"px"),r=d.scrollHeight+c}}catch(e){}if(a||r){var v={flex:"0 1 auto",width:"",height:""};a&&(v.width="".concat(a,"px")),r&&(v.height="".concat(r,"px")),Object.assign(o,v)}}}},{key:"playVideo",value:function(){var e=this.instance.getSlide();if(e){var t=e.el;if(t&&t.offsetParent&&this.optionFor(e,"videoAutoplay")){if("html5video"===e.type)try{var i=t.querySelector("video");if(i){var n=i.play();void 0!==n&&n.then((function(){})).catch((function(e){i.muted=!0,i.play()}))}}catch(e){}if("youtube"===e.type||"vimeo"===e.type){var a=function(){if(e.iframeEl&&e.iframeEl.contentWindow){var t;if("true"===e.iframeEl.dataset.ready)return(t="youtube"===e.type?{event:"command",func:"playVideo"}:{method:"play",value:"true"})&&e.iframeEl.contentWindow.postMessage(JSON.stringify(t),"*"),void(e.poller=void 0);"youtube"===e.type&&(t={event:"listening",id:e.iframeEl.getAttribute("id")},e.iframeEl.contentWindow.postMessage(JSON.stringify(t),"*"))}e.poller=setTimeout(a,250)};a()}}}}},{key:"processType",value:function(e){if(e.html)return e.type="html",e.src=e.html,void(e.html="");var t=this.instance.optionFor(e,"src","");if(t&&"string"==typeof t){var i=e.type,n=null;if(n=t.match(/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(?:watch\?(?:.*&)?v=|v\/|u\/|shorts\/|embed\/?)?(videoseries\?list=(?:.*)|[\w-]{11}|\?listType=(?:.*)&list=(?:.*))(?:.*)/i)){var a=this.optionFor(e,"youtube"),r=a.nocookie,o=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(i[n[a]]=e[n[a]])}return i}(a,["nocookie"]),s="www.youtube".concat(r?"-nocookie":"",".com"),l=Ee(t,o),c=encodeURIComponent(n[2]);e.videoId=c,e.src="https://".concat(s,"/embed/").concat(c,"?").concat(l),e.thumbSrc=e.thumbSrc||"https://i.ytimg.com/vi/".concat(c,"/mqdefault.jpg"),i="youtube"}else if(n=t.match(/^.+vimeo.com\/(?:\/)?([\d]+)((\/|\?h=)([a-z0-9]+))?(.*)?/)){var u=Ee(t,this.optionFor(e,"vimeo")),h=encodeURIComponent(n[1]),d=n[4]||"";e.videoId=h,e.src="https://player.vimeo.com/video/".concat(h,"?").concat(d?"h=".concat(d).concat(u?"&":""):"").concat(u),i="vimeo"}if(!i&&e.triggerEl){var f=e.triggerEl.dataset.type;Pe.includes(f)&&(i=f)}i||"string"==typeof t&&("#"===t.charAt(0)?i="inline":(n=t.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(i="html5video",e.videoFormat=e.videoFormat||"video/"+("ogv"===n[1]?"ogg":n[1])):t.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?i="image":t.match(/\.(pdf)((\?|#).*)?$/i)?i="pdf":(n=t.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:(?:(?:maps\/(?:place\/(?:.*)\/)?\@(.*),(\d+.?\d+?)z))|(?:\?ll=))(.*)?/i))?(e.src="https://maps.google.".concat(n[1],"/?ll=").concat((n[2]?n[2]+"&z="+Math.floor(parseFloat(n[3]))+(n[4]?n[4].replace(/^\//,"&"):""):n[4]+"").replace(/\?/,"&"),"&output=").concat(n[4]&&n[4].indexOf("layer=c")>0?"svembed":"embed"),i="map"):(n=t.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:maps\/search\/)(.*)/i))&&(e.src="https://maps.google.".concat(n[1],"/maps?q=").concat(n[2].replace("query=","q=").replace("api=1",""),"&output=embed"),i="map")),i=i||this.instance.option("defaultType"),e.type=i,"image"===i&&(e.thumbSrc=e.thumbSrc||e.src)}}},{key:"setContent",value:function(e){var t=this.instance.optionFor(e,"src")||"";if(e&&e.type&&t){switch(e.type){case"html":this.instance.setContent(e,t);break;case"html5video":var i=this.option("videoTpl");i&&this.instance.setContent(e,i.replace(/\{\{src\}\}/gi,t+"").replace(/\{\{format\}\}/gi,this.optionFor(e,"videoFormat")||"").replace(/\{\{poster\}\}/gi,e.poster||e.thumbSrc||""));break;case"inline":case"clone":this.setInlineContent(e);break;case"ajax":this.loadAjaxContent(e);break;case"pdf":case"map":case"youtube":case"vimeo":e.preload=!1;case"iframe":this.setIframeContent(e)}this.setAspectRatio(e)}}},{key:"setAspectRatio",value:function(e){var t,i=e.width||0,n=e.height||0;if(!i||!n){var a=e.contentEl,r=this.optionFor(e,"videoRatio"),o=null===(t=e.el)||void 0===t?void 0:t.getBoundingClientRect();if(a&&o&&r&&1!==r&&e.type&&["video","youtube","vimeo","html5video"].includes(e.type)){var s=o.width,l=o.height;a.style.aspectRatio=r+"",a.style.width=s/l>r?"auto":"",a.style.height=s/l>r?"":"auto"}}}},{key:"attach",value:function(){var e=this,t=e.instance;t.on("Carousel.initSlide",e.onInitSlide),t.on("Carousel.createSlide",e.onCreateSlide),t.on("Carousel.removeSlide",e.onRemoveSlide),t.on("Carousel.selectSlide",e.onSelectSlide),t.on("Carousel.unselectSlide",e.onUnselectSlide),t.on("Carousel.Panzoom.refresh",e.onRefresh),t.on("done",e.onDone),window.addEventListener("message",e.onMessage)}},{key:"detach",value:function(){var e=this,t=e.instance;t.off("Carousel.initSlide",e.onInitSlide),t.off("Carousel.createSlide",e.onCreateSlide),t.off("Carousel.removeSlide",e.onRemoveSlide),t.off("Carousel.selectSlide",e.onSelectSlide),t.off("Carousel.unselectSlide",e.onUnselectSlide),t.off("Carousel.Panzoom.refresh",e.onRefresh),t.off("done",e.onDone),window.removeEventListener("message",e.onMessage)}}]),n}(te);Object.defineProperty(Oe,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{ajax:null,autoSize:!0,iframeAttr:{allow:"autoplay; fullscreen",scrolling:"auto"},preload:!0,videoAutoplay:!0,videoRatio:16/9,videoTpl:'<video class="fancybox__html5video" playsinline controls controlsList="nodownload" poster="{{poster}}">\n  <source src="{{src}}" type="{{format}}" />Sorry, your browser doesn\'t support embedded videos.</video>',videoFormat:"",vimeo:{byline:1,color:"00adef",controls:1,dnt:1,muted:0},youtube:{controls:1,enablejsapi:1,nocookie:1,rel:0,fs:1}}});var Te="play",Me="pause",Ce="ready",Le=function(e){"use strict";t(h)(n,e);var i=t(p)(n);function n(){var e;return t(o)(this,n),e=i.call.apply(i,[this].concat(Array.prototype.slice.call(arguments))),Object.defineProperty(t(a)(e),"state",{enumerable:!0,configurable:!0,writable:!0,value:Ce}),Object.defineProperty(t(a)(e),"inHover",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(t(a)(e),"timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t(a)(e),"progressBar",{enumerable:!0,configurable:!0,writable:!0,value:null}),t(d)(e)}return t(s)(n,[{key:"isActive",get:function(){return this.state!==Ce}},{key:"onReady",value:function(e){this.option("autoStart")&&(e.isInfinite||e.page<e.pages.length-1)&&this.start()}},{key:"onChange",value:function(){var e;(null===(e=this.instance.panzoom)||void 0===e?void 0:e.isResting)||(this.removeProgressBar(),this.pause())}},{key:"onSettle",value:function(){this.resume()}},{key:"onVisibilityChange",value:function(){"visible"===document.visibilityState?this.resume():this.pause()}},{key:"onMouseEnter",value:function(){this.inHover=!0,this.pause()}},{key:"onMouseLeave",value:function(){var e;this.inHover=!1,(null===(e=this.instance.panzoom)||void 0===e?void 0:e.isResting)&&this.resume()}},{key:"onTimerEnd",value:function(){var e=this.instance;"play"===this.state&&(e.isInfinite||e.page!==e.pages.length-1?e.slideNext():e.slideTo(0))}},{key:"removeProgressBar",value:function(){this.progressBar&&(this.progressBar.remove(),this.progressBar=null)}},{key:"createProgressBar",value:function(){var e;if(!this.option("showProgress"))return null;this.removeProgressBar();var t=this.instance,i=(null===(e=t.pages[t.page])||void 0===e?void 0:e.slides)||[],n=this.option("progressParentEl");if(n||(n=(1===i.length?i[0].el:null)||t.viewport),!n)return null;var a=document.createElement("div");return N(a,"f-progress"),n.prepend(a),this.progressBar=a,a.offsetHeight,a}},{key:"set",value:function(){var e=this,t=e.instance;if(!(t.pages.length<2||e.timer)){var i=e.option("timeout");e.state=Te,N(t.container,"has-autoplay");var n=e.createProgressBar();n&&(n.style.transitionDuration="".concat(i,"ms"),n.style.transform="scaleX(1)"),e.timer=setTimeout((function(){e.timer=null,e.inHover||e.onTimerEnd()}),i),e.emit("set")}}},{key:"clear",value:function(){var e=this;e.timer&&(clearTimeout(e.timer),e.timer=null),e.removeProgressBar()}},{key:"start",value:function(){var e=this;if(e.set(),e.state!==Ce){if(e.option("pauseOnHover")){var t=e.instance.container;t.addEventListener("mouseenter",e.onMouseEnter,!1),t.addEventListener("mouseleave",e.onMouseLeave,!1)}document.addEventListener("visibilitychange",e.onVisibilityChange,!1),e.emit("start")}}},{key:"stop",value:function(){var e=this,t=e.state,i=e.instance.container;e.clear(),e.state=Ce,i.removeEventListener("mouseenter",e.onMouseEnter,!1),i.removeEventListener("mouseleave",e.onMouseLeave,!1),document.removeEventListener("visibilitychange",e.onVisibilityChange,!1),H(i,"has-autoplay"),t!==Ce&&e.emit("stop")}},{key:"pause",value:function(){var e=this;e.state===Te&&(e.state=Me,e.clear(),e.emit(Me))}},{key:"resume",value:function(){var e=this,t=e.instance;if(t.isInfinite||t.page!==t.pages.length-1)if(e.state!==Te){if(e.state===Me&&!e.inHover){var i=new Event("resume",{bubbles:!0,cancelable:!0});e.emit("resume",i),i.defaultPrevented||e.set()}}else e.set();else e.stop()}},{key:"toggle",value:function(){this.state===Te||this.state===Me?this.stop():this.start()}},{key:"attach",value:function(){var e=this,t=e.instance;t.on("ready",e.onReady),t.on("Panzoom.startAnimation",e.onChange),t.on("Panzoom.endAnimation",e.onSettle),t.on("Panzoom.touchMove",e.onChange)}},{key:"detach",value:function(){var e=this,t=e.instance;t.off("ready",e.onReady),t.off("Panzoom.startAnimation",e.onChange),t.off("Panzoom.endAnimation",e.onSettle),t.off("Panzoom.touchMove",e.onChange),e.stop()}}]),n}(te);Object.defineProperty(Le,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{autoStart:!0,pauseOnHover:!0,progressParentEl:null,showProgress:!0,timeout:3e3}});var Ae=function(e){"use strict";t(h)(n,e);var i=t(p)(n);function n(){var e;return t(o)(this,n),e=i.call.apply(i,[this].concat(Array.prototype.slice.call(arguments))),Object.defineProperty(t(a)(e),"ref",{enumerable:!0,configurable:!0,writable:!0,value:null}),t(d)(e)}return t(s)(n,[{key:"onPrepare",value:function(e){var t=this,i=e.carousel;if(i){var n=e.container;n&&(i.options.Autoplay=M({autoStart:!1},this.option("Autoplay")||{},{pauseOnHover:!1,timeout:this.option("timeout"),progressParentEl:function(){return t.option("progressParentEl")||null},on:{start:function(){e.emit("startSlideshow")},set:function(t){var i;n.classList.add("has-slideshow"),(null===(i=e.getSlide())||void 0===i?void 0:i.state)!==de.Ready&&t.pause()},stop:function(){n.classList.remove("has-slideshow"),e.isCompact||e.endIdle(),e.emit("endSlideshow")},resume:function(t,i){var n,a,r;!i||!i.cancelable||(null===(n=e.getSlide())||void 0===n?void 0:n.state)===de.Ready&&(null===(r=null===(a=e.carousel)||void 0===a?void 0:a.panzoom)||void 0===r?void 0:r.isResting)||i.preventDefault()}}}),i.attachPlugins({Autoplay:Le}),this.ref=i.plugins.Autoplay)}}},{key:"onReady",value:function(e){var t=e.carousel,i=this.ref;t&&i&&this.option("playOnStart")&&(t.isInfinite||t.page<t.pages.length-1)&&i.start()}},{key:"onDone",value:function(e,t){var i=this.ref;if(i){var n=t.panzoom;n&&n.on("startAnimation",(function(){e.isCurrentSlide(t)&&i.stop()})),e.isCurrentSlide(t)&&i.resume()}}},{key:"onKeydown",value:function(e,t){var i,n=this.ref;n&&t===this.option("key")&&"BUTTON"!==(null===(i=document.activeElement)||void 0===i?void 0:i.nodeName)&&n.toggle()}},{key:"attach",value:function(){var e=this,t=e.instance;t.on("Carousel.init",e.onPrepare),t.on("Carousel.ready",e.onReady),t.on("done",e.onDone),t.on("keydown",e.onKeydown)}},{key:"detach",value:function(){var e=this,t=e.instance;t.off("Carousel.init",e.onPrepare),t.off("Carousel.ready",e.onReady),t.off("done",e.onDone),t.off("keydown",e.onKeydown)}}]),n}(te);Object.defineProperty(Ae,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{key:" ",playOnStart:!1,progressParentEl:function(e){var t;return(null===(t=e.instance.container)||void 0===t?void 0:t.querySelector(".fancybox__toolbar [data-fancybox-toggle-slideshow]"))||e.instance.container},timeout:3e3}});var ze,De,Re={classes:{container:"f-thumbs f-carousel__thumbs",viewport:"f-thumbs__viewport",track:"f-thumbs__track",slide:"f-thumbs__slide",isResting:"is-resting",isSelected:"is-selected",isLoading:"is-loading",hasThumbs:"has-thumbs"},minCount:2,parentEl:null,thumbTpl:'<button class="f-thumbs__slide__button" tabindex="0" type="button" aria-label="{{GOTO}}" data-carousel-index="%i"><img class="f-thumbs__slide__img" data-lazy-src="{{%s}}" alt="" /></button>',type:"modern"};(De=ze||(ze={}))[De.Init=0]="Init",De[De.Ready=1]="Ready",De[De.Hidden=2]="Hidden",De[De.Disabled=3]="Disabled";var je=function(e){"use strict";t(h)(n,e);var i=t(p)(n);function n(){var e;return t(o)(this,n),e=i.call.apply(i,[this].concat(Array.prototype.slice.call(arguments))),Object.defineProperty(t(a)(e),"type",{enumerable:!0,configurable:!0,writable:!0,value:"modern"}),Object.defineProperty(t(a)(e),"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t(a)(e),"track",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t(a)(e),"carousel",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t(a)(e),"panzoom",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t(a)(e),"thumbWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(t(a)(e),"thumbClipWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(t(a)(e),"thumbHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(t(a)(e),"thumbGap",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(t(a)(e),"thumbExtraGap",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(t(a)(e),"shouldCenter",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(t(a)(e),"state",{enumerable:!0,configurable:!0,writable:!0,value:ze.Init}),t(d)(e)}return t(s)(n,[{key:"formatThumb",value:function(e,t){return this.instance.localize(t,[["%i",e.index],["%d",e.index+1],["%s",e.thumbSrc||"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"]])}},{key:"getSlides",value:function(){var e=[],t=this.option("thumbTpl")||"",i=!0,n=!1,a=void 0;if(t)try{for(var r,o=(this.instance.slides||[])[Symbol.iterator]();!(i=(r=o.next()).done);i=!0){var s=r.value,l="";s.type&&(l="for-".concat(s.type),s.type&&["video","youtube","vimeo","html5video"].includes(s.type)&&(l+=" for-video")),e.push({html:this.formatThumb(s,t),customClass:l})}}catch(e){n=!0,a=e}finally{try{i||null==o.return||o.return()}finally{if(n)throw a}}return e}},{key:"onInitSlide",value:function(e,t){var i=t.el;i&&(t.thumbSrc=i.dataset.thumbSrc||t.thumbSrc||"",t.thumbClipWidth=parseFloat(i.dataset.thumbClipWidth||"")||t.thumbClipWidth||0,t.thumbHeight=parseFloat(i.dataset.thumbHeight||"")||t.thumbHeight||0)}},{key:"onInitSlides",value:function(){this.state===ze.Init&&this.build()}},{key:"onRefreshM",value:function(){this.refreshModern()}},{key:"onChangeM",value:function(){"modern"===this.type&&(this.shouldCenter=!0,this.centerModern())}},{key:"onClickModern",value:function(e){e.preventDefault(),e.stopPropagation();var t,i,n,a=this.instance,r=a.page,o=function(e){if(e){var t=e.closest("[data-carousel-index]");if(t)return parseInt(t.dataset.carouselIndex||"",10)||0}return-1},s=function(e,t){var i=document.elementFromPoint(e,t);return i?o(i):-1},l=o(e.target);l<0&&((l=s(e.clientX+this.thumbGap,e.clientY))===r&&(l=r-1)),l<0&&((l=s(e.clientX-this.thumbGap,e.clientY))===r&&(l=r+1)),l<0&&(t=this.thumbExtraGap,i=s(e.clientX-t,e.clientY),n=s(e.clientX+t,e.clientY),l<0&&i===r&&(l=r+1),l<0&&n===r&&(l=r-1)),l===r?this.centerModern():l>-1&&l<a.pages.length&&a.slideTo(l)}},{key:"onTransformM",value:function(){if("modern"===this.type){var e=this,t=e.instance,i=e.container,n=e.track,a=t.panzoom;if(i&&n&&a&&this.panzoom){k(i,this.cn("isResting"),a.state!==A.Init&&a.isResting);var r=this.thumbGap,o=this.thumbExtraGap,s=this.thumbClipWidth,l=0,c=0,u=0,h=!0,d=!1,f=void 0;try{for(var v,p=t.slides[Symbol.iterator]();!(h=(v=p.next()).done);h=!0){var g=v.value,m=g.index,y=g.thumbSlideEl;if(y){k(y,this.cn("isSelected"),m===t.page),c=1-Math.abs(t.getProgress(m)),y.style.setProperty("--progress",c?c+"":"");var b=.5*((g.thumbWidth||0)-s);l+=r,l+=b,c&&(l-=c*(b+o)),y.style.setProperty("--shift",l-r+""),l+=b,c&&(l-=c*(b+o)),l-=r,0===m&&(u=o*c)}}}catch(e){d=!0,f=e}finally{try{h||null==p.return||p.return()}finally{if(d)throw f}}n&&(n.style.setProperty("--left",u+""),n.style.setProperty("--width",l+u+r+o*c+"")),this.shouldCenter&&this.centerModern()}}}},{key:"buildClassic",value:function(){var e=this,t=this.container,i=this.track,n=this.getSlides();if(t&&i&&n){var a=new this.instance.constructor(t,M({track:i,infinite:!1,center:!0,fill:!0,dragFree:!0,slidesPerPage:1,transition:!1,Dots:!1,Navigation:!1,classes:{container:"f-thumbs",viewport:"f-thumbs__viewport",track:"f-thumbs__track",slide:"f-thumbs__slide"}},this.option("Carousel")||{},{Sync:{target:this.instance},slides:n}));this.carousel=a,this.track=i,a.on("ready",(function(){e.emit("ready")})),a.on("createSlide",(function(t,i){e.emit("createSlide",i,i.el)}))}}},{key:"buildModern",value:function(){var e=this;if("modern"===this.type){var t=this,i=t.container,n=t.track,a=t.instance,r=this.option("thumbTpl")||"";if(i&&n&&r){i.addEventListener("keydown",(function(){H(i,"is-using-mouse")})),N(i,"is-horizontal"),this.updateModern();var o=!0,s=!1,l=void 0;try{for(var c,u=(a.slides||[])[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var h=c.value,d=document.createElement("div");if(N(d,this.cn("slide")),h.type){var f="for-".concat(h.type);["video","youtube","vimeo","html5video"].includes(h.type)&&(f+=" for-video"),N(d,f)}d.appendChild(b(this.formatThumb(h,r))),this.emit("createSlide",h,d),h.thumbSlideEl=d,n.appendChild(d),this.resizeModernSlide(h)}}catch(e){s=!0,l=e}finally{try{o||null==u.return||u.return()}finally{if(s)throw l}}var v=new a.constructor.Panzoom(i,{content:n,lockAxis:"x",zoom:!1,panOnlyZoomed:!1,bounds:function(){var t=0,i=0,n=a.slides[0],r=a.slides[a.slides.length-1],o=a.slides[a.page];return n&&r&&o&&(i=-1*e.getModernThumbPos(0),0!==a.page&&(i+=.5*(n.thumbWidth||0)),t=-1*e.getModernThumbPos(a.slides.length-1),a.page!==a.slides.length-1&&(t+=(r.thumbWidth||0)-(o.thumbWidth||0)-.5*(r.thumbWidth||0))),{x:{min:t,max:i},y:{min:0,max:0}}}});v.on("touchStart",(function(t,i){e.shouldCenter=!1,N(e.container,"is-using-mouse")})),v.on("click",(function(t,i){return e.onClickModern(i)})),v.on("ready",(function(){e.centerModern(),e.emit("ready")})),v.on(["afterTransform","refresh"],(function(t){e.lazyLoadModern()})),this.panzoom=v,this.refreshModern()}}}},{key:"updateModern",value:function(){if("modern"===this.type){var e=this.container;e&&(this.thumbGap=parseFloat(getComputedStyle(e).getPropertyValue("--f-thumb-gap"))||0,this.thumbExtraGap=parseFloat(getComputedStyle(e).getPropertyValue("--f-thumb-extra-gap"))||0,this.thumbWidth=parseFloat(getComputedStyle(e).getPropertyValue("--f-thumb-width"))||40,this.thumbClipWidth=parseFloat(getComputedStyle(e).getPropertyValue("--f-thumb-clip-width"))||40,this.thumbHeight=parseFloat(getComputedStyle(e).getPropertyValue("--f-thumb-height"))||40)}}},{key:"refreshModern",value:function(){var e;if("modern"===this.type){this.updateModern();var t=!0,i=!1,n=void 0;try{for(var a,r=(this.instance.slides||[])[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var o=a.value;this.resizeModernSlide(o)}}catch(e){i=!0,n=e}finally{try{t||null==r.return||r.return()}finally{if(i)throw n}}this.onTransformM(),null===(e=this.panzoom)||void 0===e||e.updateMetrics(!0),this.centerModern(0)}}},{key:"centerModern",value:function(e){var t=this.instance,i=this.container,n=this.panzoom;if(i&&n&&n.state!==A.Init){for(var a=t.page,r=this.getModernThumbPos(a),o=r,s=t.page-3;s<t.page+3;s++)if(!(s<0||s>t.pages.length-1||s===t.page)){var l=1-Math.abs(t.getProgress(s));l>0&&l<1&&(o+=l*(this.getModernThumbPos(s)-r))}var c=100;void 0===e&&(e=.2,t.inTransition.size>0&&(e=.12),Math.abs(-1*n.current.e-o)>n.containerRect.width&&(e=.5,c=0)),n.options.maxVelocity=c,n.applyChange({panX:g(-1*o-n.target.e,1e3),friction:null===t.prevPage?0:e})}}},{key:"lazyLoadModern",value:function(){var e=this.instance,t=this.panzoom;if(t){var i=-1*t.current.e||0,n=this.getModernThumbPos(e.page),a=!0,r=!1,o=void 0;if(t.state!==A.Init||0===n)try{for(var s,l=this,c=function(e,n){var a=n.value,r=l,o=a.thumbSlideEl;if(!o)return"continue";var s=o.querySelector("img[data-lazy-src]"),c=a.index,u=l.getModernThumbPos(c),h=i-.5*t.containerRect.innerWidth,d=h+t.containerRect.innerWidth;if(!s||u<h||u>d)return"continue";var f=s.dataset.lazySrc;if(!f||!f.length)return"continue";if(delete s.dataset.lazySrc,s.src=f,s.complete)return"continue";N(o,l.cn("isLoading"));var v=b(F);o.appendChild(v),s.addEventListener("load",(function(){o.offsetParent&&(o.classList.remove(r.cn("isLoading")),v.remove())}),!1)},u=(e.slides||[])[Symbol.iterator]();!(a=(s=u.next()).done);a=!0)c(0,s)}catch(e){r=!0,o=e}finally{try{a||null==u.return||u.return()}finally{if(r)throw o}}}}},{key:"resizeModernSlide",value:function(e){if("modern"===this.type&&e.thumbSlideEl){var t=e.thumbClipWidth&&e.thumbHeight?Math.round(this.thumbHeight*(e.thumbClipWidth/e.thumbHeight)):this.thumbWidth;e.thumbWidth=t}}},{key:"getModernThumbPos",value:function(e){var t=this.instance.slides[e],i=this.panzoom;if(!i||!i.contentRect.fitWidth)return 0;var n=i.containerRect.innerWidth,a=i.contentRect.width;2===this.instance.slides.length&&(e-=1,a=2*this.thumbClipWidth);var r=e*(this.thumbClipWidth+this.thumbGap)+this.thumbExtraGap+.5*(t.thumbWidth||0);return g((r-=a>n?.5*n:.5*a)||0,1)}},{key:"build",value:function(){var e=this.instance,t=e.container,i=this.option("minCount")||0;if(i){var n=0,a=!0,r=!1,o=void 0;try{for(var s,l=(e.slides||[])[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){s.value.thumbSrc&&n++}}catch(e){r=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}if(n<i)return this.cleanup(),void(this.state=ze.Disabled)}var c=this.option("type");if(["modern","classic"].indexOf(c)<0)this.state=ze.Disabled;else{this.type=c;var u=document.createElement("div");N(u,this.cn("container")),N(u,"is-".concat(c));var h=this.option("parentEl");h?h.appendChild(u):t.after(u),this.container=u,N(t,this.cn("hasThumbs"));var d=document.createElement("div");N(d,this.cn("track")),u.appendChild(d),this.track=d,"classic"===c?this.buildClassic():this.buildModern(),this.state=ze.Ready}}},{key:"cleanup",value:function(){this.carousel&&this.carousel.destroy(),this.carousel=null,this.panzoom&&this.panzoom.destroy(),this.panzoom=null,this.container&&this.container.remove(),this.container=null,this.track=null,this.state=ze.Init,H(this.instance.container,this.cn("hasThumbs"))}},{key:"attach",value:function(){var e=this,t=e.instance;t.on("initSlide",e.onInitSlide),t.state===U.Init?t.on("initSlides",e.onInitSlides):e.onInitSlides(),t.on("Panzoom.afterTransform",e.onTransformM),t.on("Panzoom.refresh",e.onRefreshM),t.on("change",e.onChangeM)}},{key:"detach",value:function(){var e=this,t=e.instance;t.off("initSlide",e.onInitSlide),t.off("initSlides",e.onInitSlides),t.off("Panzoom.afterTransform",e.onTransformM),t.off("Panzoom.refresh",e.onRefreshM),t.off("change",e.onChangeM),e.cleanup()}}]),n}(te);Object.defineProperty(je,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:Re});var Ie=Object.assign(Object.assign({},Re),{key:"t",showOnStart:!0,parentEl:null}),Fe="is-masked",_e="aria-hidden",He=function(e){"use strict";t(h)(n,e);var i=t(p)(n);function n(){var e;return t(o)(this,n),e=i.call.apply(i,[this].concat(Array.prototype.slice.call(arguments))),Object.defineProperty(t(a)(e),"ref",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t(a)(e),"hidden",{enumerable:!0,configurable:!0,writable:!0,value:!1}),t(d)(e)}return t(s)(n,[{key:"isEnabled",get:function(){var e=this.ref;return e&&e.state!==ze.Disabled}},{key:"isHidden",get:function(){return this.hidden}},{key:"onInit",value:function(){var e,t=this,i=this,n=i.instance,a=n.carousel;if(!i.ref&&a){var r=i.option("parentEl")||n.footer||n.container;if(r){var o=M({},i.options,{parentEl:r,classes:{container:"f-thumbs fancybox__thumbs"},Carousel:{Sync:{friction:n.option("Carousel.friction")||0}},on:{ready:function(e){var n=e.container;n&&t.hidden&&(i.refresh(),n.style.transition="none",i.hide(),n.offsetHeight,queueMicrotask((function(){n.style.transition="",i.show()})))}}});o.Carousel=o.Carousel||{},o.Carousel.on=M((null===(e=i.options.Carousel)||void 0===e?void 0:e.on)||{},{click:function(e,t){t.stopPropagation()}}),a.options.Thumbs=o,a.attachPlugins({Thumbs:je}),i.ref=a.plugins.Thumbs,i.option("showOnStart")||(i.ref.state=ze.Hidden,i.hidden=!0)}}}},{key:"onResize",value:function(){var e,t=null===(e=this.ref)||void 0===e?void 0:e.container;t&&(t.style.maxHeight="")}},{key:"onKeydown",value:function(e,t){var i=this.option("key");i&&i===t&&this.toggle()}},{key:"toggle",value:function(){var e=this.ref;e&&e.state!==ze.Disabled&&(e.state!==ze.Hidden?this.hidden?this.show():this.hide():e.build())}},{key:"show",value:function(){var e=this.ref,t=e&&e.state!==ze.Disabled&&e.container;t&&(this.refresh(),t.offsetHeight,t.removeAttribute(_e),t.classList.remove(Fe),this.hidden=!1)}},{key:"hide",value:function(){var e=this.ref,t=e&&e.container;t&&(this.refresh(),t.offsetHeight,t.classList.add(Fe),t.setAttribute(_e,"true")),this.hidden=!0}},{key:"refresh",value:function(){var e=this.ref;if(e&&e.state!==ze.Disabled){var t=e.container,i=(null==t?void 0:t.firstChild)||null;t&&i&&i.childNodes.length&&(t.style.maxHeight="".concat(i.getBoundingClientRect().height,"px"))}}},{key:"attach",value:function(){var e=this,t=e.instance;t.state===he.Init?t.on("Carousel.init",e.onInit):e.onInit(),t.on("resize",e.onResize),t.on("keydown",e.onKeydown)}},{key:"detach",value:function(){var e,t=this,i=t.instance;i.off("Carousel.init",t.onInit),i.off("resize",t.onResize),i.off("keydown",t.onKeydown),null===(e=i.carousel)||void 0===e||e.detachPlugins(["Thumbs"]),t.ref=null}}]),n}(te);Object.defineProperty(He,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:Ie});var Ne,Be,We={panLeft:{icon:'<svg><path d="M5 12h14M5 12l6 6M5 12l6-6"/></svg>',change:{panX:-100}},panRight:{icon:'<svg><path d="M5 12h14M13 18l6-6M13 6l6 6"/></svg>',change:{panX:100}},panUp:{icon:'<svg><path d="M12 5v14M18 11l-6-6M6 11l6-6"/></svg>',change:{panY:-100}},panDown:{icon:'<svg><path d="M12 5v14M18 13l-6 6M6 13l6 6"/></svg>',change:{panY:100}},zoomIn:{icon:'<svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M11 8v6M8 11h6"/></svg>',action:"zoomIn"},zoomOut:{icon:'<svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"zoomOut"},toggle1to1:{icon:'<svg><path d="M3.51 3.07c5.74.02 11.48-.02 17.22.02 1.37.1 2.34 1.64 2.18 3.13 0 4.08.02 8.16 0 12.23-.1 1.54-1.47 2.64-2.79 2.46-5.61-.01-11.24.02-16.86-.01-1.36-.12-2.33-1.65-2.17-3.14 0-4.07-.02-8.16 0-12.23.1-1.36 1.22-2.48 2.42-2.46Z"/><path d="M5.65 8.54h1.49v6.92m8.94-6.92h1.49v6.92M11.5 9.4v.02m0 5.18v0"/></svg>',action:"toggleZoom"},toggleZoom:{icon:'<svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"toggleZoom"},iterateZoom:{icon:'<svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"iterateZoom"},rotateCCW:{icon:'<svg><path d="M15 4.55a8 8 0 0 0-6 14.9M9 15v5H4M18.37 7.16v.01M13 19.94v.01M16.84 18.37v.01M19.37 15.1v.01M19.94 11v.01"/></svg>',action:"rotateCCW"},rotateCW:{icon:'<svg><path d="M9 4.55a8 8 0 0 1 6 14.9M15 15v5h5M5.63 7.16v.01M4.06 11v.01M4.63 15.1v.01M7.16 18.37v.01M11 19.94v.01"/></svg>',action:"rotateCW"},flipX:{icon:'<svg style="stroke-width: 1.3"><path d="M12 3v18M16 7v10h5L16 7M8 7v10H3L8 7"/></svg>',action:"flipX"},flipY:{icon:'<svg style="stroke-width: 1.3"><path d="M3 12h18M7 16h10L7 21v-5M7 8h10L7 3v5"/></svg>',action:"flipY"},fitX:{icon:'<svg><path d="M4 12V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v6M10 18H3M21 18h-7M6 15l-3 3 3 3M18 15l3 3-3 3"/></svg>',action:"fitX"},fitY:{icon:'<svg><path d="M12 20H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h6M18 14v7M18 3v7M15 18l3 3 3-3M15 6l3-3 3 3"/></svg>',action:"fitY"},reset:{icon:'<svg><path d="M20 11A8.1 8.1 0 0 0 4.5 9M4 5v4h4M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"/></svg>',action:"reset"},toggleFS:{icon:'<svg><g><path d="M14.5 9.5 21 3m0 0h-6m6 0v6M3 21l6.5-6.5M3 21v-6m0 6h6"/></g><g><path d="m14 10 7-7m-7 7h6m-6 0V4M3 21l7-7m0 0v6m0-6H4"/></g></svg>',action:"toggleFS"}};(Be=Ne||(Ne={}))[Be.Init=0]="Init",Be[Be.Ready=1]="Ready",Be[Be.Disabled=2]="Disabled";var Xe={tabindex:"-1",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Ye=function(e){"use strict";t(h)(n,e);var i=t(p)(n);function n(){var e;return t(o)(this,n),e=i.call.apply(i,[this].concat(Array.prototype.slice.call(arguments))),Object.defineProperty(t(a)(e),"state",{enumerable:!0,configurable:!0,writable:!0,value:Ne.Init}),Object.defineProperty(t(a)(e),"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),t(d)(e)}return t(s)(n,[{key:"onReady",value:function(e){var i;if(e.carousel){var n=this.option("display"),a=this.option("absolute"),r=this.option("enabled");if("auto"===r){var o=this.instance.carousel,s=0,l=!0,c=!1,u=void 0;if(o)try{for(var h,d=o.slides[Symbol.iterator]();!(l=(h=d.next()).done);l=!0){var v=h.value;(v.panzoom||"image"===v.type)&&s++}}catch(e){c=!0,u=e}finally{try{l||null==d.return||d.return()}finally{if(c)throw u}}s||(r=!1)}r||(n=void 0);var p=0,g={left:[],middle:[],right:[]},m=!0,y=!1,b=void 0,w=!0,k=!1,x=void 0;if(n)try{for(var S,E=["left","middle","right"][Symbol.iterator]();!(w=(S=E.next()).done);w=!0){var P=S.value;try{for(var O,T=n[P][Symbol.iterator]();!(m=(O=T.next()).done);m=!0){var M=O.value,C=this.createEl(M);C&&(null===(i=g[P])||void 0===i||i.push(C),p++)}}catch(e){y=!0,b=e}finally{try{m||null==T.return||T.return()}finally{if(y)throw b}}}}catch(e){k=!0,x=e}finally{try{w||null==E.return||E.return()}finally{if(k)throw x}}var L=null;if(p&&(L=this.createContainer()),L){var A=!0,z=!1,D=void 0;try{for(var R,j=Object.entries(g)[Symbol.iterator]();!(A=(R=j.next()).done);A=!0){var I=t(f)(R.value,2),F=I[0],_=I[1],H=document.createElement("div");N(H,"fancybox__toolbar__column is-"+F);var B=!0,W=!1,X=void 0;try{for(var Y,q=_[Symbol.iterator]();!(B=(Y=q.next()).done);B=!0){var V=Y.value;H.appendChild(V)}}catch(e){W=!0,X=e}finally{try{B||null==q.return||q.return()}finally{if(W)throw X}}"auto"!==a||"middle"!==F||_.length||(a=!0),L.appendChild(H)}}catch(e){z=!0,D=e}finally{try{A||null==j.return||j.return()}finally{if(z)throw D}}!0===a&&N(L,"is-absolute"),this.state=Ne.Ready,this.onRefresh()}else this.state=Ne.Disabled}}},{key:"onClick",value:function(e){var t,i,n=this.instance,a=n.getSlide(),r=null==a?void 0:a.panzoom,o=e.target,s=o&&_(o)?o.dataset:null;if(s){if(void 0!==s.fancyboxToggleThumbs)return e.preventDefault(),e.stopPropagation(),void(null===(t=n.plugins.Thumbs)||void 0===t||t.toggle());if(void 0!==s.fancyboxToggleFullscreen)return e.preventDefault(),e.stopPropagation(),void this.instance.toggleFullscreen();if(void 0!==s.fancyboxToggleSlideshow){e.preventDefault(),e.stopPropagation();var l=null===(i=n.carousel)||void 0===i?void 0:i.plugins.Autoplay,c=l.isActive;return r&&"mousemove"===r.panMode&&!c&&r.reset(),void(c?l.stop():l.start())}var u=s.panzoomAction,h=s.panzoomChange;if((h||u)&&(e.preventDefault(),e.stopPropagation()),h){var d={};try{d=JSON.parse(h)}catch(e){}r&&r.applyChange(d)}else u&&r&&r[u]&&r[u]()}}},{key:"onChange",value:function(){this.onRefresh()}},{key:"onRefresh",value:function(){if(!this.instance.isClosing()){var e=this.container;if(e){var t=this.instance.getSlide();if(t&&t.state===de.Ready){var i=t&&!t.error&&t.panzoom,n=!0,a=!1,r=void 0;try{for(var o,s=e.querySelectorAll("[data-panzoom-action]")[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;i?(l.removeAttribute("disabled"),l.removeAttribute("tabindex")):(l.setAttribute("disabled",""),l.setAttribute("tabindex","-1"))}}catch(e){a=!0,r=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}var c=i&&i.canZoomIn(),u=i&&i.canZoomOut(),h=!0,d=!1,f=void 0;try{for(var v,p=e.querySelectorAll('[data-panzoom-action="zoomIn"]')[Symbol.iterator]();!(h=(v=p.next()).done);h=!0){var g=v.value;c?(g.removeAttribute("disabled"),g.removeAttribute("tabindex")):(g.setAttribute("disabled",""),g.setAttribute("tabindex","-1"))}}catch(e){d=!0,f=e}finally{try{h||null==p.return||p.return()}finally{if(d)throw f}}var m=!0,y=!1,b=void 0;try{for(var w,k=e.querySelectorAll('[data-panzoom-action="zoomOut"]')[Symbol.iterator]();!(m=(w=k.next()).done);m=!0){var x=w.value;u?(x.removeAttribute("disabled"),x.removeAttribute("tabindex")):(x.setAttribute("disabled",""),x.setAttribute("tabindex","-1"))}}catch(e){y=!0,b=e}finally{try{m||null==k.return||k.return()}finally{if(y)throw b}}var S=!0,E=!1,P=void 0;try{for(var O,T=e.querySelectorAll('[data-panzoom-action="toggleZoom"],[data-panzoom-action="iterateZoom"]')[Symbol.iterator]();!(S=(O=T.next()).done);S=!0){var M=O.value;u||c?(M.removeAttribute("disabled"),M.removeAttribute("tabindex")):(M.setAttribute("disabled",""),M.setAttribute("tabindex","-1"));var C=M.querySelector("g");C&&(C.style.display=c?"":"none")}}catch(e){E=!0,P=e}finally{try{S||null==T.return||T.return()}finally{if(E)throw P}}}}}}},{key:"onDone",value:function(e,t){var i,n=this;null===(i=t.panzoom)||void 0===i||i.on("afterTransform",(function(){n.instance.isCurrentSlide(t)&&n.onRefresh()})),this.instance.isCurrentSlide(t)&&this.onRefresh()}},{key:"createContainer",value:function(){var e=this.instance.container;if(!e)return null;var t=this.option("parentEl")||e,i=document.createElement("div");return N(i,"fancybox__toolbar"),t.prepend(i),i.addEventListener("click",this.onClick,{passive:!1,capture:!0}),e&&N(e,"has-toolbar"),this.container=i,i}},{key:"createEl",value:function(e){var i=this.instance,n=i.carousel;if(!n)return null;if("toggleFS"===e)return null;if("fullscreen"===e&&!i.fsAPI)return null;var a=null,r=n.slides.length||0,o=0,s=0,l=!0,c=!1,u=void 0;try{for(var h,d=n.slides[Symbol.iterator]();!(l=(h=d.next()).done);l=!0){var v=h.value;(v.panzoom||"image"===v.type)&&o++,("image"===v.type||v.downloadSrc)&&s++}}catch(e){c=!0,u=e}finally{try{l||null==d.return||d.return()}finally{if(c)throw u}}if(r<2&&["infobar","prev","next"].includes(e))return a;if(void 0!==We[e]&&!o)return null;if("download"===e&&!s)return null;if("thumbs"===e){var p=i.plugins.Thumbs;if(!p||!p.isEnabled)return null}if("slideshow"===e&&(!n.plugins.Autoplay||r<2))return null;if(void 0!==We[e]){var g=We[e];(a=document.createElement("button")).setAttribute("title",this.instance.localize("{{".concat(e.toUpperCase(),"}}"))),N(a,"f-button"),g.action&&(a.dataset.panzoomAction=g.action),g.change&&(a.dataset.panzoomChange=JSON.stringify(g.change)),a.appendChild(b(this.instance.localize(g.icon)))}else{var m=this,y=(this.option("items")||[])[e];y&&(a=b(this.instance.localize(y.tpl)),"function"==typeof y.click&&a.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),"function"==typeof y.click&&y.click.call(m,m,e)})))}var w=null==a?void 0:a.querySelector("svg"),k=!0,x=!1,S=void 0;if(w)try{for(var E,P=Object.entries(Xe)[Symbol.iterator]();!(k=(E=P.next()).done);k=!0){var O=t(f)(E.value,2),T=O[0],M=O[1];w.getAttribute(T)||w.setAttribute(T,String(M))}}catch(e){x=!0,S=e}finally{try{k||null==P.return||P.return()}finally{if(x)throw S}}return a}},{key:"removeContainer",value:function(){var e=this.container;e&&e.remove(),this.container=null,this.state=Ne.Disabled;var t=this.instance.container;t&&H(t,"has-toolbar")}},{key:"attach",value:function(){var e=this,t=e.instance;t.on("Carousel.initSlides",e.onReady),t.on("done",e.onDone),t.on("reveal",e.onChange),t.on("Carousel.change",e.onChange),e.onReady(e.instance)}},{key:"detach",value:function(){var e=this,t=e.instance;t.off("Carousel.initSlides",e.onReady),t.off("done",e.onDone),t.off("reveal",e.onChange),t.off("Carousel.change",e.onChange),e.removeContainer()}}]),n}(te);Object.defineProperty(Ye,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{absolute:"auto",display:{left:["infobar"],middle:[],right:["iterateZoom","slideshow","fullscreen","thumbs","close"]},enabled:"auto",items:{infobar:{tpl:'<div class="fancybox__infobar" tabindex="-1"><span data-fancybox-current-index></span>/<span data-fancybox-count></span></div>'},download:{tpl:'<a class="f-button" title="{{DOWNLOAD}}" data-fancybox-download href="javasript:;"><svg><path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2M7 11l5 5 5-5M12 4v12"/></svg></a>'},prev:{tpl:'<button class="f-button" title="{{PREV}}" data-fancybox-prev><svg><path d="m15 6-6 6 6 6"/></svg></button>'},next:{tpl:'<button class="f-button" title="{{NEXT}}" data-fancybox-next><svg><path d="m9 6 6 6-6 6"/></svg></button>'},slideshow:{tpl:'<button class="f-button" title="{{TOGGLE_SLIDESHOW}}" data-fancybox-toggle-slideshow><svg><g><path d="M8 4v16l13 -8z"></path></g><g><path d="M8 4v15M17 4v15"/></g></svg></button>'},fullscreen:{tpl:'<button class="f-button" title="{{TOGGLE_FULLSCREEN}}" data-fancybox-toggle-fullscreen><svg><g><path d="M4 8V6a2 2 0 0 1 2-2h2M4 16v2a2 2 0 0 0 2 2h2M16 4h2a2 2 0 0 1 2 2v2M16 20h2a2 2 0 0 0 2-2v-2"/></g><g><path d="M15 19v-2a2 2 0 0 1 2-2h2M15 5v2a2 2 0 0 0 2 2h2M5 15h2a2 2 0 0 1 2 2v2M5 9h2a2 2 0 0 0 2-2V5"/></g></svg></button>'},thumbs:{tpl:'<button class="f-button" title="{{TOGGLE_THUMBS}}" data-fancybox-toggle-thumbs><svg><circle cx="5.5" cy="5.5" r="1"/><circle cx="12" cy="5.5" r="1"/><circle cx="18.5" cy="5.5" r="1"/><circle cx="5.5" cy="12" r="1"/><circle cx="12" cy="12" r="1"/><circle cx="18.5" cy="12" r="1"/><circle cx="5.5" cy="18.5" r="1"/><circle cx="12" cy="18.5" r="1"/><circle cx="18.5" cy="18.5" r="1"/></svg></button>'},close:{tpl:'<button class="f-button" title="{{CLOSE}}" data-fancybox-close><svg><path d="m19.5 4.5-15 15M4.5 4.5l15 15"/></svg></button>'}},parentEl:null}});var qe={Hash:ke,Html:Oe,Images:Se,Slideshow:Ae,Thumbs:He,Toolbar:Ye},Ve="with-fancybox",Ze="hide-scrollbar",Ge="--fancybox-scrollbar-compensate",Ue="--fancybox-body-margin",Ke="is-animated",Je="is-compact",Qe="is-loading",$e=function(){var e=window.getSelection();return e&&"Range"===e.type},et=null,tt=null,it=new Map,nt=0,at=function(e){"use strict";t(h)(n,e);var i=t(p)(n);function n(){var e,r,s,l,c,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t(o)(this,n),e=i.call(this,h),Object.defineProperty(t(a)(e),"userSlides",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(t(a)(e),"userPlugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(t(a)(e),"idle",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(t(a)(e),"idleTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t(a)(e),"clickTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t(a)(e),"pwt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(t(a)(e),"ignoreFocusChange",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(t(a)(e),"state",{enumerable:!0,configurable:!0,writable:!0,value:he.Init}),Object.defineProperty(t(a)(e),"id",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(t(a)(e),"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t(a)(e),"footer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t(a)(e),"caption",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t(a)(e),"carousel",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t(a)(e),"lastFocus",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t(a)(e),"prevMouseMoveEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t(a)(e),"fsAPI",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e.fsAPI=(s="",l="",c="",document.fullscreenEnabled?(s="requestFullscreen",l="exitFullscreen",c="fullscreenElement"):document.webkitFullscreenEnabled&&(s="webkitRequestFullscreen",l="webkitExitFullscreen",c="webkitFullscreenElement"),s&&(r={request:function(e){return"webkitRequestFullscreen"===s?e[s](Element.ALLOW_KEYBOARD_INPUT):e[s]()},exit:function(){return document[c]&&document[l]()},isFullscreen:function(){return document[c]}}),r),e.id=h.id||++nt,it.set(e.id,t(a)(e)),e.userSlides=u,e.userPlugins=f,queueMicrotask((function(){e.init()})),t(d)(e)}return t(s)(n,[{key:"isIdle",get:function(){return this.idle}},{key:"isCompact",get:function(){return this.option("compact")}},{key:"init",value:function(){var e=this;if(this.state!==he.Destroy){this.state=he.Init,this.attachPlugins(Object.assign(Object.assign({},n.Plugins),this.userPlugins)),this.emit("init"),!0===this.option("hideScrollbar")&&function(){if(ge){var e=document.body;if(!e.classList.contains(Ze)){var t=window.innerWidth-document.documentElement.getBoundingClientRect().width;t<0&&(t=0);var i=e.currentStyle||window.getComputedStyle(e),n=parseFloat(i.marginRight);document.documentElement.style.setProperty(Ge,"".concat(t,"px")),n&&e.style.setProperty(Ue,"".concat(n,"px")),e.classList.add(Ze)}}}(),this.initLayout(),this.scale();var t=function(){var t=e;e.initCarousel(e.userSlides),e.state=he.Ready,e.attachEvents(),e.emit("ready"),setTimeout((function(){t.container&&t.container.setAttribute("aria-hidden","false")}),16)},i=this.fsAPI;this.option("Fullscreen.autoStart")&&i&&!i.isFullscreen()?i.request(this.container).then((function(){return t()})).catch((function(){return t()})):t()}}},{key:"initLayout",value:function(){var e,t,i=this,n=this.option("parentEl")||document.body,a=b(this.localize(this.option("tpl.main")||""));a&&(a.setAttribute("id","fancybox-".concat(this.id)),a.setAttribute("aria-label",this.localize("{{MODAL}}")),a.classList.toggle(Je,this.isCompact),N(a,this.option("mainClass")||""),this.container=a,this.footer=a.querySelector(".fancybox__footer"),n.appendChild(a),N(document.documentElement,Ve),et&&tt||(et=document.createElement("span"),N(et,"fancybox-focus-guard"),et.setAttribute("tabindex","0"),et.setAttribute("aria-hidden","true"),et.setAttribute("aria-label","Focus guard"),tt=et.cloneNode(),null===(e=a.parentElement)||void 0===e||e.insertBefore(et,a),null===(t=a.parentElement)||void 0===t||t.append(tt)),this.option("animated")&&(N(a,Ke),setTimeout((function(){i.isClosing()||H(a,Ke)}),350)),this.emit("initLayout"))}},{key:"initCarousel",value:function(e){var i=this,n=this.container;if(n){var a=n.querySelector(".fancybox__carousel");if(a){var r=this.carousel=new ce(a,M({},{slides:e,transition:"fade",Panzoom:{lockAxis:this.option("dragToClose")?"xy":"x",infinite:!!this.option("dragToClose")&&"y"},Dots:!1,Navigation:{classes:{container:"fancybox__nav",button:"f-button",isNext:"is-next",isPrev:"is-prev"}},initialPage:this.option("startIndex"),l10n:this.option("l10n")},this.option("Carousel")||{}));r.on("*",(function(e,n){for(var a=arguments.length,r=new Array(a>2?a-2:0),o=2;o<a;o++)r[o-2]=arguments[o];i.emit.apply(i,["Carousel.".concat(n),e].concat(t(v)(r)))})),r.on(["ready","change"],(function(){var e,t=i.getSlide();t&&(null===(e=t.panzoom)||void 0===e||e.updateControls()),i.manageCaption(t)})),this.on("Carousel.removeSlide",(function(e,t,i){i.contentEl&&(i.contentEl.remove(),i.contentEl=void 0);var n=i.el;n&&(H(n,"has-error"),H(n,"has-unknown"),H(n,"has-".concat(i.type||"unknown"))),i.closeBtnEl&&i.closeBtnEl.remove(),i.closeBtnEl=void 0,i.captionEl&&i.captionEl.remove(),i.captionEl=void 0,i.spinnerEl&&i.spinnerEl.remove(),i.spinnerEl=void 0,i.state=void 0})),r.on("Panzoom.touchStart",(function(){var e,t;i.isCompact||i.endIdle(),(null===(e=document.activeElement)||void 0===e?void 0:e.closest(".f-thumbs"))&&(null===(t=i.container)||void 0===t||t.focus())})),r.on("settle",(function(){i.idleTimer||i.isCompact||!i.option("idle")||i.setIdle(),i.option("autoFocus")&&!i.isClosing&&i.checkFocus()})),this.option("dragToClose")&&(r.on("Panzoom.afterTransform",(function(e,t){var n=i.getSlide();if(!n||!m(n.el)){var a=i.container;if(a){var r=Math.abs(t.current.f),o=r<1?"":Math.max(.5,Math.min(1,1-r/t.contentRect.fitHeight*1.5));a.style.setProperty("--fancybox-ts",o?"0s":""),a.style.setProperty("--fancybox-opacity",o+"")}}})),r.on("Panzoom.touchEnd",(function(e,t,n){var a,r=i.getSlide();if(!(r&&m(r.el)||t.isMobile&&document.activeElement&&-1!==["TEXTAREA","INPUT"].indexOf(null===(a=document.activeElement)||void 0===a?void 0:a.nodeName))){var o=Math.abs(t.dragOffset.y);"y"===t.lockedAxis&&(o>=200||o>=50&&t.dragOffset.time<300)&&(n&&n.cancelable&&n.preventDefault(),i.close(n,"f-throwOut"+(t.current.f<0?"Up":"Down")))}}))),r.on("change",(function(e){var t,n=null===(t=i.getSlide())||void 0===t?void 0:t.triggerEl;if(n){var a=new CustomEvent("slideTo",{bubbles:!0,cancelable:!0,detail:e.page});n.dispatchEvent(a)}})),r.on(["refresh","change"],(function(e){var t=i.container;if(t){var n=!0,a=!1,r=void 0;try{for(var o,s=t.querySelectorAll("[data-fancybox-current-index]")[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){o.value.innerHTML=e.page+1}}catch(e){a=!0,r=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}var l=!0,c=!1,u=void 0;try{for(var h,d=t.querySelectorAll("[data-fancybox-count]")[Symbol.iterator]();!(l=(h=d.next()).done);l=!0){h.value.innerHTML=e.pages.length}}catch(e){c=!0,u=e}finally{try{l||null==d.return||d.return()}finally{if(c)throw u}}if(!e.isInfinite){var f=!0,v=!1,p=void 0;try{for(var g,m=t.querySelectorAll("[data-fancybox-next]")[Symbol.iterator]();!(f=(g=m.next()).done);f=!0){var y=g.value;e.page<e.pages.length-1?(y.removeAttribute("disabled"),y.removeAttribute("tabindex")):(y.setAttribute("disabled",""),y.setAttribute("tabindex","-1"))}}catch(e){v=!0,p=e}finally{try{f||null==m.return||m.return()}finally{if(v)throw p}}var b=!0,w=!1,k=void 0;try{for(var x,S=t.querySelectorAll("[data-fancybox-prev]")[Symbol.iterator]();!(b=(x=S.next()).done);b=!0){var E=x.value;e.page>0?(E.removeAttribute("disabled"),E.removeAttribute("tabindex")):(E.setAttribute("disabled",""),E.setAttribute("tabindex","-1"))}}catch(e){w=!0,k=e}finally{try{b||null==S.return||S.return()}finally{if(w)throw k}}}var P=i.getSlide();if(P){var O=P.downloadSrc||"";O||"image"!==P.type||P.error||"string"!=typeof P.src||(O=P.src);var T="disabled",M="tabindex",C="download",L="href",A=!0,z=!1,D=void 0;try{for(var R,j=t.querySelectorAll("[data-fancybox-download]")[Symbol.iterator]();!(A=(R=j.next()).done);A=!0){var I=R.value,F=P.downloadFilename;O?(I.removeAttribute(T),I.removeAttribute(M),I.setAttribute(L,O),I.setAttribute(C,F||O),I.setAttribute("target","_blank")):(I.setAttribute(T,""),I.setAttribute(M,"-1"),I.removeAttribute(L),I.removeAttribute(C))}}catch(e){z=!0,D=e}finally{try{A||null==j.return||j.return()}finally{if(z)throw D}}}}})),this.emit("initCarousel")}}}},{key:"attachEvents",value:function(){var e=this,t=e.container;if(t){t.addEventListener("click",e.onClick,{passive:!1,capture:!1}),t.addEventListener("wheel",e.onWheel,{passive:!1,capture:!1}),document.addEventListener("keydown",e.onKeydown,{passive:!1,capture:!0}),document.addEventListener("visibilitychange",e.onVisibilityChange,!1),document.addEventListener("mousemove",e.onMousemove),e.option("trapFocus")&&document.addEventListener("focus",e.onFocus,!0),window.addEventListener("resize",e.onResize);var i=window.visualViewport;i&&(i.addEventListener("scroll",e.onResize),i.addEventListener("resize",e.onResize))}}},{key:"detachEvents",value:function(){var e=this,t=e.container;if(t){document.removeEventListener("keydown",e.onKeydown,{passive:!1,capture:!0}),t.removeEventListener("wheel",e.onWheel,{passive:!1,capture:!1}),t.removeEventListener("click",e.onClick,{passive:!1,capture:!1}),document.removeEventListener("mousemove",e.onMousemove),window.removeEventListener("resize",e.onResize);var i=window.visualViewport;i&&(i.removeEventListener("resize",e.onResize),i.removeEventListener("scroll",e.onResize)),document.removeEventListener("visibilitychange",e.onVisibilityChange,!1),document.removeEventListener("focus",e.onFocus,!0)}}},{key:"scale",value:function(){var e=this.container;if(e){var t=window.visualViewport,i=Math.max(1,(null==t?void 0:t.scale)||1),n="",a="",r="";if(t&&i>1){var o="".concat(t.offsetLeft,"px"),s="".concat(t.offsetTop,"px");n=t.width*i+"px",a=t.height*i+"px",r="translate3d(".concat(o,", ").concat(s,", 0) scale(").concat(1/i,")")}e.style.transform=r,e.style.width=n,e.style.height=a}}},{key:"onClick",value:function(e){var t,i,n=this,a=this.container,r=this.isCompact;if(a&&!this.isClosing()){!r&&this.option("idle")&&this.resetIdle();var o=document.activeElement;if(!($e()&&o&&a.contains(o))){var s=e.composedPath()[0];if(s!==(null===(t=this.carousel)||void 0===t?void 0:t.container)){if(s.closest(".f-spinner")||s.closest("[data-fancybox-close]"))return e.preventDefault(),void this.close(e);if(s.closest("[data-fancybox-prev]"))return e.preventDefault(),void this.prev();if(s.closest("[data-fancybox-next]"))return e.preventDefault(),void this.next();if(r&&"image"===(null===(i=this.getSlide())||void 0===i?void 0:i.type))this.clickTimer?(clearTimeout(this.clickTimer),this.clickTimer=null):this.clickTimer=setTimeout((function(){n.toggleIdle(),n.clickTimer=null}),350);else if(this.emit("click",e),!e.defaultPrevented){var l=!1;if(s.closest(".fancybox__content")){if(o){if(o.closest("[contenteditable]"))return;s.matches(me)||o.blur()}if($e())return;l=this.option("contentClick")}else s.closest(".fancybox__carousel")&&!s.matches(me)&&(l=this.option("backdropClick"));"close"===l?(e.preventDefault(),this.close(e)):"next"===l?(e.preventDefault(),this.next()):"prev"===l&&(e.preventDefault(),this.prev())}}}}}},{key:"onWheel",value:function(e){var t,i=this.option("wheel",e);(null===(t=e.target)||void 0===t?void 0:t.closest(".fancybox__thumbs"))&&(i="slide");var n="slide"===i,a=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce((function(e,t){return Math.abs(t)>Math.abs(e)?t:e})),r=Math.max(-1,Math.min(1,a)),o=Date.now();this.pwt&&o-this.pwt<300?n&&e.preventDefault():(this.pwt=o,this.emit("wheel",e),e.defaultPrevented||("close"===i?(e.preventDefault(),this.close(e)):"slide"===i&&(e.preventDefault(),this[r>0?"prev":"next"]())))}},{key:"onKeydown",value:function(e){if(this.isTopmost()){this.isCompact||!this.option("idle")||this.isClosing()||this.resetIdle();var t=e.key,i=this.option("keyboard");if(i&&!e.ctrlKey&&!e.altKey&&!e.shiftKey){var n=e.composedPath()[0],a=document.activeElement&&document.activeElement.classList,r=a&&a.contains("f-button")||n.dataset.carouselPage||n.dataset.carouselIndex;if("Escape"===t||r||!_(n)||!n.isContentEditable&&-1===["TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].indexOf(n.nodeName)){this.emit("keydown",t,e);var o=i[t];"function"==typeof this[o]&&(e.preventDefault(),this[o]())}}}}},{key:"onResize",value:function(){var e=this.container;if(e){var t=this.isCompact;e.classList.toggle("is-compact",t),this.manageCaption(this.getSlide()),this.isCompact?this.clearIdle():this.endIdle(),this.scale(),this.emit("resize")}}},{key:"onFocus",value:function(e){this.isTopmost()&&this.checkFocus(e)}},{key:"onMousemove",value:function(e){this.prevMouseMoveEvent=e,!this.isCompact&&this.option("idle")&&this.resetIdle()}},{key:"onVisibilityChange",value:function(){"visible"===document.visibilityState?this.checkFocus():this.endIdle()}},{key:"manageCloseBtn",value:function(e){var t=this.optionFor(e,"closeButton")||!1;if("auto"===t){var i=this.plugins.Toolbar;if(i&&i.state===Ne.Ready)return}if(t&&e.contentEl&&!e.closeBtnEl){var n=this.option("tpl.closeButton");if(n){var a=b(this.localize(n));e.closeBtnEl=e.contentEl.appendChild(a),e.el&&N(e.el,"has-close-btn")}}}},{key:"manageCaption",value:function(e){var t,i,n=this,a="fancybox__caption",r="has-caption",o=this.container;if(o){var s=this.isCompact||this.option("commonCaption"),l=!s,c=!0,u=!1,h=void 0;if(this.caption&&this.stop(this.caption),l&&this.caption&&(this.caption.remove(),this.caption=null),s&&!this.caption)try{for(var d,f=((null===(t=this.carousel)||void 0===t?void 0:t.slides)||[])[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var v=d.value;v.captionEl&&(v.captionEl.remove(),v.captionEl=void 0,H(v.el,r),null===(i=v.el)||void 0===i||i.removeAttribute("aria-labelledby"))}}catch(e){u=!0,h=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw h}}if(e||(e=this.getSlide()),e&&(!s||this.isCurrentSlide(e))){var p=e.el,g=this.optionFor(e,"caption","");if(g){var m=null;if(l){if(m=e.captionEl||null,p&&!m){var y=a+"_".concat(this.id,"_").concat(e.index);m=document.createElement("div"),N(m,a),m.setAttribute("id",y),e.captionEl=p.appendChild(m),N(p,r),p.setAttribute("aria-labelledby",y)}}else(m=this.caption)||(m=o.querySelector("."+a)),m||((m=document.createElement("div")).dataset.fancyboxCaption="",N(m,a),(this.footer||o).prepend(m)),N(o,r),this.caption=m;m&&(m.innerHTML="","string"==typeof g?m.innerHTML=g:g instanceof HTMLElement&&m.appendChild(g))}else s&&this.caption&&this.animate(this.caption,"f-fadeOut",(function(){n.caption&&(n.caption.innerHTML="")}))}}}},{key:"checkFocus",value:function(e){var t,i=document.activeElement||null;i&&(null===(t=this.container)||void 0===t?void 0:t.contains(i))||this.focus(e)}},{key:"focus",value:function(e){var t;if(!this.ignoreFocusChange){var i=document.activeElement||null,n=(null==e?void 0:e.target)||null,a=this.container,r=this.getSlide();if(a&&(null===(t=this.carousel)||void 0===t?void 0:t.viewport)&&(e||!i||!a.contains(i))){var o=r&&r.state===de.Ready?r.el:null;if(o&&!o.contains(i)&&a!==i){e&&e.cancelable&&e.preventDefault(),this.ignoreFocusChange=!0;var s=Array.from(a.querySelectorAll(me)),l=[],c=null,u=!0,h=!1,d=void 0;try{for(var f,v=s[Symbol.iterator]();!(u=(f=v.next()).done);u=!0){var p=f.value,g=!p.offsetParent||p.closest('[aria-hidden="true"]'),m=o&&o.contains(p),y=!this.carousel.viewport.contains(p);if(p===a||(m||y)&&!g){l.push(p);var b=p.dataset.origTabindex;void 0!==b&&b&&(p.tabIndex=parseFloat(b)),p.removeAttribute("data-orig-tabindex"),!p.hasAttribute("autoFocus")&&c||(c=p)}else{var w=void 0===p.dataset.origTabindex?p.getAttribute("tabindex")||"":p.dataset.origTabindex;w&&(p.dataset.origTabindex=w),p.tabIndex=-1}}}catch(e){h=!0,d=e}finally{try{u||null==v.return||v.return()}finally{if(h)throw d}}var k=null;e?(!n||l.indexOf(n)<0)&&(k=c||a,l.length&&(i===tt?k=l[0]:this.lastFocus!==a&&i!==et||(k=l[l.length-1]))):k=r&&"image"===r.type?a:c||a,k&&ye(k),this.lastFocus=document.activeElement,this.ignoreFocusChange=!1}}}}},{key:"next",value:function(){var e=this.carousel;e&&e.pages.length>1&&e.slideNext()}},{key:"prev",value:function(){var e=this.carousel;e&&e.pages.length>1&&e.slidePrev()}},{key:"jumpTo",value:function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];var a;this.carousel&&(a=this.carousel).slideTo.apply(a,t(v)(i))}},{key:"isTopmost",value:function(){var e;return(null===(e=n.getInstance())||void 0===e?void 0:e.id)==this.id}},{key:"animate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0;if(e&&t){this.stop(e);var n=function(a){a.target===e&&e.dataset.animationName&&(e.removeEventListener("animationend",n),delete e.dataset.animationName,i&&i(),H(e,t))};e.dataset.animationName=t,e.addEventListener("animationend",n),N(e,t)}else i&&i()}},{key:"stop",value:function(e){e&&e.dispatchEvent(new CustomEvent("animationend",{bubbles:!1,cancelable:!0,currentTarget:e}))}},{key:"setContent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!this.isClosing()){var n=e.el;if(n){var a=null;if(_(t)?a=t:(a=b(t+""),_(a)||((a=document.createElement("div")).innerHTML=t+"")),["img","picture","iframe","video","audio"].includes(a.nodeName.toLowerCase())){var r=document.createElement("div");r.appendChild(a),a=r}_(a)&&e.filter&&!e.error&&(a=a.querySelector(e.filter)),a&&_(a)?(N(a,"fancybox__content"),e.id&&a.setAttribute("id",e.id),"none"!==a.style.display&&"none"!==getComputedStyle(a).getPropertyValue("display")||(a.style.display=e.display||this.option("defaultDisplay")||"flex"),n.classList.add("has-".concat(e.error?"error":e.type||"unknown")),n.prepend(a),e.contentEl=a,i&&this.revealContent(e),this.manageCloseBtn(e),this.manageCaption(e)):this.setError(e,"{{ELEMENT_NOT_FOUND}}")}}}},{key:"revealContent",value:function(e,t){var i=this,n=e.el,a=e.contentEl;n&&a&&(this.emit("reveal",e),this.hideLoading(e),e.state=de.Opening,(t=this.isOpeningSlide(e)?void 0===t?this.optionFor(e,"showClass"):t:"f-fadeIn")?this.animate(a,t,(function(){i.done(e)})):this.done(e))}},{key:"done",value:function(e){var t=this;this.isClosing()||(e.state=de.Ready,this.emit("done",e),N(e.el,"is-done"),this.isCurrentSlide(e)&&this.option("autoFocus")&&queueMicrotask((function(){t.option("autoFocus")&&(t.option("autoFocus")?t.focus():t.checkFocus())})),this.isOpeningSlide(e)&&!this.isCompact&&this.option("idle")&&this.setIdle())}},{key:"isCurrentSlide",value:function(e){var t=this.getSlide();return!(!e||!t)&&t.index===e.index}},{key:"isOpeningSlide",value:function(e){var t,i;return null===(null===(t=this.carousel)||void 0===t?void 0:t.prevPage)&&e.index===(null===(i=this.getSlide())||void 0===i?void 0:i.index)}},{key:"showLoading",value:function(e){var t=this;e.state=de.Loading;var i=e.el;i&&(N(i,Qe),this.emit("loading",e),e.spinnerEl||setTimeout((function(){if(!t.isClosing()&&!e.spinnerEl&&e.state===de.Loading){var n=b(F);e.spinnerEl=n,i.prepend(n),t.animate(n,"f-fadeIn")}}),250))}},{key:"hideLoading",value:function(e){var t=e.el;if(t){var i=e.spinnerEl;this.isClosing()?null==i||i.remove():(H(t,Qe),i&&this.animate(i,"f-fadeOut",(function(){i.remove()})),e.state===de.Loading&&(this.emit("loaded",e),e.state=de.Ready))}}},{key:"setError",value:function(e,t){if(!this.isClosing()){var i=new Event("error",{bubbles:!0,cancelable:!0});if(this.emit("error",i,e),!i.defaultPrevented){e.error=t,this.hideLoading(e),this.clearContent(e);var n=document.createElement("div");n.classList.add("fancybox-error"),n.innerHTML=this.localize(t||"<p>{{ERROR}}</p>"),this.setContent(e,n)}}}},{key:"clearContent",value:function(e){var t;null===(t=this.carousel)||void 0===t||t.emit("removeSlide",e)}},{key:"getSlide",value:function(){var e,t=this.carousel;return(null===(e=null==t?void 0:t.pages[null==t?void 0:t.page])||void 0===e?void 0:e.slides[0])||void 0}},{key:"close",value:function(e,t){var i=this;if(!this.isClosing()){var n=new Event("shouldClose",{bubbles:!0,cancelable:!0});if(this.emit("shouldClose",n,e),!n.defaultPrevented){e&&e.cancelable&&(e.preventDefault(),e.stopPropagation());var a=this.fsAPI,r=function(){i.proceedClose(e,t)};a&&a.isFullscreen()?Promise.resolve(a.exit()).then((function(){return r()})):r()}}}},{key:"clearIdle",value:function(){this.idleTimer&&clearTimeout(this.idleTimer),this.idleTimer=null}},{key:"setIdle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this,i=function(){t.clearIdle(),t.idle=!0,N(t.container,"is-idle"),t.emit("setIdle")};if(this.clearIdle(),!this.isClosing())if(e)i();else{var n=this.option("idle");n&&(this.idleTimer=setTimeout(i,n))}}},{key:"endIdle",value:function(){this.clearIdle(),this.idle&&!this.isClosing()&&(this.idle=!1,H(this.container,"is-idle"),this.emit("endIdle"))}},{key:"resetIdle",value:function(){this.endIdle(),this.setIdle()}},{key:"toggleIdle",value:function(){this.idle?this.endIdle():this.setIdle(!0)}},{key:"toggleFullscreen",value:function(){var e=this.fsAPI;e&&(e.isFullscreen()?e.exit():this.container&&e.request(this.container))}},{key:"isClosing",value:function(){return[he.Closing,he.CustomClosing,he.Destroy].includes(this.state)}},{key:"proceedClose",value:function(e,t){var i,n,a=this;this.state=he.Closing,this.clearIdle(),this.detachEvents();var r=this.container,o=this.carousel,s=this.getSlide(),l=s&&this.option("placeFocusBack")?s.triggerEl||this.option("triggerEl"):null;if(l&&(pe(l)?ye(l):l.focus()),r&&(N(r,"is-closing"),r.setAttribute("aria-hidden","true"),this.option("animated")&&N(r,Ke),r.style.pointerEvents="none"),o){o.clearTransitions(),null===(i=o.panzoom)||void 0===i||i.destroy(),null===(n=o.plugins.Navigation)||void 0===n||n.detach();var c=!0,u=!1,h=void 0;try{for(var d,f=o.slides[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var v=d.value;v.state=de.Closing,this.hideLoading(v);var p=v.contentEl;p&&this.stop(p);var g=null==v?void 0:v.panzoom;g&&(g.stop(),g.detachEvents(),g.detachObserver()),this.isCurrentSlide(v)||o.emit("removeSlide",v)}}catch(e){u=!0,h=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw h}}}this.emit("close",e),this.state!==he.CustomClosing?(void 0===t&&s&&(t=this.optionFor(s,"hideClass")),t&&s?(this.animate(s.contentEl,t,(function(){o&&o.emit("removeSlide",s)})),setTimeout((function(){a.destroy()}),500)):this.destroy()):setTimeout((function(){a.destroy()}),500)}},{key:"destroy",value:function(){var e;if(this.state!==he.Destroy){this.state=he.Destroy,null===(e=this.carousel)||void 0===e||e.destroy();var t=this.container;t&&t.remove(),it.delete(this.id);var i=n.getInstance();i?i.focus():(et&&(et.remove(),et=null),tt&&(tt.remove(),tt=null),H(document.documentElement,Ve),function(){if(ge){var e=document,t=e.body;t.classList.remove(Ze),t.style.setProperty(Ue,""),e.documentElement.style.setProperty(Ge,"")}}(),this.emit("destroy"))}}}],[{key:"bind",value:function(e,t,i){if(ge){var a,r="",o={};if(void 0===e?a=document.body:"string"==typeof e?(a=document.body,r=e,"object"==typeof t&&(o=t||{})):(a=e,"string"==typeof t&&(r=t),"object"==typeof i&&(o=i||{})),a&&_(a)){r=r||"[data-fancybox]";var s=n.openers.get(a)||new Map;s.set(r,o),n.openers.set(a,s),1===s.size&&a.addEventListener("click",n.fromEvent)}}}},{key:"unbind",value:function(e,t){var i,a="";if("string"==typeof e?(i=document.body,a=e):(i=e,"string"==typeof t&&(a=t)),i){var r=n.openers.get(i);r&&a&&r.delete(a),a&&r||(n.openers.delete(i),i.removeEventListener("click",n.fromEvent))}}},{key:"destroy",value:function(){for(var e;e=n.getInstance();)e.destroy();var t=!0,i=!1,a=void 0;try{for(var r,o=n.openers.keys()[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){r.value.removeEventListener("click",n.fromEvent)}}catch(e){i=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(i)throw a}}n.openers=new Map}},{key:"fromEvent",value:function(e){if(!e.defaultPrevented&&!(e.button&&0!==e.button||e.ctrlKey||e.metaKey||e.shiftKey)){var i,a,r,o,s=e.composedPath()[0],l=s.closest("[data-fancybox-trigger]");if(l){var c=l.dataset.fancyboxTrigger||"",u=document.querySelectorAll('[data-fancybox="'.concat(c,'"]')),h=parseInt(l.dataset.fancyboxIndex||"",10)||0;s=u[h]||s}if(s&&s instanceof Element)if(t(v)(n.openers).reverse().find((function(e){var n=t(f)(e,2),l=n[0],c=n[1];return!(!l.contains(s)||!t(v)(c).reverse().find((function(e){var n=t(f)(e,2),c=n[0],u=n[1],h=s.closest(c);return!!h&&(i=l,a=c,r=h,o=u,!0)})))})),i&&a&&r){o=o||{},e.preventDefault(),s=r;var d=[],p=M({},be,o);p.event=e,p.triggerEl=s,p.delegate=l;var g=p.groupAll,m=p.groupAttr,y=m&&s?s.getAttribute("".concat(m)):"";if((!s||y||g)&&(d=[].slice.call(i.querySelectorAll(a))),s&&!g&&(d=y?d.filter((function(e){return e.getAttribute("".concat(m))===y})):[s]),d.length){var b=n.getInstance();return b&&b.options.triggerEl&&d.indexOf(b.options.triggerEl)>-1?void 0:(s&&(p.startIndex=d.indexOf(s)),n.fromNodes(d,p))}}}}},{key:"fromSelector",value:function(e,t){var i=null,a="";if("string"==typeof e?(i=document.body,a=e):e instanceof HTMLElement&&"string"==typeof t&&(i=e,a=t),!i||!a)return!1;var r=n.openers.get(i);if(!r)return!1;var o=r.get(a);return!!o&&n.fromNodes(Array.from(i.querySelectorAll(a)),o)}},{key:"fromNodes",value:function(e,t){t=M({},be,t||{});var i=[],a=!0,r=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var c=s.value,u=c.dataset||{},h=u.src||c.getAttribute("href")||c.getAttribute("currentSrc")||c.getAttribute("src")||void 0,d=void 0,f=t.delegate,v=void 0;f&&i.length===t.startIndex&&(d=f instanceof HTMLImageElement?f:f.querySelector("img:not([aria-hidden])")),d||(d=c instanceof HTMLImageElement?c:c.querySelector("img:not([aria-hidden])")),d&&(!(v=d.currentSrc||d.src||void 0)&&d.dataset&&(v=d.dataset.lazySrc||d.dataset.src||void 0));var p={src:h,triggerEl:c,thumbEl:d,thumbElSrc:v,thumbSrc:v};for(var g in u)p[g]=u[g]+"";i.push(p)}}catch(e){r=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}return new n(i,t)}},{key:"getInstance",value:function(e){return e?it.get(e):Array.from(it.values()).reverse().find((function(e){return!e.isClosing()&&e}))||null}},{key:"getSlide",value:function(){var e;return(null===(e=n.getInstance())||void 0===e?void 0:e.getSlide())||null}},{key:"show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new n(e,t)}},{key:"next",value:function(){var e=n.getInstance();e&&e.next()}},{key:"prev",value:function(){var e=n.getInstance();e&&e.prev()}},{key:"close",value:function(){for(var e,i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=arguments.length,r=new Array(a>1?a-1:0),o=1;o<a;o++)r[o-1]=arguments[o];var s=!0,l=!1,c=void 0;if(i)try{for(var u,h=it.values()[Symbol.iterator]();!(s=(u=h.next()).done);s=!0){var d=u.value;(e=d).close.apply(e,t(v)(r))}}catch(e){l=!0,c=e}finally{try{s||null==h.return||h.return()}finally{if(l)throw c}}else{var f,p=n.getInstance();p&&(f=p).close.apply(f,t(v)(r))}}}]),n}(D);Object.defineProperty(at,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.22"}),Object.defineProperty(at,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:be}),Object.defineProperty(at,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:qe}),Object.defineProperty(at,"openers",{enumerable:!0,configurable:!0,writable:!0,value:new Map})})),r.register("ds8z5",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}})),r.register("jh8P3",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,i){return a(e,t,i)};var i,n=(i=r("2mz0K"))&&i.__esModule?i:{default:i};function a(e,t,i){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var a=n.default(e,t);if(a){var r=Object.getOwnPropertyDescriptor(a,t);return r.get?r.get.call(i||e):r.value}})(e,t,i)}})),r.register("2mz0K",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=n.default(e)););return e};var i,n=(i=r("fVNic"))&&i.__esModule?i:{default:i}})),r.register("fVNic",(function(e,t){"use strict";function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){return i(e)}})),r.register("eYQtU",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n.default(e,t)};var i,n=(i=r("gD1JV"))&&i.__esModule?i:{default:i}})),r.register("gD1JV",(function(e,t){"use strict";function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return i(e,t)}})),r.register("jmhxu",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return!t||"object"!==n.default(t)&&"function"!=typeof t?i.default(e):t};var i=a(r("ds8z5")),n=a(r("l5bVx"));function a(e){return e&&e.__esModule?e:{default:e}}})),r.register("l5bVx",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){return e&&e.constructor===Symbol?"symbol":typeof e}})),r.register("1t1Wn",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return i.default(e)||n.default(e,t)||o.default(e,t)||a.default()};var i=s(r("8slrw")),n=s(r("7AJDX")),a=s(r("ifqQW")),o=s(r("auk6i"));function s(e){return e&&e.__esModule?e:{default:e}}})),r.register("8slrw",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if(Array.isArray(e))return e}})),r.register("7AJDX",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}})),r.register("ifqQW",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}})),r.register("auk6i",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(!e)return;if("string"==typeof e)return n.default(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(i);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return n.default(e,t)};var i,n=(i=r("8NIkP"))&&i.__esModule?i:{default:i}})),r.register("8NIkP",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}})),r.register("8nrFW",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){return i.default(e)||n.default(e)||o.default(e)||a.default()};var i=s(r("kMC0W")),n=s(r("7AJDX")),a=s(r("8CtQK")),o=s(r("auk6i"));function s(e){return e&&e.__esModule?e:{default:e}}})),r.register("kMC0W",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if(Array.isArray(e))return n.default(e)};var i,n=(i=r("8NIkP"))&&i.__esModule?i:{default:i}})),r.register("8CtQK",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}})),r.register("2MbLg",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){var t=i.default();return function(){var i,r=n.default(e);if(t){var o=n.default(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return a.default(this,i)}};var i=o(r("aTHs7")),n=o(r("fVNic")),a=o(r("jmhxu"));function o(e){return e&&e.__esModule?e:{default:e}}})),r.register("aTHs7",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}})),r.register("e7HWw",(function(i,n){e(i.exports,"Carousel",(function(){return oe}));var a=r("ds8z5"),o=r("8MBJY"),s=r("a2hTj"),l=r("hKHmD"),c=r("jh8P3"),u=r("fVNic"),h=r("eYQtU"),d=r("jmhxu"),f=r("1t1Wn"),v=r("8nrFW"),p=r("2MbLg"),g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4;return e=parseFloat(e+"")||0,Math.round((e+Number.EPSILON)*t)/t},m=function(e,t){return!(!e||e===document.body||t&&e===t)&&(function(e){if(!(e&&e instanceof Element&&e.offsetParent))return!1;var t=e.scrollHeight>e.clientHeight,i=window.getComputedStyle(e).overflowY,n=-1!==i.indexOf("hidden"),a=-1!==i.indexOf("visible");return t&&!n&&!a}(e)?e:m(e.parentElement,t))},y=function(e){var t=(new DOMParser).parseFromString(e,"text/html").body;if(t.childElementCount>1){for(var i=document.createElement("div");t.firstChild;)i.appendChild(t.firstChild);return i}return t.firstChild},b=function(e){return"".concat(e||"").split(" ").filter((function(e){return!!e}))},w=function(e,t,i){b(t).forEach((function(t){e&&e.classList.toggle(t,i||!1)}))},k=function e(i){"use strict";t(o)(this,e),Object.defineProperty(this,"pageX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pageY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nativePointer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.nativePointer=i,this.pageX=i.pageX,this.pageY=i.pageY,this.clientX=i.clientX,this.clientY=i.clientY,this.id=self.Touch&&i instanceof Touch?i.identifier:-1,this.time=Date.now()},x={passive:!1},S=function(){"use strict";function e(i,n){var a=n.start,r=void 0===a?function(){return!0}:a,s=n.move,l=void 0===s?function(){}:s,c=n.end,u=void 0===c?function(){}:c;t(o)(this,e),Object.defineProperty(this,"element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"moveCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"endCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"currentPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"startPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.element=i,this.startCallback=r,this.moveCallback=l,this.endCallback=u;var h=!0,d=!1,f=void 0;try{for(var v,p=["onPointerStart","onTouchStart","onMove","onTouchEnd","onPointerEnd","onWindowBlur"][Symbol.iterator]();!(h=(v=p.next()).done);h=!0){var g=v.value;this[g]=this[g].bind(this)}}catch(e){d=!0,f=e}finally{try{h||null==p.return||p.return()}finally{if(d)throw f}}this.element.addEventListener("mousedown",this.onPointerStart,x),this.element.addEventListener("touchstart",this.onTouchStart,x),this.element.addEventListener("touchmove",this.onMove,x),this.element.addEventListener("touchend",this.onTouchEnd),this.element.addEventListener("touchcancel",this.onTouchEnd)}return t(s)(e,[{key:"onPointerStart",value:function(e){if(e.buttons&&0===e.button){var t=new k(e);this.currentPointers.some((function(e){return e.id===t.id}))||this.triggerPointerStart(t,e)&&(window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseup",this.onPointerEnd),window.addEventListener("blur",this.onWindowBlur))}}},{key:"onTouchStart",value:function(e){var t=!0,i=!1,n=void 0;try{for(var a,r=Array.from(e.changedTouches||[])[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var o=a.value;this.triggerPointerStart(new k(o),e)}}catch(e){i=!0,n=e}finally{try{t||null==r.return||r.return()}finally{if(i)throw n}}window.addEventListener("blur",this.onWindowBlur)}},{key:"onMove",value:function(e){var t=this.currentPointers.slice(),i="changedTouches"in e?Array.from(e.changedTouches||[]).map((function(e){return new k(e)})):[new k(e)],n=[],a=!0,r=!1,o=void 0;try{for(var s,l=this,c=function(e,t){var i=t.value,a=l.currentPointers.findIndex((function(e){return e.id===i.id}));a<0||(n.push(i),l.currentPointers[a]=i)},u=i[Symbol.iterator]();!(a=(s=u.next()).done);a=!0)c(0,s)}catch(e){r=!0,o=e}finally{try{a||null==u.return||u.return()}finally{if(r)throw o}}n.length&&this.moveCallback(e,this.currentPointers.slice(),t)}},{key:"onPointerEnd",value:function(e){e.buttons>0&&0!==e.button||(this.triggerPointerEnd(e,new k(e)),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur))}},{key:"onTouchEnd",value:function(e){var t=!0,i=!1,n=void 0;try{for(var a,r=Array.from(e.changedTouches||[])[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var o=a.value;this.triggerPointerEnd(e,new k(o))}}catch(e){i=!0,n=e}finally{try{t||null==r.return||r.return()}finally{if(i)throw n}}}},{key:"triggerPointerStart",value:function(e,t){return!!this.startCallback(t,e,this.currentPointers.slice())&&(this.currentPointers.push(e),this.startPointers.push(e),!0)}},{key:"triggerPointerEnd",value:function(e,t){var i=this.currentPointers.findIndex((function(e){return e.id===t.id}));i<0||(this.currentPointers.splice(i,1),this.startPointers.splice(i,1),this.endCallback(e,t,this.currentPointers.slice()))}},{key:"onWindowBlur",value:function(){this.clear()}},{key:"clear",value:function(){for(;this.currentPointers.length;){var e=this.currentPointers[this.currentPointers.length-1];this.currentPointers.splice(this.currentPointers.length-1,1),this.startPointers.splice(this.currentPointers.length-1,1),this.endCallback(new Event("touchend",{bubbles:!0,cancelable:!0,clientX:e.clientX,clientY:e.clientY}),e,this.currentPointers.slice())}}},{key:"stop",value:function(){this.element.removeEventListener("mousedown",this.onPointerStart,x),this.element.removeEventListener("touchstart",this.onTouchStart,x),this.element.removeEventListener("touchmove",this.onMove,x),this.element.removeEventListener("touchend",this.onTouchEnd),this.element.removeEventListener("touchcancel",this.onTouchEnd),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur)}}]),e}();function E(e,t){return t?Math.sqrt(Math.pow(t.clientX-e.clientX,2)+Math.pow(t.clientY-e.clientY,2)):0}function P(e,t){return t?{clientX:(e.clientX+t.clientX)/2,clientY:(e.clientY+t.clientY)/2}:e}var O=function(e){return"object"==typeof e&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e)},T=function(e){for(var i=arguments.length,n=new Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];for(var r=n.length,o=0;o<r;o++){var s=n[o]||{};Object.entries(s).forEach((function(i){var n=t(f)(i,2),a=n[0],r=n[1],o=Array.isArray(r)?[]:{};e[a]||Object.assign(e,t(l)({},a,o)),O(r)?Object.assign(e[a],T(o,r)):Array.isArray(r)?Object.assign(e,t(l)({},a,t(v)(r))):Object.assign(e,t(l)({},a,r))}))}return e},M=function(e,t){return e.split(".").reduce((function(e,t){return"object"==typeof e?e[t]:void 0}),t)},C=function(){"use strict";function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(o)(this,e),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),this.setOptions(i);var n=!0,a=!1,r=void 0;try{for(var s,l=Object.getOwnPropertyNames(Object.getPrototypeOf(this))[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var c=s.value;c.startsWith("on")&&"function"==typeof this[c]&&(this[c]=this[c].bind(this))}}catch(e){a=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw r}}}return t(s)(e,[{key:"setOptions",value:function(e){this.options=e?T({},this.constructor.defaults,e):{};var i=!0,n=!1,a=void 0;try{for(var r,o=Object.entries(this.option("on")||{})[Symbol.iterator]();!(i=(r=o.next()).done);i=!0){var s=t(f)(r.value,2),l=s[0],c=s[1];this.on(l,c)}}catch(e){n=!0,a=e}finally{try{i||null==o.return||o.return()}finally{if(n)throw a}}}},{key:"option",value:function(e){for(var i=arguments.length,n=new Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];var r,o=M(e,this.options);return o&&"function"==typeof o&&(o=(r=o).call.apply(r,[this,this].concat(t(v)(n)))),o}},{key:"optionFor",value:function(e,i,n){for(var a=arguments.length,r=new Array(a>3?a-3:0),o=3;o<a;o++)r[o-3]=arguments[o];var s,l,c,u=M(i,e);"string"!=typeof(c=u)||isNaN(c)||isNaN(parseFloat(c))||(u=parseFloat(u)),"true"===u&&(u=!0),"false"===u&&(u=!1),u&&"function"==typeof u&&(u=(s=u).call.apply(s,[this,this,e].concat(t(v)(r))));var h=M(i,this.options);return h&&"function"==typeof h?u=(l=h).call.apply(l,[this,this,e].concat(t(v)(r),[u])):void 0===u&&(u=h),void 0===u?n:u}},{key:"cn",value:function(e){var t=this.options.classes;return t&&t[e]||""}},{key:"localize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=this;e=String(e).replace(/\{\{(\w+).?(\w+)?\}\}/g,(function(e,t,n){var a="";return n?a=i.option("".concat(t[0]+t.toLowerCase().substring(1),".l10n.").concat(n)):t&&(a=i.option("l10n.".concat(t))),a||(a=e),a}));for(var n=0;n<t.length;n++)e=e.split(t[n][0]).join(t[n][1]);return e.replace(/\{\{(.*?)\}\}/g,(function(e,t){return t}))}},{key:"on",value:function(e,t){var i=this,n=[];"string"==typeof e?n=e.split(" "):Array.isArray(e)&&(n=e),this.events||(this.events=new Map),n.forEach((function(e){var n=i.events.get(e);n||(i.events.set(e,[]),n=[]),n.includes(t)||n.push(t),i.events.set(e,n)}))}},{key:"off",value:function(e,t){var i=this,n=[];"string"==typeof e?n=e.split(" "):Array.isArray(e)&&(n=e),n.forEach((function(e){var n=i.events.get(e);if(Array.isArray(n)){var a=n.indexOf(t);a>-1&&n.splice(a,1)}}))}},{key:"emit",value:function(e){for(var i=arguments.length,n=new Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];var r=this;t(v)(this.events.get(e)||[]).forEach((function(e){return e.apply(void 0,[r].concat(t(v)(n)))})),"*"!==e&&this.emit.apply(this,["*",e].concat(t(v)(n)))}}]),e}();Object.defineProperty(C,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.22"}),Object.defineProperty(C,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{}});var L,A,z=function(e){"use strict";t(h)(n,e);var i=t(p)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t(o)(this,n),e=i.call(this,r),Object.defineProperty(t(a)(e),"plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),t(d)(e)}return t(s)(n,[{key:"attachPlugins",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=new Map,n=!0,a=!1,r=void 0;try{for(var o,s=Object.entries(e)[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=t(f)(o.value,2),c=l[0],u=l[1],h=this.option(c),d=this.plugins[c];d||!1===h?d&&!1===h&&(d.detach(),delete this.plugins[c]):i.set(c,new u(this,h||{}))}}catch(e){a=!0,r=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}var v=!0,p=!1,g=void 0;try{for(var m,y=i[Symbol.iterator]();!(v=(m=y.next()).done);v=!0){var b=t(f)(m.value,2),w=b[0],k=b[1];this.plugins[w]=k,k.attach()}}catch(e){p=!0,g=e}finally{try{v||null==y.return||y.return()}finally{if(p)throw g}}this.emit("attachPlugins")}},{key:"detachPlugins",value:function(e){e=e||Object.keys(this.plugins);var t=!0,i=!1,n=void 0;try{for(var a,r=e[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var o=a.value,s=this.plugins[o];s&&s.detach(),delete this.plugins[o]}}catch(e){i=!0,n=e}finally{try{t||null==r.return||r.return()}finally{if(i)throw n}}return this.emit("detachPlugins"),this}}]),n}(C);(A=L||(L={}))[A.Init=0]="Init",A[A.Error=1]="Error",A[A.Ready=2]="Ready",A[A.Panning=3]="Panning",A[A.Mousemove=4]="Mousemove",A[A.Destroy=5]="Destroy";var D=["a","b","c","d","e","f"],R='<div class="f-spinner"><svg viewBox="0 0 50 50"><circle cx="25" cy="25" r="20"></circle><circle cx="25" cy="25" r="20"></circle></svg></div>',j=function(e){return e&&null!==e&&e instanceof Element&&"nodeType"in e},I=function(e,t){e&&b(t).forEach((function(t){e.classList.remove(t)}))},F=function(e,t){e&&b(t).forEach((function(t){e.classList.add(t)}))},_={a:1,b:0,c:0,d:1,e:0,f:0},H=1e3,N="mousemove",B="drag",W="content",X=null,Y=null,q=function(e){"use strict";t(h)(n,e);var i=t(p)(n);function n(e){var r,s,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t(o)(this,n),r=i.call(this,l),Object.defineProperty(t(a)(r),"pointerTracker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t(a)(r),"resizeObserver",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t(a)(r),"updateTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t(a)(r),"clickTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t(a)(r),"rAF",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t(a)(r),"isTicking",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(t(a)(r),"friction",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(t(a)(r),"ignoreBounds",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(t(a)(r),"isBouncingX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(t(a)(r),"isBouncingY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(t(a)(r),"clicks",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(t(a)(r),"trackingPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(t(a)(r),"pwt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(t(a)(r),"cwd",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(t(a)(r),"pmme",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t(a)(r),"state",{enumerable:!0,configurable:!0,writable:!0,value:L.Init}),Object.defineProperty(t(a)(r),"isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(t(a)(r),"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t(a)(r),"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t(a)(r),"spinner",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t(a)(r),"containerRect",{enumerable:!0,configurable:!0,writable:!0,value:{width:0,height:0,innerWidth:0,innerHeight:0}}),Object.defineProperty(t(a)(r),"contentRect",{enumerable:!0,configurable:!0,writable:!0,value:{top:0,right:0,bottom:0,left:0,fullWidth:0,fullHeight:0,fitWidth:0,fitHeight:0,width:0,height:0}}),Object.defineProperty(t(a)(r),"dragStart",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,top:0,left:0,time:0}}),Object.defineProperty(t(a)(r),"dragOffset",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,time:0}}),Object.defineProperty(t(a)(r),"current",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},_)}),Object.defineProperty(t(a)(r),"target",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},_)}),Object.defineProperty(t(a)(r),"velocity",{enumerable:!0,configurable:!0,writable:!0,value:{a:0,b:0,c:0,d:0,e:0,f:0}}),Object.defineProperty(t(a)(r),"lockedAxis",{enumerable:!0,configurable:!0,writable:!0,value:!1}),!e)throw new Error("Container Element Not Found");r.container=e,r.initContent(),r.attachPlugins(Object.assign(Object.assign({},n.Plugins),c)),r.emit("init");var u=r.content;if(u.addEventListener("load",r.onLoad),u.addEventListener("error",r.onError),r.isContentLoading){if(r.option("spinner")){e.classList.add(r.cn("isLoading"));var h=y(R);!e.contains(u)||u.parentElement instanceof HTMLPictureElement?r.spinner=e.appendChild(h):r.spinner=(null===(s=u.parentElement)||void 0===s?void 0:s.insertBefore(h,u))||null}r.emit("beforeLoad")}else queueMicrotask((function(){r.enable()}));return t(d)(r)}return t(s)(n,[{key:"isTouchDevice",get:function(){return null===Y&&(Y=window.matchMedia("(hover: none)").matches),Y}},{key:"isMobile",get:function(){return null===X&&(X=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)),X}},{key:"panMode",get:function(){return this.options.panMode!==N||this.isTouchDevice?B:N}},{key:"panOnlyZoomed",get:function(){var e=this.options.panOnlyZoomed;return"auto"===e?this.isTouchDevice:e}},{key:"isInfinite",get:function(){return this.option("infinite")}},{key:"angle",get:function(){return 180*Math.atan2(this.current.b,this.current.a)/Math.PI||0}},{key:"targetAngle",get:function(){return 180*Math.atan2(this.target.b,this.target.a)/Math.PI||0}},{key:"scale",get:function(){var e=this.current,t=e.a,i=e.b;return Math.sqrt(t*t+i*i)||1}},{key:"targetScale",get:function(){var e=this.target,t=e.a,i=e.b;return Math.sqrt(t*t+i*i)||1}},{key:"minScale",get:function(){return this.option("minScale")||1}},{key:"fullScale",get:function(){var e=this.contentRect;return e.fullWidth/e.fitWidth||1}},{key:"maxScale",get:function(){return this.fullScale*(this.option("maxScale")||1)||1}},{key:"coverScale",get:function(){var e=this.containerRect,t=this.contentRect,i=Math.max(e.height/t.fitHeight,e.width/t.fitWidth)||1;return Math.min(this.fullScale,i)}},{key:"isScaling",get:function(){return Math.abs(this.targetScale-this.scale)>1e-5&&!this.isResting}},{key:"isContentLoading",get:function(){var e=this.content;return!!(e&&e instanceof HTMLImageElement)&&!e.complete}},{key:"isResting",get:function(){if(this.isBouncingX||this.isBouncingY)return!1;var e=!0,t=!1,i=void 0;try{for(var n,a=D[Symbol.iterator]();!(e=(n=a.next()).done);e=!0){var r=n.value,o="e"==r||"f"===r?.001:1e-5;if(Math.abs(this.target[r]-this.current[r])>o)return!1}}catch(e){t=!0,i=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw i}}return!(!this.ignoreBounds&&!this.checkBounds().inBounds)}},{key:"initContent",value:function(){var e=this.container,t=this.cn(W),i=this.option(W)||e.querySelector(".".concat(t));if(i||(i=e.querySelector("img,picture")||e.firstElementChild)&&F(i,t),i instanceof HTMLPictureElement&&(i=i.querySelector("img")),!i)throw new Error("No content found");this.content=i}},{key:"onLoad",value:function(){this.spinner&&(this.spinner.remove(),this.spinner=null),this.option("spinner")&&this.container.classList.remove(this.cn("isLoading")),this.emit("afterLoad"),this.state===L.Init?this.enable():this.updateMetrics()}},{key:"onError",value:function(){this.state!==L.Destroy&&(this.spinner&&(this.spinner.remove(),this.spinner=null),this.stop(),this.detachEvents(),this.state=L.Error,this.emit("error"))}},{key:"attachObserver",value:function(){var e,t=this,i=function(){return Math.abs(t.containerRect.width-t.container.getBoundingClientRect().width)>.1||Math.abs(t.containerRect.height-t.container.getBoundingClientRect().height)>.1};this.resizeObserver||void 0===window.ResizeObserver||(this.resizeObserver=new ResizeObserver((function(){var e=t;t.updateTimer||(i()?(t.onResize(),t.isMobile&&(t.updateTimer=setTimeout((function(){i()&&e.onResize(),e.updateTimer=null}),500))):t.updateTimer&&(clearTimeout(t.updateTimer),t.updateTimer=null))}))),null===(e=this.resizeObserver)||void 0===e||e.observe(this.container)}},{key:"detachObserver",value:function(){var e;null===(e=this.resizeObserver)||void 0===e||e.disconnect()}},{key:"attachEvents",value:function(){var e=this.container;e.addEventListener("click",this.onClick,{passive:!1,capture:!1}),e.addEventListener("wheel",this.onWheel,{passive:!1}),this.pointerTracker=new S(e,{start:this.onPointerDown,move:this.onPointerMove,end:this.onPointerUp}),document.addEventListener(N,this.onMouseMove)}},{key:"detachEvents",value:function(){var e,t=this.container;t.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),t.removeEventListener("wheel",this.onWheel,{passive:!1}),null===(e=this.pointerTracker)||void 0===e||e.stop(),this.pointerTracker=null,document.removeEventListener(N,this.onMouseMove),document.removeEventListener("keydown",this.onKeydown,!0),this.clickTimer&&(clearTimeout(this.clickTimer),this.clickTimer=null),this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null)}},{key:"animate",value:function(){var e=this,t=this.friction;this.setTargetForce();var i=this.option("maxVelocity"),n=!0,a=!1,r=void 0;try{for(var o,s=D[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;t?(this.velocity[l]*=1-t,i&&!this.isScaling&&(this.velocity[l]=Math.max(Math.min(this.velocity[l],i),-1*i)),this.current[l]+=this.velocity[l]):this.current[l]=this.target[l]}}catch(e){a=!0,r=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}this.setTransform(),this.setEdgeForce(),!this.isResting||this.isDragging?this.rAF=requestAnimationFrame((function(){return e.animate()})):this.stop("current")}},{key:"setTargetForce",value:function(){var e=!0,t=!1,i=void 0;try{for(var n,a=D[Symbol.iterator]();!(e=(n=a.next()).done);e=!0){var r=n.value;"e"===r&&this.isBouncingX||"f"===r&&this.isBouncingY||(this.velocity[r]=(1/(1-this.friction)-1)*(this.target[r]-this.current[r]))}}catch(e){t=!0,i=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw i}}}},{key:"checkBounds",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this,n=i.current,a=n.e+e,r=n.f+t,o=this.getBounds(),s=o.x,l=o.y,c=s.min,u=s.max,h=l.min,d=l.max,f=0,v=0;return c!==1/0&&a<c?f=c-a:u!==1/0&&a>u&&(f=u-a),h!==1/0&&r<h?v=h-r:d!==1/0&&r>d&&(v=d-r),Math.abs(f)<.001&&(f=0),Math.abs(v)<.001&&(v=0),Object.assign(Object.assign({},o),{xDiff:f,yDiff:v,inBounds:!f&&!v})}},{key:"clampTargetBounds",value:function(){var e=this.target,t=this.getBounds(),i=t.x,n=t.y;i.min!==1/0&&(e.e=Math.max(e.e,i.min)),i.max!==1/0&&(e.e=Math.min(e.e,i.max)),n.min!==1/0&&(e.f=Math.max(e.f,n.min)),n.max!==1/0&&(e.f=Math.min(e.f,n.max))}},{key:"calculateContentDim",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current,t=this,i=t.content,n=t.contentRect,a=n.fitWidth,r=n.fitHeight,o=n.fullWidth,s=n.fullHeight,l=o,c=s;if(this.option("zoom")||0!==this.angle){var u=!(i instanceof HTMLImageElement||"none"!==window.getComputedStyle(i).maxWidth&&"none"!==window.getComputedStyle(i).maxHeight),h=u?o:a,d=u?s:r,f=this.getMatrix(e),v=new DOMPoint(0,0).matrixTransform(f),p=new DOMPoint(0+h,0).matrixTransform(f),g=new DOMPoint(0+h,0+d).matrixTransform(f),m=new DOMPoint(0,0+d).matrixTransform(f),y=Math.abs(g.x-v.x),b=Math.abs(g.y-v.y),w=Math.abs(m.x-p.x),k=Math.abs(m.y-p.y);l=Math.max(y,w),c=Math.max(b,k)}return{contentWidth:l,contentHeight:c}}},{key:"setEdgeForce",value:function(){if(this.ignoreBounds||this.isDragging||this.panMode===N||this.targetScale<this.scale)return this.isBouncingX=!1,void(this.isBouncingY=!1);var e=this.target,t=this.checkBounds(),i=t.x,n=t.y,a=t.xDiff,r=t.yDiff,o=this.option("maxVelocity"),s=this.velocity.e,l=this.velocity.f;0!==a?(this.isBouncingX=!0,a*s<=0?s+=.14*a:(s=.14*a,i.min!==1/0&&(this.target.e=Math.max(e.e,i.min)),i.max!==1/0&&(this.target.e=Math.min(e.e,i.max))),o&&(s=Math.max(Math.min(s,o),-1*o))):this.isBouncingX=!1,0!==r?(this.isBouncingY=!0,r*l<=0?l+=.14*r:(l=.14*r,n.min!==1/0&&(this.target.f=Math.max(e.f,n.min)),n.max!==1/0&&(this.target.f=Math.min(e.f,n.max))),o&&(l=Math.max(Math.min(l,o),-1*o))):this.isBouncingY=!1,this.isBouncingX&&(this.velocity.e=s),this.isBouncingY&&(this.velocity.f=l)}},{key:"enable",value:function(){var e=this.content,t=new DOMMatrixReadOnly(window.getComputedStyle(e).transform),i=!0,n=!1,a=void 0;try{for(var r,o=D[Symbol.iterator]();!(i=(r=o.next()).done);i=!0){var s=r.value;this.current[s]=this.target[s]=t[s]}}catch(e){n=!0,a=e}finally{try{i||null==o.return||o.return()}finally{if(n)throw a}}this.updateMetrics(),this.attachObserver(),this.attachEvents(),this.state=L.Ready,this.emit("ready")}},{key:"onClick",value:function(e){var t,i=this;this.isDragging&&(null===(t=this.pointerTracker)||void 0===t||t.clear(),this.trackingPoints=[],this.startDecelAnim());var n=e.target;if(n&&!e.defaultPrevented){if(n&&n.hasAttribute("disabled"))return e.preventDefault(),void e.stopPropagation();if(!(a=window.getSelection())||"Range"!==a.type||n.closest("button")){var a,r=n.closest("[data-panzoom-action]"),o=n.closest("[data-panzoom-change]"),s=r||o,l=s&&j(s)?s.dataset:null;if(l){var c=l.panzoomChange,u=l.panzoomAction;if((c||u)&&e.preventDefault(),c){var h={};try{h=JSON.parse(c)}catch(e){console&&console.warn("The given data was not valid JSON")}return void this.applyChange(h)}if(u)return void(this[u]&&this[u]())}if(Math.abs(this.dragOffset.x)>3||Math.abs(this.dragOffset.y)>3)return e.preventDefault(),void e.stopPropagation();var d=this.content.getBoundingClientRect();if(!this.dragStart.time||this.canZoomOut()||!(Math.abs(d.x-this.dragStart.x)>2||Math.abs(d.y-this.dragStart.y)>2)){this.dragStart.time=0;var f=function(t){i.option("zoom")&&t&&"string"==typeof t&&/(iterateZoom)|(toggle(Zoom|Full|Cover|Max)|(zoomTo(Fit|Cover|Max)))/.test(t)&&"function"==typeof i[t]&&(e.preventDefault(),i[t]({event:e}))},v=this.option("click",e),p=this.option("dblClick",e);p?(this.clicks++,1==this.clicks&&(this.clickTimer=setTimeout((function(){1===i.clicks?(i.emit("click",e),!e.defaultPrevented&&v&&f(v)):(i.emit("dblClick",e),e.defaultPrevented||f(p)),i.clicks=0,i.clickTimer=null}),350))):(this.emit("click",e),!e.defaultPrevented&&v&&f(v))}}}}},{key:"addTrackingPoint",value:function(e){var t=this.trackingPoints.filter((function(e){return e.time>Date.now()-100}));t.push(e),this.trackingPoints=t}},{key:"onPointerDown",value:function(e,t,i){var n;if(!1===this.option("touch",e))return!1;this.pwt=0,this.dragOffset={x:0,y:0,time:0},this.trackingPoints=[];var a=this.content.getBoundingClientRect();if(this.dragStart={x:a.x,y:a.y,top:a.top,left:a.left,time:Date.now()},this.clickTimer)return!1;if(this.panMode===N&&this.targetScale>1)return e.preventDefault(),e.stopPropagation(),!1;var r=e.composedPath()[0];if(!i.length){if(["TEXTAREA","OPTION","INPUT","SELECT","VIDEO","IFRAME"].includes(r.nodeName)||r.closest("[contenteditable]")||r.closest("[data-selectable]")||r.closest("[data-draggable]")||r.closest("[data-clickable]")||r.closest("[data-panzoom-change]")||r.closest("[data-panzoom-action]"))return!1;null===(n=window.getSelection())||void 0===n||n.removeAllRanges()}if("mousedown"===e.type)["A","BUTTON"].includes(r.nodeName)||e.preventDefault();else if(Math.abs(this.velocity.a)>.3)return!1;return this.target.e=this.current.e,this.target.f=this.current.f,this.stop(),this.isDragging||(this.isDragging=!0,this.addTrackingPoint(t),this.emit("touchStart",e)),!0}},{key:"onPointerMove",value:function(e,t,i){if(!1!==this.option("touch",e)&&this.isDragging&&!(t.length<2&&this.panOnlyZoomed&&g(this.targetScale)<=g(this.minScale)||(this.emit("touchMove",e),e.defaultPrevented))){this.addTrackingPoint(t[0]);var n=this.content,a=P(i[0],i[1]),r=P(t[0],t[1]),o=0,s=0;if(t.length>1){var l=n.getBoundingClientRect();o=a.clientX-l.left-.5*l.width,s=a.clientY-l.top-.5*l.height}var c=E(i[0],i[1]),u=E(t[0],t[1]),h=c?u/c:1,d=r.clientX-a.clientX,f=r.clientY-a.clientY;this.dragOffset.x+=d,this.dragOffset.y+=f,this.dragOffset.time=Date.now()-this.dragStart.time;var v=g(this.targetScale)===g(this.minScale)&&this.option("lockAxis");if(v&&!this.lockedAxis)if("xy"===v||"y"===v||"touchmove"===e.type){if(Math.abs(this.dragOffset.x)<6&&Math.abs(this.dragOffset.y)<6)return void e.preventDefault();var p=Math.abs(180*Math.atan2(this.dragOffset.y,this.dragOffset.x)/Math.PI);this.lockedAxis=p>45&&p<135?"y":"x",this.dragOffset.x=0,this.dragOffset.y=0,d=0,f=0}else this.lockedAxis=v;if(m(e.target,this.content)&&(v="x",this.dragOffset.y=0),!v||"xy"===v||this.lockedAxis===v||g(this.targetScale)!==g(this.minScale)){e.cancelable&&e.preventDefault(),this.container.classList.add(this.cn("isDragging"));var y=this.checkBounds(d,f);this.option("rubberband")?("x"!==this.isInfinite&&(y.xDiff>0&&d<0||y.xDiff<0&&d>0)&&(d*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitWidth*y.xDiff))),"y"!==this.isInfinite&&(y.yDiff>0&&f<0||y.yDiff<0&&f>0)&&(f*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitHeight*y.yDiff)))):(y.xDiff&&(d=0),y.yDiff&&(f=0));var b=this.targetScale,w=this.minScale,k=this.maxScale;b<.5*w&&(h=Math.max(h,w)),b>1.5*k&&(h=Math.min(h,k)),"y"===this.lockedAxis&&g(b)===g(w)&&(d=0),"x"===this.lockedAxis&&g(b)===g(w)&&(f=0),this.applyChange({originX:o,originY:s,panX:d,panY:f,scale:h,friction:this.option("dragFriction"),ignoreBounds:!0})}}}},{key:"onPointerUp",value:function(e,t,i){if(i.length)return this.dragOffset.x=0,this.dragOffset.y=0,void(this.trackingPoints=[]);this.container.classList.remove(this.cn("isDragging")),this.isDragging&&(this.addTrackingPoint(t),this.panOnlyZoomed&&this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1&&(this.trackingPoints=[]),m(e.target,this.content)&&"y"===this.lockedAxis&&(this.trackingPoints=[]),this.emit("touchEnd",e),this.isDragging=!1,this.lockedAxis=!1,this.state!==L.Destroy&&(e.defaultPrevented||this.startDecelAnim()))}},{key:"startDecelAnim",value:function(){var e,t=this.isScaling;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;var i=!0,n=!1,a=void 0;try{for(var r,o=D[Symbol.iterator]();!(i=(r=o.next()).done);i=!0){var s=r.value;this.velocity[s]=0}}catch(e){n=!0,a=e}finally{try{i||null==o.return||o.return()}finally{if(n)throw a}}this.target.e=this.current.e,this.target.f=this.current.f,I(this.container,"is-scaling"),I(this.container,"is-animating"),this.isTicking=!1;var l=this.trackingPoints,c=l[0],u=l[l.length-1],h=0,d=0,f=0;u&&c&&(h=u.clientX-c.clientX,d=u.clientY-c.clientY,f=u.time-c.time);var v=(null===(e=window.visualViewport)||void 0===e?void 0:e.scale)||1;1!==v&&(h*=v,d*=v);var p=0,m=0,y=0,b=0,w=this.option("decelFriction"),k=this.targetScale;if(f>0){y=Math.abs(h)>3?h/(f/30):0,b=Math.abs(d)>3?d/(f/30):0;var x=this.option("maxVelocity");x&&(y=Math.max(Math.min(y,x),-1*x),b=Math.max(Math.min(b,x),-1*x))}y&&(p=y/(1/(1-w)-1)),b&&(m=b/(1/(1-w)-1)),("y"===this.option("lockAxis")||"xy"===this.option("lockAxis")&&"y"===this.lockedAxis&&g(k)===this.minScale)&&(p=y=0),("x"===this.option("lockAxis")||"xy"===this.option("lockAxis")&&"x"===this.lockedAxis&&g(k)===this.minScale)&&(m=b=0);var S=this.dragOffset.x,E=this.dragOffset.y,P=this.option("dragMinThreshold")||0;Math.abs(S)<P&&Math.abs(E)<P&&(p=m=0,y=b=0),(k<this.minScale-1e-5||k>this.maxScale+1e-5||t&&!p&&!m)&&(w=.35),this.applyChange({panX:p,panY:m,friction:w}),this.emit("decel",y,b,S,E)}},{key:"onWheel",value:function(e){var t=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce((function(e,t){return Math.abs(t)>Math.abs(e)?t:e})),i=Math.max(-1,Math.min(1,t));if(this.emit("wheel",e,i),this.panMode!==N&&!e.defaultPrevented){var n=this.option("wheel");"pan"===n?(e.preventDefault(),this.panOnlyZoomed&&!this.canZoomOut()||this.applyChange({panX:2*-e.deltaX,panY:2*-e.deltaY,bounce:!1})):"zoom"===n&&!1!==this.option("zoom")&&this.zoomWithWheel(e)}}},{key:"onMouseMove",value:function(e){this.panWithMouse(e)}},{key:"onKeydown",value:function(e){"Escape"===e.key&&this.toggleFS()}},{key:"onResize",value:function(){this.updateMetrics(),this.checkBounds().inBounds||this.requestTick()}},{key:"setTransform",value:function(){this.emit("beforeTransform");var e=this,t=e.current,i=e.target,n=e.content,a=e.contentRect,r=Object.assign({},_),o=!0,s=!1,l=void 0;try{for(var c,u=D[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var h=c.value,d="e"==h||"f"===h?H:1e5;r[h]=g(t[h],d),Math.abs(i[h]-t[h])<("e"==h||"f"===h?.51:.001)&&(t[h]=i[h])}}catch(e){s=!0,l=e}finally{try{o||null==u.return||u.return()}finally{if(s)throw l}}var f=r.a,v=r.b,p=r.c,m=r.d,y=r.e,b=r.f,w="matrix(".concat(f,", ").concat(v,", ").concat(p,", ").concat(m,", ").concat(y,", ").concat(b,")"),k=n.parentElement instanceof HTMLPictureElement?n.parentElement:n;if(this.option("transformParent")&&(k=k.parentElement||k),k.style.transform!==w){k.style.transform=w;var x=this.calculateContentDim(),S=x.contentWidth,E=x.contentHeight;a.width=S,a.height=E,this.emit("afterTransform")}}},{key:"updateMetrics",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this&&this.state!==L.Destroy&&!this.isContentLoading){var i=Math.max(1,(null===(e=window.visualViewport)||void 0===e?void 0:e.scale)||1),n=this,a=n.container,r=n.content,o=r instanceof HTMLImageElement,s=a.getBoundingClientRect(),l=getComputedStyle(this.container),c=s.width*i,u=s.height*i,h=parseFloat(l.paddingTop)+parseFloat(l.paddingBottom),d=c-(parseFloat(l.paddingLeft)+parseFloat(l.paddingRight)),f=u-h;this.containerRect={width:c,height:u,innerWidth:d,innerHeight:f};var v,p,m=this.option("width")||"auto",y=this.option("height")||"auto";"auto"===m&&(m=parseFloat(r.dataset.width||"")||(((p=r)instanceof HTMLImageElement?p.naturalWidth:p instanceof SVGElement?p.width.baseVal.value:Math.max(p.offsetWidth,p.scrollWidth))||0)),"auto"===y&&(y=parseFloat(r.dataset.height||"")||(((v=r)instanceof HTMLImageElement?v.naturalHeight:v instanceof SVGElement?v.height.baseVal.value:Math.max(v.offsetHeight,v.scrollHeight))||0));var b=r.parentElement instanceof HTMLPictureElement?r.parentElement:r;this.option("transformParent")&&(b=b.parentElement||b);var w=b.getAttribute("style")||"";b.style.setProperty("transform","none","important"),o&&(b.style.width="",b.style.height=""),b.offsetHeight;var k,x,S,E,P,O,T=r.getBoundingClientRect(),M=T.width*i,C=T.height*i,A=0,z=0;o&&(Math.abs(m-M)>1||Math.abs(y-C)>1)&&((O=(E=m)/(P=y))>(x=M)/(S=C)?(E=x,P=x/O):(E=S*O,P=S),M=(k={width:E,height:P,top:.5*(S-P),left:.5*(x-E)}).width,C=k.height,A=k.top,z=k.left),this.contentRect=Object.assign(Object.assign({},this.contentRect),{top:T.top-s.top+A,bottom:s.bottom-T.bottom+A,left:T.left-s.left+z,right:s.right-T.right+z,fitWidth:M,fitHeight:C,width:M,height:C,fullWidth:m,fullHeight:y}),b.style.cssText=w,o&&(b.style.width="".concat(M,"px"),b.style.height="".concat(C,"px")),this.setTransform(),!0!==t&&this.emit("refresh"),this.ignoreBounds||(g(this.targetScale)<g(this.minScale)?this.zoomTo(this.minScale,{friction:0}):this.targetScale>this.maxScale?this.zoomTo(this.maxScale,{friction:0}):this.state===L.Init||this.checkBounds().inBounds||this.requestTick()),this.updateControls()}}},{key:"getBounds",value:function(){var e=this.option("bounds");if("auto"!==e)return e;var t=this.calculateContentDim(this.target),i=t.contentWidth,n=t.contentHeight,a=0,r=0,o=0,s=0,l=this.option("infinite");if(!0===l||this.lockedAxis&&l===this.lockedAxis)a=-1/0,o=1/0,r=-1/0,s=1/0;else{var c=this.containerRect,u=this.contentRect,h=g(this.contentRect.fitWidth*this.targetScale,H),d=g(this.contentRect.fitHeight*this.targetScale,H),f=c.innerWidth,v=c.innerHeight;if(this.containerRect.width===h&&(f=c.width),this.containerRect.width===d&&(v=c.height),i>f){a=-1*(o=.5*(i-f));var p=.5*(u.right-u.left);a+=p,o+=p}if(this.contentRect.fitWidth>f&&i<f&&(a-=.5*(this.contentRect.fitWidth-f),o-=.5*(this.contentRect.fitWidth-f)),n>v){r=-1*(s=.5*(n-v));var m=.5*(u.bottom-u.top);r+=m,s+=m}this.contentRect.fitHeight>v&&n<v&&(a-=.5*(this.contentRect.fitHeight-v),o-=.5*(this.contentRect.fitHeight-v))}return{x:{min:a,max:o},y:{min:r,max:s}}}},{key:"updateControls",value:function(){var e=this,t=e.container,i=e.panMode,n=e.contentRect,a=e.fullScale,r=e.targetScale,o=e.coverScale,s=e.maxScale,l=e.minScale,c={toggleMax:r-l<.5*(s-l)?s:l,toggleCover:r-l<.5*(o-l)?o:l,toggleZoom:r-l<.5*(a-l)?a:l}[e.option("click")||""]||l,u=e.canZoomIn(),h=e.canZoomOut(),d=i===B&&!!this.option("touch"),f=h&&d;d&&(g(r)<g(l)&&!this.panOnlyZoomed&&(f=!0),(g(n.width,1)>g(n.fitWidth,1)||g(n.height,1)>g(n.fitHeight,1))&&(f=!0)),g(n.width*r,1)<g(n.fitWidth,1)&&(f=!1),i===N&&(f=!1);var v=u&&g(c)>g(r),p=!v&&!f&&h&&g(c)<g(r);w(t,this.cn("canZoomIn"),v),w(t,this.cn("canZoomOut"),p),w(t,this.cn("isDraggable"),f);var m=!0,y=!1,b=void 0;try{for(var k,x=t.querySelectorAll('[data-panzoom-action="zoomIn"]')[Symbol.iterator]();!(m=(k=x.next()).done);m=!0){var S=k.value;u?(S.removeAttribute("disabled"),S.removeAttribute("tabindex")):(S.setAttribute("disabled",""),S.setAttribute("tabindex","-1"))}}catch(e){y=!0,b=e}finally{try{m||null==x.return||x.return()}finally{if(y)throw b}}var E=!0,P=!1,O=void 0;try{for(var T,M=t.querySelectorAll('[data-panzoom-action="zoomOut"]')[Symbol.iterator]();!(E=(T=M.next()).done);E=!0){var C=T.value;h?(C.removeAttribute("disabled"),C.removeAttribute("tabindex")):(C.setAttribute("disabled",""),C.setAttribute("tabindex","-1"))}}catch(e){P=!0,O=e}finally{try{E||null==M.return||M.return()}finally{if(P)throw O}}var L=!0,A=!1,z=void 0;try{for(var D,R=t.querySelectorAll('[data-panzoom-action="toggleZoom"],[data-panzoom-action="iterateZoom"]')[Symbol.iterator]();!(L=(D=R.next()).done);L=!0){var j=D.value;u||h?(j.removeAttribute("disabled"),j.removeAttribute("tabindex")):(j.setAttribute("disabled",""),j.setAttribute("tabindex","-1"));var I=j.querySelector("g");I&&(I.style.display=u?"":"none")}}catch(e){A=!0,z=e}finally{try{L||null==R.return||R.return()}finally{if(A)throw z}}}},{key:"panTo",value:function(e){var t=e.x,i=void 0===t?this.target.e:t,n=e.y,a=void 0===n?this.target.f:n,r=e.scale,o=void 0===r?this.targetScale:r,s=e.friction,l=void 0===s?this.option("friction"):s,c=e.angle,u=void 0===c?0:c,h=e.originX,d=void 0===h?0:h,f=e.originY,v=void 0===f?0:f,p=e.flipX,g=void 0!==p&&p,m=e.flipY,y=void 0!==m&&m,b=e.ignoreBounds,w=void 0!==b&&b;this.state!==L.Destroy&&this.applyChange({panX:i-this.target.e,panY:a-this.target.f,scale:o/this.targetScale,angle:u,originX:d,originY:v,friction:l,flipX:g,flipY:y,ignoreBounds:w})}},{key:"applyChange",value:function(e){var t=e.panX,i=void 0===t?0:t,n=e.panY,a=void 0===n?0:n,r=e.scale,o=void 0===r?1:r,s=e.angle,l=void 0===s?0:s,c=e.originX,u=void 0===c?-this.current.e:c,h=e.originY,d=void 0===h?-this.current.f:h,f=e.friction,v=void 0===f?this.option("friction"):f,p=e.flipX,m=void 0!==p&&p,y=e.flipY,b=void 0!==y&&y,w=e.ignoreBounds,k=void 0!==w&&w,x=e.bounce,S=void 0===x?this.option("bounce"):x;if(this.state!==L.Destroy){this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.friction=v||0,this.ignoreBounds=k;var E=this.current,P=E.e,O=E.f,T=this.getMatrix(this.target),M=(new DOMMatrix).translate(P,O).translate(u,d).translate(i,a);if(this.option("zoom")){if(!k){var C=this.targetScale,A=this.minScale,z=this.maxScale;C*o<A&&(o=A/C),C*o>z&&(o=z/C)}M=M.scale(o)}M=M.translate(-u,-d).translate(-P,-O).multiply(T),l&&(M=M.rotate(l)),m&&(M=M.scale(-1,1)),b&&(M=M.scale(1,-1));var R=!0,j=!1,I=void 0;try{for(var F,_=D[Symbol.iterator]();!(R=(F=_.next()).done);R=!0){var B=F.value;"e"!==B&&"f"!==B&&(M[B]>this.minScale+1e-5||M[B]<this.minScale-1e-5)?this.target[B]=M[B]:this.target[B]=g(M[B],H)}}catch(e){j=!0,I=e}finally{try{R||null==_.return||_.return()}finally{if(j)throw I}}(this.targetScale<this.scale||Math.abs(o-1)>.1||this.panMode===N||!1===S)&&!k&&this.clampTargetBounds(),this.isResting||(this.state=L.Panning,this.requestTick())}}},{key:"stop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.state!==L.Init&&this.state!==L.Destroy){var t=this.isTicking;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;var i=!0,n=!1,a=void 0;try{for(var r,o=D[Symbol.iterator]();!(i=(r=o.next()).done);i=!0){var s=r.value;this.velocity[s]=0,"current"===e?this.current[s]=this.target[s]:"target"===e&&(this.target[s]=this.current[s])}}catch(e){n=!0,a=e}finally{try{i||null==o.return||o.return()}finally{if(n)throw a}}this.setTransform(),I(this.container,"is-scaling"),I(this.container,"is-animating"),this.isTicking=!1,this.state=L.Ready,t&&(this.emit("endAnimation"),this.updateControls())}}},{key:"requestTick",value:function(){var e=this;this.isTicking||(this.emit("startAnimation"),this.updateControls(),F(this.container,"is-animating"),this.isScaling&&F(this.container,"is-scaling")),this.isTicking=!0,this.rAF||(this.rAF=requestAnimationFrame((function(){return e.animate()})))}},{key:"panWithMouse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.option("mouseMoveFriction");if(this.pmme=e,this.panMode===N&&e&&!(g(this.targetScale)<=g(this.minScale))){this.emit("mouseMove",e);var i=this,n=i.container,a=i.containerRect,r=i.contentRect,o=a.width,s=a.height,l=n.getBoundingClientRect(),c=(e.clientX||0)-l.left,u=(e.clientY||0)-l.top,h=this.calculateContentDim(this.target),d=h.contentWidth,f=h.contentHeight,v=this.option("mouseMoveFactor");v>1&&(d!==o&&(d*=v),f!==s&&(f*=v));var p=.5*(d-o)-c/o*100/100*(d-o);p+=.5*(r.right-r.left);var m=.5*(f-s)-u/s*100/100*(f-s);m+=.5*(r.bottom-r.top),this.applyChange({panX:p-this.target.e,panY:m-this.target.f,friction:t})}}},{key:"zoomWithWheel",value:function(e){if(this.state!==L.Destroy&&this.state!==L.Init){var t=Date.now();if(t-this.pwt<45)e.preventDefault();else{this.pwt=t;var i=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce((function(e,t){return Math.abs(t)>Math.abs(e)?t:e})),n=Math.max(-1,Math.min(1,i)),a=this,r=a.targetScale,o=a.maxScale,s=a.minScale,l=r*(100+45*n)/100;g(l)<g(s)&&g(r)<=g(s)?(this.cwd+=Math.abs(n),l=s):g(l)>g(o)&&g(r)>=g(o)?(this.cwd+=Math.abs(n),l=o):(this.cwd=0,l=Math.max(Math.min(l,o),s)),this.cwd>this.option("wheelLimit")||(e.preventDefault(),g(l)!==g(r)&&this.zoomTo(l,{event:e}))}}}},{key:"canZoomIn",value:function(){return this.option("zoom")&&(g(this.contentRect.width,1)<g(this.contentRect.fitWidth,1)||g(this.targetScale)<g(this.maxScale))}},{key:"canZoomOut",value:function(){return this.option("zoom")&&g(this.targetScale)>g(this.minScale)}},{key:"zoomIn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1.25,t=arguments.length>1?arguments[1]:void 0;this.zoomTo(this.targetScale*e,t)}},{key:"zoomOut",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.8,t=arguments.length>1?arguments[1]:void 0;this.zoomTo(this.targetScale*e,t)}},{key:"zoomToFit",value:function(e){this.zoomTo("fit",e)}},{key:"zoomToCover",value:function(e){this.zoomTo("cover",e)}},{key:"zoomToFull",value:function(e){this.zoomTo("full",e)}},{key:"zoomToMax",value:function(e){this.zoomTo("max",e)}},{key:"toggleZoom",value:function(e){this.zoomTo(this.targetScale-this.minScale<.5*(this.fullScale-this.minScale)?"full":"fit",e)}},{key:"toggleMax",value:function(e){this.zoomTo(this.targetScale-this.minScale<.5*(this.maxScale-this.minScale)?"max":"fit",e)}},{key:"toggleCover",value:function(e){this.zoomTo(this.targetScale-this.minScale<.5*(this.coverScale-this.minScale)?"cover":"fit",e)}},{key:"iterateZoom",value:function(e){this.zoomTo("next",e)}},{key:"zoomTo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.friction,n=void 0===i?"auto":i,a=t.originX,r=void 0===a?"auto":a,o=t.originY,s=void 0===o?"auto":o,l=t.event;if(!this.isContentLoading&&this.state!==L.Destroy){var c=this,u=c.targetScale;this.stop();var h=1;if(this.panMode===N&&(l=this.pmme||l),l||"auto"===r||"auto"===s){var d=this.content.getBoundingClientRect(),f=this.container.getBoundingClientRect(),v=l?l.clientX:f.left+.5*f.width,p=l?l.clientY:f.top+.5*f.height;r=v-d.left-.5*d.width,s=p-d.top-.5*d.height}var g=this.fullScale,m=this.maxScale,y=this.coverScale;"number"==typeof e?h=e/u:("next"===e&&(g-y<.2&&(y=g),e=u<g-1e-5?"full":u<m-1e-5?"max":"fit"),h="full"===e?g/u||1:"cover"===e?y/u||1:"max"===e?m/u||1:1/u||1),n="auto"===n?h>1?.15:.25:n,this.applyChange({scale:h,originX:r,originY:s,friction:n}),l&&this.panMode===N&&this.panWithMouse(l,n)}}},{key:"rotateCCW",value:function(){this.applyChange({angle:-90})}},{key:"rotateCW",value:function(){this.applyChange({angle:90})}},{key:"flipX",value:function(){this.applyChange({flipX:!0})}},{key:"flipY",value:function(){this.applyChange({flipY:!0})}},{key:"fitX",value:function(){this.stop("target");var e=this,t=e.containerRect,i=e.contentRect,n=e.target;this.applyChange({panX:.5*t.width-(i.left+.5*i.fitWidth)-n.e,panY:.5*t.height-(i.top+.5*i.fitHeight)-n.f,scale:t.width/i.fitWidth/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}},{key:"fitY",value:function(){this.stop("target");var e=this,t=e.containerRect,i=e.contentRect,n=e.target;this.applyChange({panX:.5*t.width-(i.left+.5*i.fitWidth)-n.e,panY:.5*t.innerHeight-(i.top+.5*i.fitHeight)-n.f,scale:t.height/i.fitHeight/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}},{key:"toggleFS",value:function(){var e=this.container,t=this.cn("inFullscreen"),i=this.cn("htmlHasFullscreen");e.classList.toggle(t);var n=e.classList.contains(t);n?(document.documentElement.classList.add(i),document.addEventListener("keydown",this.onKeydown,!0)):(document.documentElement.classList.remove(i),document.removeEventListener("keydown",this.onKeydown,!0)),this.updateMetrics(),this.emit(n?"enterFS":"exitFS")}},{key:"getMatrix",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current,t=e.a,i=e.b,n=e.c,a=e.d,r=e.e,o=e.f;return new DOMMatrix([t,i,n,a,r,o])}},{key:"reset",value:function(e){if(this.state!==L.Init&&this.state!==L.Destroy){this.stop("current");var t=!0,i=!1,n=void 0;try{for(var a,r=D[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var o=a.value;this.target[o]=_[o]}}catch(e){i=!0,n=e}finally{try{t||null==r.return||r.return()}finally{if(i)throw n}}this.target.a=this.minScale,this.target.d=this.minScale,this.clampTargetBounds(),this.isResting||(this.friction=void 0===e?this.option("friction"):e,this.state=L.Panning,this.requestTick())}}},{key:"destroy",value:function(){this.stop(),this.state=L.Destroy,this.detachEvents(),this.detachObserver();var e=this.container,t=this.content,i=this.option("classes")||{},n=!0,a=!1,r=void 0;try{for(var o,s=Object.values(i)[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;e.classList.remove(l+"")}}catch(e){a=!0,r=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}t&&(t.removeEventListener("load",this.onLoad),t.removeEventListener("error",this.onError)),this.detachPlugins()}}]),n}(z);Object.defineProperty(q,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{content:null,width:"auto",height:"auto",panMode:"drag",touch:!0,dragMinThreshold:3,lockAxis:!1,mouseMoveFactor:1,mouseMoveFriction:.12,zoom:!0,pinchToZoom:!0,panOnlyZoomed:"auto",minScale:1,maxScale:2,friction:.25,dragFriction:.35,decelFriction:.05,click:"toggleZoom",dblClick:!1,wheel:"zoom",wheelLimit:7,spinner:!0,bounds:"auto",infinite:!1,rubberband:!0,bounce:!0,maxVelocity:75,transformParent:!1,classes:{content:"f-panzoom__content",isLoading:"is-loading",canZoomIn:"can-zoom_in",canZoomOut:"can-zoom_out",isDraggable:"is-draggable",isDragging:"is-dragging",inFullscreen:"in-fullscreen",htmlHasFullscreen:"with-panzoom-in-fullscreen"},l10n:{PANUP:"Move up",PANDOWN:"Move down",PANLEFT:"Move left",PANRIGHT:"Move right",ZOOMIN:"Zoom in",ZOOMOUT:"Zoom out",TOGGLEZOOM:"Toggle zoom level",TOGGLE1TO1:"Toggle zoom level",ITERATEZOOM:"Toggle zoom level",ROTATECCW:"Rotate counterclockwise",ROTATECW:"Rotate clockwise",FLIPX:"Flip horizontally",FLIPY:"Flip vertically",FITX:"Fit horizontally",FITY:"Fit vertically",RESET:"Reset",TOGGLEFS:"Toggle fullscreen"}}}),Object.defineProperty(q,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}});var V,Z,G=function(e,i){var n=!0;return function(){for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];n&&(n=!1,e.apply(void 0,t(v)(r)),setTimeout((function(){n=!0}),i))}},U=function(e,t){var i=[];return e.childNodes.forEach((function(e){e.nodeType!==Node.ELEMENT_NODE||t&&!e.matches(t)||i.push(e)})),i};(Z=V||(V={}))[Z.Init=0]="Init",Z[Z.Ready=1]="Ready",Z[Z.Destroy=2]="Destroy";var K=function(e){if("string"==typeof e||e instanceof HTMLElement)e={html:e};else{var t=e.thumb;void 0!==t&&("string"==typeof t&&(e.thumbSrc=t),t instanceof HTMLImageElement&&(e.thumbEl=t,e.thumbElSrc=t.src,e.thumbSrc=t.src),delete e.thumb)}return Object.assign({html:"",el:null,isDom:!1,class:"",customClass:"",index:-1,dim:0,gap:0,pos:0,transition:!1},e)},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({index:-1,slides:[],dim:0,pos:-1},e)},Q=function(e){"use strict";t(h)(n,e);var i=t(p)(n);function n(e,r){var s;return t(o)(this,n),s=i.call(this,r),Object.defineProperty(t(a)(s),"instance",{enumerable:!0,configurable:!0,writable:!0,value:e}),t(d)(s)}return t(s)(n,[{key:"attach",value:function(){}},{key:"detach",value:function(){}}]),n}(C),$=function(e){"use strict";t(h)(n,e);var i=t(p)(n);function n(){var e;return t(o)(this,n),e=i.call.apply(i,[this].concat(Array.prototype.slice.call(arguments))),Object.defineProperty(t(a)(e),"isDynamic",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(t(a)(e),"list",{enumerable:!0,configurable:!0,writable:!0,value:null}),t(d)(e)}return t(s)(n,[{key:"onRefresh",value:function(){this.refresh()}},{key:"build",value:function(){var e=this.list;return e||(e=document.createElement("ul"),F(e,this.cn("list")),e.setAttribute("role","tablist"),this.instance.container.appendChild(e),F(this.instance.container,this.cn("hasDots")),this.list=e),e}},{key:"refresh",value:function(){var e,i=this.instance.pages.length,n=Math.min(2,this.option("minCount")),a=Math.max(2e3,this.option("maxCount")),r=this.option("dynamicFrom");if(i<n||i>a)this.cleanup();else{var o="number"==typeof r&&i>5&&i>=r,s=!this.list||this.isDynamic!==o||this.list.children.length!==i;s&&this.cleanup();var l=this.build();if(w(l,this.cn("isDynamic"),!!o),s)for(var c=0;c<i;c++)l.append(this.createItem(c));var u,h=0,d=!0,f=!1,p=void 0;try{for(var g,m=t(v)(l.children)[Symbol.iterator]();!(d=(g=m.next()).done);d=!0){var y=g.value,b=h===this.instance.page;b&&(u=y),w(y,this.cn("isCurrent"),b),null===(e=y.children[0])||void 0===e||e.setAttribute("aria-selected",b?"true":"false");var k=!0,x=!1,S=void 0;try{for(var E,P=["isBeforePrev","isPrev","isNext","isAfterNext"][Symbol.iterator]();!(k=(E=P.next()).done);k=!0){var O=E.value;I(y,this.cn(O))}}catch(e){x=!0,S=e}finally{try{k||null==P.return||P.return()}finally{if(x)throw S}}h++}}catch(e){f=!0,p=e}finally{try{d||null==m.return||m.return()}finally{if(f)throw p}}if(u=u||l.firstChild,o&&u){var T=u.previousElementSibling,M=T&&T.previousElementSibling;F(T,this.cn("isPrev")),F(M,this.cn("isBeforePrev"));var C=u.nextElementSibling,L=C&&C.nextElementSibling;F(C,this.cn("isNext")),F(L,this.cn("isAfterNext"))}this.isDynamic=o}}},{key:"createItem",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=document.createElement("li");i.setAttribute("role","presentation");var n=y(this.instance.localize(this.option("dotTpl"),[["%d",t+1]]).replace(/\%i/g,t+""));return i.appendChild(n),null===(e=i.children[0])||void 0===e||e.setAttribute("role","tab"),i}},{key:"cleanup",value:function(){this.list&&(this.list.remove(),this.list=null),this.isDynamic=!1,I(this.instance.container,this.cn("hasDots"))}},{key:"attach",value:function(){this.instance.on(["refresh","change"],this.onRefresh)}},{key:"detach",value:function(){this.instance.off(["refresh","change"],this.onRefresh),this.cleanup()}}]),n}(Q);Object.defineProperty($,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{classes:{list:"f-carousel__dots",isDynamic:"is-dynamic",hasDots:"has-dots",dot:"f-carousel__dot",isBeforePrev:"is-before-prev",isPrev:"is-prev",isCurrent:"is-current",isNext:"is-next",isAfterNext:"is-after-next"},dotTpl:'<button type="button" data-carousel-page="%i" aria-label="{{GOTO}}"><span class="f-carousel__dot" aria-hidden="true"></span></button>',dynamicFrom:11,maxCount:1/0,minCount:2}});var ee="disabled",te="next",ie="prev",ne=function(e){"use strict";t(h)(n,e);var i=t(p)(n);function n(){var e;return t(o)(this,n),e=i.call.apply(i,[this].concat(Array.prototype.slice.call(arguments))),Object.defineProperty(t(a)(e),"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t(a)(e),"prev",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t(a)(e),"next",{enumerable:!0,configurable:!0,writable:!0,value:null}),t(d)(e)}return t(s)(n,[{key:"onRefresh",value:function(){var e=this.instance,t=e.pages.length,i=e.page;if(t<2)this.cleanup();else{this.build();var n=this.prev,a=this.next;n&&a&&(n.removeAttribute(ee),a.removeAttribute(ee),e.isInfinite||(i<=0&&n.setAttribute(ee,""),i>=t-1&&a.setAttribute(ee,"")))}}},{key:"createButton",value:function(e){var t=this.instance,i=document.createElement("button");i.setAttribute("tabindex","0"),i.setAttribute("title",t.localize("{{".concat(e.toUpperCase(),"}}"))),F(i,this.cn("button")+" "+this.cn(e===te?"isNext":"isPrev"));var n,a=t.isRTL?e===te?ie:te:e;return i.innerHTML=t.localize(this.option("".concat(a,"Tpl"))),i.dataset["carousel".concat((n=e,n?n.match("^[a-z]")?n.charAt(0).toUpperCase()+n.substring(1):n:""))]="true",i}},{key:"build",value:function(){var e=this.container;e||(this.container=e=document.createElement("div"),F(e,this.cn("container")),this.instance.container.appendChild(e)),this.next||(this.next=e.appendChild(this.createButton(te))),this.prev||(this.prev=e.appendChild(this.createButton(ie)))}},{key:"cleanup",value:function(){this.prev&&this.prev.remove(),this.next&&this.next.remove(),this.container&&this.container.remove(),this.prev=null,this.next=null,this.container=null}},{key:"attach",value:function(){this.instance.on(["refresh","change"],this.onRefresh)}},{key:"detach",value:function(){this.instance.off(["refresh","change"],this.onRefresh),this.cleanup()}}]),n}(Q);Object.defineProperty(ne,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{classes:{container:"f-carousel__nav",button:"f-button",isNext:"is-next",isPrev:"is-prev"},nextTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M9 3l9 9-9 9"/></svg>',prevTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M15 3l-9 9 9 9"/></svg>'}});var ae=function(e){"use strict";t(h)(n,e);var i=t(p)(n);function n(){var e;return t(o)(this,n),e=i.call.apply(i,[this].concat(Array.prototype.slice.call(arguments))),Object.defineProperty(t(a)(e),"selectedIndex",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t(a)(e),"target",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t(a)(e),"nav",{enumerable:!0,configurable:!0,writable:!0,value:null}),t(d)(e)}return t(s)(n,[{key:"addAsTargetFor",value:function(e){this.target=this.instance,this.nav=e,this.attachEvents()}},{key:"addAsNavFor",value:function(e){this.nav=this.instance,this.target=e,this.attachEvents()}},{key:"attachEvents",value:function(){this.nav&&this.target&&(this.nav.options.initialSlide=this.target.options.initialPage,this.nav.on("ready",this.onNavReady),this.nav.state===V.Ready&&this.onNavReady(this.nav),this.target.on("ready",this.onTargetReady),this.target.state===V.Ready&&this.onTargetReady(this.target))}},{key:"onNavReady",value:function(e){e.on("createSlide",this.onNavCreateSlide),e.on("Panzoom.click",this.onNavClick),e.on("Panzoom.touchEnd",this.onNavTouch),this.onTargetChange()}},{key:"onTargetReady",value:function(e){e.on("change",this.onTargetChange),e.on("Panzoom.refresh",this.onTargetChange),this.onTargetChange()}},{key:"onNavClick",value:function(e,t,i){this.onNavTouch(e,e.panzoom,i)}},{key:"onNavTouch",value:function(e,t,i){var n,a;if(!(Math.abs(t.dragOffset.x)>3||Math.abs(t.dragOffset.y)>3)){var r=i.target,o=this.nav,s=this.target;if(o&&s&&r){var l=r.closest("[data-index]");if(i.stopPropagation(),i.preventDefault(),l){var c=parseInt(l.dataset.index||"",10)||0,u=s.getPageForSlide(c),h=o.getPageForSlide(c);o.slideTo(h),s.slideTo(u,{friction:(null===(a=null===(n=this.nav)||void 0===n?void 0:n.plugins)||void 0===a?void 0:a.Sync.option("friction"))||0}),this.markSelectedSlide(c)}}}}},{key:"onNavCreateSlide",value:function(e,t){t.index===this.selectedIndex&&this.markSelectedSlide(t.index)}},{key:"onTargetChange",value:function(){var e=this.target,t=this.nav;if(e&&t&&t.state===V.Ready&&e.state===V.Ready){var i=e.pages[e.page].slides[0].index,n=t.getPageForSlide(i);this.markSelectedSlide(i),t.slideTo(n)}}},{key:"markSelectedSlide",value:function(e){var i=this.nav;i&&i.state===V.Ready&&(this.selectedIndex=e,t(v)(i.slides).map((function(t){t.el&&t.el.classList[t.index===e?"add":"remove"]("is-nav-selected")})))}},{key:"attach",value:function(){var e=this,t=e.options.target,i=e.options.nav;t?e.addAsNavFor(t):i&&e.addAsTargetFor(i)}},{key:"detach",value:function(){var e=this,t=e.nav,i=e.target;t&&(t.off("ready",e.onNavReady),t.off("createSlide",e.onNavCreateSlide),t.off("Panzoom.click",e.onNavClick),t.off("Panzoom.touchEnd",e.onNavTouch)),e.nav=null,i&&(i.off("ready",e.onTargetReady),i.off("refresh",e.onTargetChange),i.off("change",e.onTargetChange)),e.target=null}}]),n}(Q);Object.defineProperty(ae,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{friction:.35}});var re={Navigation:ne,Dots:$,Sync:ae},oe=function(e){"use strict";t(h)(n,e);var i=t(p)(n);function n(e){var r,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t(o)(this,n),r=i.call(this),Object.defineProperty(t(a)(r),"userOptions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(t(a)(r),"userPlugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(t(a)(r),"bp",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(t(a)(r),"lp",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(t(a)(r),"state",{enumerable:!0,configurable:!0,writable:!0,value:V.Init}),Object.defineProperty(t(a)(r),"page",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(t(a)(r),"prevPage",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t(a)(r),"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t(a)(r),"viewport",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t(a)(r),"track",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t(a)(r),"slides",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(t(a)(r),"pages",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(t(a)(r),"panzoom",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t(a)(r),"inTransition",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(t(a)(r),"contentDim",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(t(a)(r),"viewportDim",{enumerable:!0,configurable:!0,writable:!0,value:0}),"string"==typeof e&&(e=document.querySelector(e)),!e||!j(e))throw new Error("No Element found");return r.container=e,r.slideNext=G(r.slideNext.bind(t(a)(r)),150),r.slidePrev=G(r.slidePrev.bind(t(a)(r)),150),r.userOptions=s,r.userPlugins=l,queueMicrotask((function(){r.processOptions()})),t(d)(r)}return t(s)(n,[{key:"axis",get:function(){return this.isHorizontal?"e":"f"}},{key:"isEnabled",get:function(){return this.state===V.Ready}},{key:"isInfinite",get:function(){var e=!1,t=this,i=t.contentDim,n=t.viewportDim,a=t.pages,r=t.slides;return a.length>=2&&i+r[0].dim>=n&&(e=this.option("infinite")),e}},{key:"isRTL",get:function(){return"rtl"===this.option("direction")}},{key:"isHorizontal",get:function(){return"x"===this.option("axis")}},{key:"processOptions",value:function(){var e=this,i=T({},n.defaults,this.userOptions),a="",r=i.breakpoints,o=!0,s=!1,l=void 0;if(r&&O(r))try{for(var h,d=Object.entries(r)[Symbol.iterator]();!(o=(h=d.next()).done);o=!0){var v=t(f)(h.value,2),p=v[0],g=v[1];window.matchMedia(p).matches&&O(g)&&(a+=p,T(i,g))}}catch(e){s=!0,l=e}finally{try{o||null==d.return||d.return()}finally{if(s)throw l}}a===this.bp&&this.state!==V.Init||(this.bp=a,this.state===V.Ready&&(i.initialSlide=this.pages[this.page].slides[0].index),this.state!==V.Init&&this.destroy(),t(c)(t(u)(n.prototype),"setOptions",this).call(this,i),!1===this.option("enabled")?this.attachEvents():setTimeout((function(){e.init()}),0))}},{key:"init",value:function(){this.state=V.Init,this.emit("init"),this.attachPlugins(Object.assign(Object.assign({},n.Plugins),this.userPlugins)),this.initLayout(),this.initSlides(),this.updateMetrics(),this.setInitialPosition(),this.initPanzoom(),this.attachEvents(),this.state=V.Ready,this.emit("ready")}},{key:"initLayout",value:function(){var e,i,n=this.container,a=this.option("classes");F(n,this.cn("container")),w(n,a.isLTR,!this.isRTL),w(n,a.isRTL,this.isRTL),w(n,a.isVertical,!this.isHorizontal),w(n,a.isHorizontal,this.isHorizontal);var r=this.option("viewport")||n.querySelector(".".concat(a.viewport));r||(r=document.createElement("div"),F(r,a.viewport),(e=r).append.apply(e,t(v)(U(n,".".concat(a.slide)))),n.prepend(r));var o=this.option("track")||n.querySelector(".".concat(a.track));o||(o=document.createElement("div"),F(o,a.track),(i=o).append.apply(i,t(v)(Array.from(r.childNodes)))),o.setAttribute("aria-live","polite"),r.contains(o)||r.prepend(o),this.viewport=r,this.track=o,this.emit("initLayout")}},{key:"initSlides",value:function(){var e=this.track;if(e){var i=this;this.slides=[],t(v)(U(e,".".concat(this.cn("slide")))).forEach((function(e){if(j(e)){var t=K({el:e,isDom:!0,index:i.slides.length});i.slides.push(t),i.emit("initSlide",t,i.slides.length)}}));var n=!0,a=!1,r=void 0;try{for(var o,s=this.option("slides",[])[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value,c=K(l);c.index=this.slides.length,this.slides.push(c),this.emit("initSlide",c,this.slides.length)}}catch(e){a=!0,r=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}this.emit("initSlides")}}},{key:"setInitialPage",value:function(){var e,t=this.option("initialSlide");e="number"==typeof t?this.getPageForSlide(t):parseInt(this.option("initialPage",0)+"",10)||0,this.page=e}},{key:"setInitialPosition",value:function(){if(this.track&&this.pages.length){var e=this.isHorizontal,t=this.page;this.pages[t]||(this.page=t=0);var i=this.pages[t].pos*(this.isRTL&&e?1:-1),n=e?"".concat(i,"px"):"0",a=e?"0":"".concat(i,"px");this.track.style.transform="translate3d(".concat(n,", ").concat(a,", 0) scale(1)"),this.option("adaptiveHeight")&&this.setViewportHeight()}}},{key:"initPanzoom",value:function(){var e=this;this.panzoom&&(this.panzoom.destroy(),this.panzoom=null);var i=this.option("Panzoom")||{};this.panzoom=new q(this.viewport,T({},{content:this.track,zoom:!1,panOnlyZoomed:!1,lockAxis:this.isHorizontal?"x":"y",infinite:this.isInfinite,click:!1,dblClick:!1,touch:function(t){return!(e.pages.length<2&&!t.options.infinite)},bounds:function(){return e.getBounds()},maxVelocity:function(t){return Math.abs(t.target[e.axis]-t.current[e.axis])<2*e.viewportDim?100:0}},i)),this.panzoom.on("*",(function(i,n){for(var a=arguments.length,r=new Array(a>2?a-2:0),o=2;o<a;o++)r[o-2]=arguments[o];e.emit.apply(e,["Panzoom.".concat(n),i].concat(t(v)(r)))})),this.panzoom.on("decel",this.onDecel),this.panzoom.on("refresh",this.onRefresh),this.panzoom.on("beforeTransform",this.onBeforeTransform),this.panzoom.on("endAnimation",this.onEndAnimation)}},{key:"attachEvents",value:function(){var e=this.container;e&&(e.addEventListener("click",this.onClick,{passive:!1,capture:!1}),e.addEventListener("slideTo",this.onSlideTo)),window.addEventListener("resize",this.onResize)}},{key:"createPages",value:function(){var e=[],t=this.contentDim,i=this.viewportDim,n=this.option("slidesPerPage");("number"!=typeof n||t<=i)&&(n=1/0);var a=0,r=0,o=0,s=!0,l=!1,c=void 0;try{for(var u,h=this.slides[Symbol.iterator]();!(s=(u=h.next()).done);s=!0){var d=u.value;(!e.length||r+d.dim>i||o===n)&&(e.push(J()),a=e.length-1,r=0,o=0),e[a].slides.push(d),r+=d.dim+d.gap,o++}}catch(e){l=!0,c=e}finally{try{s||null==h.return||h.return()}finally{if(l)throw c}}return e}},{key:"processPages",value:function(){var e=this,i=this.pages,n=this.contentDim,a=this.viewportDim,r=this.option("center"),o=this.option("fill"),s=o&&r&&n>a&&!this.isInfinite;if(i.forEach((function(e,i){e.index=i,e.pos=e.slides[0].pos,e.dim=0;var o=!0,l=!1,c=void 0;try{for(var u,h=e.slides.entries()[Symbol.iterator]();!(o=(u=h.next()).done);o=!0){var d=t(f)(u.value,2),v=d[0],p=d[1];e.dim+=p.dim,v<e.slides.length-1&&(e.dim+=p.gap)}}catch(e){l=!0,c=e}finally{try{o||null==h.return||h.return()}finally{if(l)throw c}}s&&e.pos+.5*e.dim<.5*a?e.pos=0:s&&e.pos+.5*e.dim>=n-.5*a?e.pos=n-a:r&&(e.pos+=-.5*(a-e.dim))})),i.forEach((function(t,i){o&&!e.isInfinite&&n>a&&(t.pos=Math.max(t.pos,0),t.pos=Math.min(t.pos,n-a)),t.pos=g(t.pos,1e3),t.dim=g(t.dim,1e3),Math.abs(t.pos)<=.1&&(t.pos=0)})),this.isInfinite)return i;var l,c=[];return i.forEach((function(e){var i=Object.assign({},e);l&&i.pos===l.pos?(l.dim+=i.dim,l.slides=t(v)(l.slides).concat(t(v)(i.slides))):(i.index=c.length,l=i,c.push(i))})),c}},{key:"getPageFromIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.pages.length;return e=parseInt((e||0).toString())||0,this.isInfinite?(e%t+t)%t:Math.max(Math.min(e,t-1),0)}},{key:"getSlideMetrics",value:function(e){var t,i,n,a=this.isHorizontal?"width":"height",r=0,o=e.el,s=o&&!o.parentNode;if(o?r=parseFloat(o.dataset[a]||"")||0:((o=document.createElement("div")).style.visibility="hidden",(this.track||document.body).prepend(o)),F(o,this.cn("slide")+" "+e.class+" "+e.customClass),r)o.style[a]="".concat(r,"px"),o.style["width"===a?"height":"width"]="";else{s&&(this.track||document.body).prepend(o);var l=Math.max(1,(null===(t=window.visualViewport)||void 0===t?void 0:t.scale)||1);r=o.getBoundingClientRect()[a]*l}var c=getComputedStyle(o);return"content-box"===c.boxSizing&&(this.isHorizontal?(r+=parseFloat(c.paddingLeft)||0,r+=parseFloat(c.paddingRight)||0):(r+=parseFloat(c.paddingTop)||0,r+=parseFloat(c.paddingBottom)||0)),n=parseFloat(c[this.isHorizontal?"marginRight":"marginBottom"])||0,s?null===(i=o.parentElement)||void 0===i||i.removeChild(o):e.el||o.remove(),{dim:g(r,1e3),gap:g(n,1e3)}}},{key:"getBounds",value:function(){var e=this,t=e.isInfinite,i=e.isRTL,n=e.isHorizontal,a=e.pages,r={min:0,max:0};if(t)r={min:-1/0,max:1/0};else if(a.length){var o=a[0].pos,s=a[a.length-1].pos;r=i&&n?{min:o,max:s}:{min:-1*s,max:-1*o}}return{x:n?r:{min:0,max:0},y:n?{min:0,max:0}:r}}},{key:"repositionSlides",value:function(){var e,i=this,n=i.isHorizontal,a=i.isRTL,r=i.isInfinite,o=i.viewport,s=i.viewportDim,l=i.contentDim,c=i.page,u=i.pages,h=i.slides,d=i.panzoom,f=0,p=0,m=0,y=0;d?y=-1*d.current[this.axis]:u[c]&&(y=u[c].pos||0),e=n?a?"right":"left":"top",a&&n&&(y*=-1);var b=!0,w=!1,k=void 0;try{for(var x,S=h[Symbol.iterator]();!(b=(x=S.next()).done);b=!0){var E=x.value;E.el?("top"===e?(E.el.style.right="",E.el.style.left=""):E.el.style.top="",E.index!==f?E.el.style[e]=0===p?"":"".concat(g(p,1e3),"px"):E.el.style[e]="",m+=E.dim+E.gap,f++):p+=E.dim+E.gap}}catch(e){w=!0,k=e}finally{try{b||null==S.return||S.return()}finally{if(w)throw k}}if(r&&m&&o){var P=getComputedStyle(o),O="padding",T=n?"Right":"Bottom",M=parseFloat(P[O+(n?"Left":"Top")]);y-=M,s+=M,s+=parseFloat(P[O+T]);var C=!0,L=!1,A=void 0;try{for(var z,D=h[Symbol.iterator]();!(C=(z=D.next()).done);C=!0){var R=z.value;R.el&&(g(R.pos)<g(s)&&g(R.pos+R.dim+R.gap)<g(y)&&g(y)>g(l-s)&&(R.el.style[e]="".concat(g(p+m,1e3),"px")),g(R.pos+R.gap)>=g(l-s)&&g(R.pos)>g(y+s)&&g(y)<g(s)&&(R.el.style[e]="-".concat(g(m,1e3),"px")))}}catch(e){L=!0,A=e}finally{try{C||null==D.return||D.return()}finally{if(L)throw A}}}var j,I,F=t(v)(this.inTransition);if(F.length>1&&(j=u[F[0]],I=u[F[1]]),j&&I){var _=0,H=!0,N=!1,B=void 0;try{for(var W,X=h[Symbol.iterator]();!(H=(W=X.next()).done);H=!0){var Y=W.value;Y.el?this.inTransition.has(Y.index)&&j.slides.indexOf(Y)<0&&(Y.el.style[e]="".concat(g(_+(j.pos-I.pos),1e3),"px")):_+=Y.dim+Y.gap}}catch(e){N=!0,B=e}finally{try{H||null==X.return||X.return()}finally{if(N)throw B}}}}},{key:"createSlideEl",value:function(e){var t=this.track,i=this.slides;if(t&&e&&(!e.el||!e.el.parentNode)){var n=e.el||document.createElement("div");F(n,this.cn("slide")),F(n,e.class),F(n,e.customClass);var a=e.html;a&&(a instanceof HTMLElement?n.appendChild(a):n.innerHTML=e.html+"");var r=[];i.forEach((function(e,t){e.el&&r.push(t)}));var o=e.index,s=null;r.length&&(s=i[r.reduce((function(e,t){return Math.abs(t-o)<Math.abs(e-o)?t:e}))]);var l=s&&s.el&&s.el.parentNode?s.index<e.index?s.el.nextSibling:s.el:null;t.insertBefore(n,t.contains(l)?l:null),e.el=n,this.emit("createSlide",e)}}},{key:"removeSlideEl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e.el;if(i&&i.parentNode){if(I(i,this.cn("isSelected")),e.isDom&&!t)return i.removeAttribute("aria-hidden"),i.removeAttribute("data-index"),I(i,this.cn("isSelected")),void(i.style.left="");this.emit("removeSlide",e);var n=new CustomEvent("animationend");i.dispatchEvent(n),e.el&&(e.el.remove(),e.el=null)}}},{key:"transitionTo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.option("transition");if(!t)return!1;var i=this,n=i.pages,a=i.panzoom;e=parseInt((e||0).toString())||0;var r=this.getPageFromIndex(e);if(!a||!n[r]||n.length<2||Math.abs(n[this.page].slides[0].dim-this.viewportDim)>1)return!1;var o=e>this.page?1:-1,s=this.pages[r].pos*(this.isRTL?1:-1);if(this.page===r&&Math.abs(s-a.target[this.axis])<1)return!1;this.clearTransitions();var l=a.isResting;F(this.container,this.cn("inTransition"));var c=this.pages[this.page].slides[0],u=this.pages[r].slides[0];this.inTransition.add(u.index),this.createSlideEl(u);var h=c.el,d=u.el;l||"slide"===t||(t="fadeFast",h=null);var f=this.isRTL?"next":"prev",v=this.isRTL?"prev":"next";return h&&(this.inTransition.add(c.index),c.transition=t,h.addEventListener("animationend",this.onAnimationEnd),h.classList.add("f-".concat(t,"Out"),"to-".concat(o>0?v:f))),d&&(u.transition=t,d.addEventListener("animationend",this.onAnimationEnd),d.classList.add("f-".concat(t,"In"),"from-".concat(o>0?f:v))),a.panTo({x:this.isHorizontal?s:0,y:this.isHorizontal?0:s,friction:0}),this.onChange(r),!0}},{key:"manageSlideVisiblity",value:function(){var e=new Set,t=new Set,i=this.getVisibleSlides(parseFloat(this.option("preload",0)+"")||0),n=!0,a=!1,r=void 0;try{for(var o,s=this.slides[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;i.has(l)?e.add(l):t.add(l)}}catch(e){a=!0,r=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}var c=!0,u=!1,h=void 0;try{for(var d,f=this.inTransition[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var v=d.value;e.add(this.slides[v])}}catch(e){u=!0,h=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw h}}var p=!0,g=!1,m=void 0;try{for(var y,b=e[Symbol.iterator]();!(p=(y=b.next()).done);p=!0){var w=y.value;this.createSlideEl(w),this.lazyLoadSlide(w)}}catch(e){g=!0,m=e}finally{try{p||null==b.return||b.return()}finally{if(g)throw m}}var k=!0,x=!1,S=void 0;try{for(var E,P=t[Symbol.iterator]();!(k=(E=P.next()).done);k=!0){var O=E.value;e.has(O)||this.removeSlideEl(O)}}catch(e){x=!0,S=e}finally{try{k||null==P.return||P.return()}finally{if(x)throw S}}this.markSelectedSlides(),this.repositionSlides()}},{key:"markSelectedSlides",value:function(){if(this.pages[this.page]&&this.pages[this.page].slides){var e="aria-hidden",t=this.cn("isSelected"),i=!0,n=!1,a=void 0;if(t)try{for(var r,o=this.slides[Symbol.iterator]();!(i=(r=o.next()).done);i=!0){var s=r.value;s.el&&(s.el.dataset.index="".concat(s.index),this.pages[this.page].slides.includes(s)?(s.el.classList.contains(t)||(F(s.el,t),this.emit("selectSlide",s)),s.el.removeAttribute(e)):(s.el.classList.contains(t)&&(I(s.el,t),this.emit("unselectSlide",s)),s.el.setAttribute(e,"true")))}}catch(e){n=!0,a=e}finally{try{i||null==o.return||o.return()}finally{if(n)throw a}}}}},{key:"flipInfiniteTrack",value:function(){var e=this.panzoom;if(e&&this.isInfinite){var t="x"===this.option("axis")?"e":"f",i=this.viewportDim,n=this.contentDim,a=e.current[t],r=e.target[t]-a,o=0,s=.5*i,l=n;this.isRTL&&this.isHorizontal?(a<-s&&(o=-1,a+=l),a>l-s&&(o=1,a-=l)):(a>s&&(o=1,a-=l),a<-l+s&&(o=-1,a+=l)),o&&(e.current[t]=a,e.target[t]=a+r)}}},{key:"lazyLoadSlide",value:function(e){var t=this,i=this,n=e&&e.el;if(n){var a=new Set,r="f-fadeIn";n.querySelectorAll("[data-lazy-srcset]").forEach((function(e){e instanceof HTMLImageElement&&a.add(e)}));var o=Array.from(n.querySelectorAll("[data-lazy-src]"));n.dataset.lazySrc&&o.push(n),o.map((function(e){e instanceof HTMLImageElement?a.add(e):j(e)&&(e.style.backgroundImage="url('".concat(e.dataset.lazySrc||"","')"),delete e.dataset.lazySrc)}));var s=function(e,n,a){a&&(a.remove(),a=null),n.complete&&(n.classList.add(r),setTimeout((function(){n.classList.remove(r)}),350),n.style.display=""),t.option("adaptiveHeight")&&e.el&&t.pages[t.page].slides.indexOf(e)>-1&&(i.updateMetrics(),i.setViewportHeight()),t.emit("load",e)},l=!0,c=!1,u=void 0;try{for(var h,d=function(t,i){var n=i.value,a=null;n.src=n.dataset.lazySrcset||n.dataset.lazySrc||"",delete n.dataset.lazySrc,delete n.dataset.lazySrcset,n.style.display="none",n.addEventListener("error",(function(){s(e,n,a)})),n.addEventListener("load",(function(){s(e,n,a)})),setTimeout((function(){n.parentNode&&e.el&&(n.complete?s(e,n,a):(a=y(R),n.parentNode.insertBefore(a,n)))}),300)},f=a[Symbol.iterator]();!(l=(h=f.next()).done);l=!0)d(0,h)}catch(e){c=!0,u=e}finally{try{l||null==f.return||f.return()}finally{if(c)throw u}}}}},{key:"onAnimationEnd",value:function(e){var t,i=e.target,n=i?parseInt(i.dataset.index||"",10)||0:-1,a=this.slides[n],r=e.animationName;if(i&&a&&r){var o=!!this.inTransition.has(n)&&a.transition;o&&r.substring(0,o.length+2)==="f-".concat(o)&&this.inTransition.delete(n),this.inTransition.size||this.clearTransitions(),n===this.page&&(null===(t=this.panzoom)||void 0===t?void 0:t.isResting)&&this.emit("settle")}}},{key:"onDecel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=this,o=r.isRTL,s=r.isHorizontal,l=r.axis,c=r.pages,u=c.length,h=Math.abs(Math.atan2(i,t)/(Math.PI/180)),d=0;if(d=h>45&&h<135?s?0:i:s?t:0,u){var f=this.option("dragFree"),v=this.page,p=o&&s?1:-1,g=e.target[l]*p,m=e.current[l]*p,y=this.getPageFromPosition(g),b=y.pageIndex,w=this.getPageFromPosition(m),k=w.pageIndex;f?this.onChange(b):(Math.abs(d)>5?(c[v].dim<document.documentElement["client"+(this.isHorizontal?"Width":"Height")]-1&&(v=k),v=o&&s?d<0?v-1:v+1:d<0?v+1:v-1):v=0===n&&0===a?v:k,this.slideTo(v,{transition:!1,friction:e.option("decelFriction")}))}}},{key:"onClick",value:function(e){var t,i,n=e.target,a=n&&j(n)?n.dataset:null;a&&(void 0!==a.carouselPage?(i="slideTo",t=a.carouselPage):void 0!==a.carouselNext?i="slideNext":void 0!==a.carouselPrev&&(i="slidePrev")),i?(e.preventDefault(),e.stopPropagation(),n&&!n.hasAttribute("disabled")&&this[i](t)):this.emit("click",e)}},{key:"onSlideTo",value:function(e){var t=e.detail||0;this.slideTo(this.getPageForSlide(t),{friction:0})}},{key:"onChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.page;this.prevPage=i,this.page=e,this.option("adaptiveHeight")&&this.setViewportHeight(),e!==i&&(this.markSelectedSlides(),this.emit("change",e,i,t))}},{key:"onRefresh",value:function(){var e=this.contentDim,t=this.viewportDim;this.updateMetrics(),this.contentDim===e&&this.viewportDim===t||this.slideTo(this.page,{friction:0,transition:!1})}},{key:"onResize",value:function(){this.option("breakpoints")&&this.processOptions()}},{key:"onBeforeTransform",value:function(e){this.lp!==e.current[this.axis]&&(this.flipInfiniteTrack(),this.manageSlideVisiblity()),this.lp=e.current.e}},{key:"onEndAnimation",value:function(){this.inTransition.size||this.emit("settle")}},{key:"reInit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.destroy(),this.state=V.Init,this.userOptions=e||this.userOptions,this.userPlugins=t||this.userPlugins,this.processOptions()}},{key:"slideTo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.friction,n=void 0===i?this.option("friction"):i,a=t.transition,r=void 0===a?this.option("transition"):a;if(this.state!==V.Destroy){var o=this,s=o.axis,l=o.isHorizontal,c=o.isRTL,u=o.pages,h=o.panzoom,d=u.length,f=c&&l?1:-1;if(h&&d&&!this.transitionTo(e,r)){var v=this.getPageFromIndex(e),p=u[v].pos;if(this.isInfinite){var g=this.contentDim,m=h.target[s]*f;if(2===d)p+=g*Math.floor(parseFloat(e+"")/2);else{var y=m;p=[p,p-g,p+g].reduce((function(e,t){return Math.abs(t-y)<Math.abs(e-y)?t:e}))}}p*=f,Math.abs(h.target[s]-p)<.1||(h.panTo({x:l?p:0,y:l?0:p,friction:n}),this.onChange(v))}}}},{key:"slideToClosest",value:function(e){if(this.panzoom){var t=this.getPageFromPosition(this.panzoom.current[this.isHorizontal?"e":"f"]).pageIndex;this.slideTo(t,e)}}},{key:"slideNext",value:function(){this.slideTo(this.page+1)}},{key:"slidePrev",value:function(){this.slideTo(this.page-1)}},{key:"clearTransitions",value:function(){this.inTransition.clear(),I(this.container,this.cn("inTransition"));var e=["to-prev","to-next","from-prev","from-next"],i=!0,n=!1,a=void 0;try{for(var r,o=this.slides[Symbol.iterator]();!(i=(r=o.next()).done);i=!0){var s=r.value,l=s.el;if(l){var c;l.removeEventListener("animationend",this.onAnimationEnd),(c=l.classList).remove.apply(c,t(v)(e));var u=s.transition;u&&l.classList.remove("f-".concat(u,"Out"),"f-".concat(u,"In"))}}}catch(e){n=!0,a=e}finally{try{i||null==o.return||o.return()}finally{if(n)throw a}}this.manageSlideVisiblity()}},{key:"prependSlide",value:function(e){var t,i,n=Array.isArray(e)?e:[e],a=!0,r=!1,o=void 0;try{for(var s,l=n.reverse()[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var c=s.value;this.slides.unshift(K(c))}}catch(e){r=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}for(var u=0;u<this.slides.length;u++)this.slides[u].index=u;var h=(null===(t=this.pages[this.page])||void 0===t?void 0:t.pos)||0;this.page+=n.length,this.updateMetrics();var d=(null===(i=this.pages[this.page])||void 0===i?void 0:i.pos)||0;if(this.panzoom){var f=this.isRTL?h-d:d-h;this.panzoom.target.e-=f,this.panzoom.current.e-=f,this.panzoom.requestTick()}}},{key:"appendSlide",value:function(e){var t=Array.isArray(e)?e:[e],i=!0,n=!1,a=void 0;try{for(var r,o=t[Symbol.iterator]();!(i=(r=o.next()).done);i=!0){var s=r.value,l=K(s);l.index=this.slides.length,this.slides.push(l),this.emit("initSlide",l,this.slides.length)}}catch(e){n=!0,a=e}finally{try{i||null==o.return||o.return()}finally{if(n)throw a}}this.updateMetrics()}},{key:"removeSlide",value:function(e){var t=this.slides.length;e=(e%t+t)%t,this.removeSlideEl(this.slides[e],!0),this.slides.splice(e,1);for(var i=0;i<this.slides.length;i++)this.slides[i].index=i;this.updateMetrics(),this.slideTo(this.page,{friction:0,transition:!1})}},{key:"updateMetrics",value:function(){var e=this,i=e.panzoom,n=e.viewport,a=e.track,r=e.isHorizontal;if(a){var o=r?"width":"height",s=r?"offsetWidth":"offsetHeight";if(n){var l=Math.max(n[s],g(n.getBoundingClientRect()[o],1e3)),c=getComputedStyle(n),u="padding",h=r?"Right":"Bottom";l-=parseFloat(c[u+(r?"Left":"Top")])+parseFloat(c[u+h]),this.viewportDim=l}var d,v=this.pages.length,p=0,m=!0,y=!1,b=void 0;try{for(var w,k=this.slides.entries()[Symbol.iterator]();!(m=(w=k.next()).done);m=!0){var x,S=t(f)(w.value,2),E=S[0],P=S[1],O=0,T=0;!P.el&&d?(O=d.dim,T=d.gap):(O=(x=this.getSlideMetrics(P)).dim,T=x.gap,d=P),O=g(O,1e3),T=g(T,1e3),P.dim=O,P.gap=T,P.pos=p,p+=O,(this.isInfinite||E<this.slides.length-1)&&(p+=T)}}catch(e){y=!0,b=e}finally{try{m||null==k.return||k.return()}finally{if(y)throw b}}var M=this.contentDim;p=g(p,1e3),this.contentDim=p,i&&(i.contentRect[o]=p,i.contentRect["e"===this.axis?"fullWidth":"fullHeight"]=p),this.pages=this.createPages(),this.pages=this.processPages(),this.state===V.Init&&this.setInitialPage(),this.page=Math.max(0,Math.min(this.page,this.pages.length-1)),i&&v===this.pages.length&&Math.abs(p-M)>.5&&(i.target[this.axis]=-1*this.pages[this.page].pos,i.current[this.axis]=-1*this.pages[this.page].pos,i.stop()),this.manageSlideVisiblity(),this.emit("refresh")}}},{key:"getProgress",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];void 0===e&&(e=this.page);var i=this,n=i.panzoom,a=i.pages[e]||0;if(!a||!n)return 0;var r=-1*n.current.e,o=i.contentDim,s=[g((r-a.pos)/(1*a.dim),1e3),g((r+o-a.pos)/(1*a.dim),1e3),g((r-o-a.pos)/(1*a.dim),1e3)].reduce((function(e,t){return Math.abs(t)<Math.abs(e)?t:e}));return t?s:Math.max(-1,Math.min(1,s))}},{key:"setViewportHeight",value:function(){var e=this,t=e.page,i=e.pages,n=e.viewport,a=e.isHorizontal;if(n&&i[t]){var r=0;a&&this.track&&(this.track.style.height="auto",i[t].slides.forEach((function(e){e.el&&(r=Math.max(r,e.el.offsetHeight))}))),n.style.height=r?"".concat(r,"px"):""}}},{key:"getPageForSlide",value:function(e){var t=!0,i=!1,n=void 0,a=!0,r=!1,o=void 0;try{for(var s,l=this.pages[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var c=s.value;try{for(var u,h=c.slides[Symbol.iterator]();!(t=(u=h.next()).done);t=!0){if(u.value.index===e)return c.index}}catch(e){i=!0,n=e}finally{try{t||null==h.return||h.return()}finally{if(i)throw n}}}}catch(e){r=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}return-1}},{key:"getVisibleSlides",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=new Set,n=this,a=n.contentDim,r=n.viewportDim,o=n.pages,s=n.page;a=a+(null===(e=this.slides[this.slides.length-1])||void 0===e?void 0:e.gap)||0;var l=0;l=this.panzoom?-1*this.panzoom.current[this.axis]:o[s]&&o[s].pos||0,this.isInfinite&&(l-=Math.floor(l/a)*a),this.isRTL&&this.isHorizontal&&(l*=-1);var c=l-r*t,u=l+r*(t+1),h=this.isInfinite?[-1,0,1]:[0],d=!0,f=!1,v=void 0,p=!0,g=!1,m=void 0;try{for(var y,b=this.slides[Symbol.iterator]();!(p=(y=b.next()).done);p=!0){var w=y.value;try{for(var k,x=h[Symbol.iterator]();!(d=(k=x.next()).done);d=!0){var S=k.value,E=w.pos+S*a,P=w.pos+w.dim+w.gap+S*a;E<u&&P>c&&i.add(w)}}catch(e){f=!0,v=e}finally{try{d||null==x.return||x.return()}finally{if(f)throw v}}}}catch(e){g=!0,m=e}finally{try{p||null==b.return||b.return()}finally{if(g)throw m}}return i}},{key:"getPageFromPosition",value:function(e){var t,i,n=this.viewportDim,a=this.contentDim,r=this.pages.length,o=this.slides.length,s=this.slides[o-1],l=this.option("center");l&&(e+=.5*n),this.isInfinite||(e=Math.max(this.slides[0].pos,Math.min(e,s.pos)));var c=a+s.gap;i=Math.floor(e/c)||0,e-=i*c;var u=s,h=this.slides.find((function(t){var i=e+(u&&!l?.5*u.dim:0);return u=t,t.pos<=i&&t.pos+t.dim+t.gap>i}));return h||(h=s),{page:(t=this.getPageForSlide(h.index))+i*r,pageIndex:t}}},{key:"destroy",value:function(){var e,i=this;if(![V.Destroy].includes(this.state)){this.state=V.Destroy;var n=this,a=n.container,r=n.viewport,o=n.track,s=n.slides,l=n.panzoom,c=this.option("classes");a.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),a.removeEventListener("slideTo",this.onSlideTo),window.removeEventListener("resize",this.onResize),l&&(l.destroy(),this.panzoom=null),s&&s.forEach((function(e){i.removeSlideEl(e)})),this.detachPlugins(),r&&r.offsetParent&&o&&o.offsetParent&&(e=r).replaceWith.apply(e,t(v)(o.childNodes));var u=!0,h=!1,d=void 0;try{for(var p,g=Object.entries(c)[Symbol.iterator]();!(u=(p=g.next()).done);u=!0){var m=t(f)(p.value,2),y=m[0],b=m[1];"container"!==y&&b&&a.classList.remove(b)}}catch(e){h=!0,d=e}finally{try{u||null==g.return||g.return()}finally{if(h)throw d}}this.track=null,this.viewport=null,this.page=0,this.slides=[];var w=this.events.get("ready");this.events=new Map,w&&this.events.set("ready",w)}}}]),n}(z);Object.defineProperty(oe,"Panzoom",{enumerable:!0,configurable:!0,writable:!0,value:q}),Object.defineProperty(oe,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{viewport:null,track:null,enabled:!0,slides:[],axis:"x",transition:"fade",preload:1,slidesPerPage:"auto",initialPage:0,friction:.12,Panzoom:{decelFriction:.12},center:!0,infinite:!0,fill:!0,dragFree:!1,adaptiveHeight:!1,direction:"ltr",classes:{container:"f-carousel",viewport:"f-carousel__viewport",track:"f-carousel__track",slide:"f-carousel__slide",isLTR:"is-ltr",isRTL:"is-rtl",isHorizontal:"is-horizontal",isVertical:"is-vertical",inTransition:"in-transition",isSelected:"is-selected"},l10n:{NEXT:"Next slide",PREV:"Previous slide",GOTO:"Go to slide #%d"}}}),Object.defineProperty(oe,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:re})})),r.register("9RsV7",(function(e,i){var n=r("8MBJY"),a=r("a2hTj");e.exports=function(){"use strict";function e(){return Math.random().toString(36).substring(2,10)}function i(e,t){function i(e,i){return i&&e&&e.classList&&e.classList.contains(i)||i&&e&&e.dataset&&e.dataset.id&&e.dataset.id===t?e:null}function n(e,t){return e&&e!==document?i(e,t)?e:n(e.parentNode,t):null}return i(e,t)||n(e,t)}function r(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];var s=self,l=function(){t=null,n||e.apply(s,r)},c=n&&!t;clearTimeout(t),t=setTimeout(l,i),c&&e.apply(s,r)}}function o(e,t){return JSON.stringify(e)===JSON.stringify(t)}function s(e){var t=e.replace(/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,(function(e){return"-"+e.toLowerCase()}));return e[0]===e[0].toUpperCase()?t.substring(1):t}var l=function i(a){t(n)(this,i),this.id="",this.style="",this.class=[],this.isMultiple=!1,this.isOpen=!1,this.isFullOpen=!1,this.intervalMove=null,a||(a={}),this.id="ss-"+e(),this.style=a.style||"",this.class=a.class||[],this.disabled=void 0!==a.disabled&&a.disabled,this.alwaysOpen=void 0!==a.alwaysOpen&&a.alwaysOpen,this.showSearch=void 0===a.showSearch||a.showSearch,this.searchPlaceholder=a.searchPlaceholder||"Search",this.searchText=a.searchText||"No Results",this.searchingText=a.searchingText||"Searching...",this.searchHighlight=void 0!==a.searchHighlight&&a.searchHighlight,this.closeOnSelect=void 0===a.closeOnSelect||a.closeOnSelect,this.contentLocation=a.contentLocation||document.body,this.contentPosition=a.contentPosition||"absolute",this.openPosition=a.openPosition||"auto",this.placeholderText=void 0!==a.placeholderText?a.placeholderText:"Select Value",this.allowDeselect=void 0!==a.allowDeselect&&a.allowDeselect,this.hideSelected=void 0!==a.hideSelected&&a.hideSelected,this.showOptionTooltips=void 0!==a.showOptionTooltips&&a.showOptionTooltips,this.minSelected=a.minSelected||0,this.maxSelected=a.maxSelected||1e3,this.timeoutDelay=a.timeoutDelay||200,this.maxValuesShown=a.maxValuesShown||20,this.maxValuesMessage=a.maxValuesMessage||"{number} selected"},c=function i(a){t(n)(this,i),this.id=a.id&&""!==a.id?a.id:e(),this.label=a.label||"",this.selectAll=void 0!==a.selectAll&&a.selectAll,this.selectAllText=a.selectAllText||"Select All",this.closable=a.closable||"off",this.options=[];var r=!0,o=!1,s=void 0;if(a.options)try{for(var l,c=a.options[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var h=l.value;this.options.push(new u(h))}}catch(e){o=!0,s=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw s}}},u=function i(a){t(n)(this,i),this.id=a.id&&""!==a.id?a.id:e(),this.value=void 0===a.value?a.text:a.value,this.text=a.text||"",this.html=a.html||"",this.selected=void 0!==a.selected&&a.selected,this.display=void 0===a.display||a.display,this.disabled=void 0!==a.disabled&&a.disabled,this.mandatory=void 0!==a.mandatory&&a.mandatory,this.placeholder=void 0!==a.placeholder&&a.placeholder,this.class=a.class||"",this.style=a.style||"",this.data=a.data||{}},h=function(){function e(i,a){t(n)(this,e),this.selectType="single",this.data=[],this.selectType=i,this.setData(a)}return t(a)(e,[{key:"validateDataArray",value:function(e){if(!Array.isArray(e))return new Error("Data must be an array");var t=!0,i=!1,n=void 0;try{for(var a,r=e[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var o=a.value;if(!(o instanceof c||"label"in o))return o instanceof u||"text"in o?this.validateOption(o):new Error("Data object must be a valid optgroup or option");if(!("label"in o))return new Error("Optgroup must have a label");if("options"in o&&o.options){var s=!0,l=!1,h=void 0;try{for(var d,f=o.options[Symbol.iterator]();!(s=(d=f.next()).done);s=!0){var v=d.value;return this.validateOption(v)}}catch(e){l=!0,h=e}finally{try{s||null==f.return||f.return()}finally{if(l)throw h}}}}}catch(e){i=!0,n=e}finally{try{t||null==r.return||r.return()}finally{if(i)throw n}}return null}},{key:"validateOption",value:function(e){return"text"in e?null:new Error("Option must have a text")}},{key:"partialToFullData",value:function(e){var t=[];return e.forEach((function(e){if(e instanceof c||"label"in e){var i=[];"options"in e&&e.options&&e.options.forEach((function(e){i.push(new u(e))})),i.length>0&&t.push(new c(e))}(e instanceof u||"text"in e)&&t.push(new u(e))})),t}},{key:"setData",value:function(e){this.data=this.partialToFullData(e),"single"===this.selectType&&this.setSelectedBy("value",this.getSelected())}},{key:"getData",value:function(){return this.filter(null,!0)}},{key:"getDataOptions",value:function(){return this.filter(null,!1)}},{key:"addOption",value:function(e){this.setData(this.getData().concat(new u(e)))}},{key:"setSelectedBy",value:function(e,t){var i=null,n=!1,a=!0,r=!1,o=void 0;try{for(var s,l=this.data[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var h=s.value,d=!0,f=!1,v=void 0;if(h instanceof c)try{for(var p,g=h.options[Symbol.iterator]();!(d=(p=g.next()).done);d=!0){var m=p.value;i||(i=m),m.selected=!n&&t.includes(m[e]),m.selected&&"single"===this.selectType&&(n=!0)}}catch(e){f=!0,v=e}finally{try{d||null==g.return||g.return()}finally{if(f)throw v}}h instanceof u&&(i||(i=h),h.selected=!n&&t.includes(h[e]),h.selected&&"single"===this.selectType&&(n=!0))}}catch(e){r=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}"single"===this.selectType&&i&&!n&&(i.selected=!0)}},{key:"getSelected",value:function(){var e=this.getSelectedOptions(),t=[];return e.forEach((function(e){t.push(e.value)})),t}},{key:"getSelectedOptions",value:function(){return this.filter((function(e){return e.selected}),!1)}},{key:"getSelectedIDs",value:function(){var e=this.getSelectedOptions(),t=[];return e.forEach((function(e){t.push(e.id)})),t}},{key:"getOptgroupByID",value:function(e){var t=!0,i=!1,n=void 0;try{for(var a,r=this.data[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var o=a.value;if(o instanceof c&&o.id===e)return o}}catch(e){i=!0,n=e}finally{try{t||null==r.return||r.return()}finally{if(i)throw n}}return null}},{key:"getOptionByID",value:function(e){var t=this.filter((function(t){return t.id===e}),!1);return t.length?t[0]:null}},{key:"search",value:function(e,t){return""===(e=e.trim())?this.getData():this.filter((function(i){return t(i,e)}),!0)}},{key:"filter",value:function(e,t){var i=[];return this.data.forEach((function(n){if(n instanceof c){var a=[];if(n.options.forEach((function(n){e&&!e(n)||(t?a.push(new u(n)):i.push(new u(n)))})),a.length>0){var r=new c(n);r.options=a,i.push(r)}}n instanceof u&&(e&&!e(n)||i.push(new u(n)))})),i}},{key:"getSelectType",value:function(){return this.selectType}}]),e}(),d=function(){function e(i,a,r){t(n)(this,e),this.classes={main:"ss-main",placeholder:"ss-placeholder",values:"ss-values",single:"ss-single",max:"ss-max",value:"ss-value",valueText:"ss-value-text",valueDelete:"ss-value-delete",valueOut:"ss-value-out",deselect:"ss-deselect",deselectPath:"M10,10 L90,90 M10,90 L90,10",arrow:"ss-arrow",arrowClose:"M10,30 L50,70 L90,30",arrowOpen:"M10,70 L50,30 L90,70",content:"ss-content",openAbove:"ss-open-above",openBelow:"ss-open-below",search:"ss-search",searchHighlighter:"ss-search-highlight",searching:"ss-searching",addable:"ss-addable",addablePath:"M50,10 L50,90 M10,50 L90,50",list:"ss-list",optgroup:"ss-optgroup",optgroupLabel:"ss-optgroup-label",optgroupLabelText:"ss-optgroup-label-text",optgroupActions:"ss-optgroup-actions",optgroupSelectAll:"ss-selectall",optgroupSelectAllBox:"M60,10 L10,10 L10,90 L90,90 L90,50",optgroupSelectAllCheck:"M30,45 L50,70 L90,10",optgroupClosable:"ss-closable",option:"ss-option",optionDelete:"M10,10 L90,90 M10,90 L90,10",highlighted:"ss-highlighted",open:"ss-open",close:"ss-close",selected:"ss-selected",error:"ss-error",disabled:"ss-disabled",hide:"ss-hide"},this.store=a,this.settings=i,this.callbacks=r,this.main=this.mainDiv(),this.content=this.contentDiv(),this.updateClassStyles(),this.updateAriaAttributes(),this.settings.contentLocation.appendChild(this.content.main)}return t(a)(e,[{key:"enable",value:function(){this.main.main.classList.remove(this.classes.disabled),this.content.search.input.disabled=!1}},{key:"disable",value:function(){this.main.main.classList.add(this.classes.disabled),this.content.search.input.disabled=!0}},{key:"open",value:function(){this.main.arrow.path.setAttribute("d",this.classes.arrowOpen),this.main.main.classList.add("up"===this.settings.openPosition?this.classes.openAbove:this.classes.openBelow),this.main.main.setAttribute("aria-expanded","true"),this.moveContent();var e=this.store.getSelectedOptions();if(e.length){var t=e[e.length-1].id,i=this.content.list.querySelector('[data-id="'+t+'"]');i&&this.ensureElementInView(this.content.list,i)}}},{key:"close",value:function(){this.main.main.classList.remove(this.classes.openAbove),this.main.main.classList.remove(this.classes.openBelow),this.main.main.setAttribute("aria-expanded","false"),this.content.main.classList.remove(this.classes.openAbove),this.content.main.classList.remove(this.classes.openBelow),this.main.arrow.path.setAttribute("d",this.classes.arrowClose)}},{key:"updateClassStyles",value:function(){if(this.main.main.className="",this.main.main.removeAttribute("style"),this.content.main.className="",this.content.main.removeAttribute("style"),this.main.main.classList.add(this.classes.main),this.content.main.classList.add(this.classes.content),""!==this.settings.style&&(this.main.main.style.cssText=this.settings.style,this.content.main.style.cssText=this.settings.style),this.settings.class.length){var e=!0,t=!1,i=void 0;try{for(var n,a=this.settings.class[Symbol.iterator]();!(e=(n=a.next()).done);e=!0){var r=n.value;""!==r.trim()&&(this.main.main.classList.add(r.trim()),this.content.main.classList.add(r.trim()))}}catch(e){t=!0,i=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw i}}}"relative"===this.settings.contentPosition&&this.content.main.classList.add("ss-"+this.settings.contentPosition)}},{key:"updateAriaAttributes",value:function(){this.main.main.role="combobox",this.main.main.setAttribute("aria-haspopup","listbox"),this.main.main.setAttribute("aria-controls",this.content.main.id),this.main.main.setAttribute("aria-expanded","false"),this.content.main.setAttribute("role","listbox")}},{key:"mainDiv",value:function(){var e,t=this,i=document.createElement("div");i.dataset.id=this.settings.id,i.id=this.settings.id,i.tabIndex=0,i.onkeydown=function(e){switch(e.key){case"ArrowUp":case"ArrowDown":return t.callbacks.open(),"ArrowDown"===e.key?t.highlight("down"):t.highlight("up"),!1;case"Tab":return t.callbacks.close(),!0;case"Enter":case" ":t.callbacks.open();var i=t.content.list.querySelector("."+t.classes.highlighted);return i&&i.click(),!1;case"Escape":return t.callbacks.close(),!1}},i.onclick=function(e){t.settings.disabled||(t.settings.isOpen?t.callbacks.close():t.callbacks.open())};var n=document.createElement("div");n.classList.add(this.classes.values),i.appendChild(n);var a=document.createElement("div");a.classList.add(this.classes.deselect);var r=null===(e=this.store)||void 0===e?void 0:e.getSelectedOptions();!this.settings.allowDeselect||this.settings.isMultiple&&r&&r.length<=0?a.classList.add(this.classes.hide):a.classList.remove(this.classes.hide),a.onclick=function(e){if(e.stopPropagation(),!t.settings.disabled){var i=!0,n=t.store.getSelectedOptions(),a=[];t.callbacks.beforeChange&&(i=!0===t.callbacks.beforeChange(a,n)),i&&(t.settings.isMultiple?(t.callbacks.setSelected([],!1),t.updateDeselectAll()):t.callbacks.setSelected([""],!1),t.settings.closeOnSelect&&t.callbacks.close(),t.callbacks.afterChange&&t.callbacks.afterChange(a))}};var o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("viewBox","0 0 100 100");var s=document.createElementNS("http://www.w3.org/2000/svg","path");s.setAttribute("d",this.classes.deselectPath),o.appendChild(s),a.appendChild(o),i.appendChild(a);var l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.classList.add(this.classes.arrow),l.setAttribute("viewBox","0 0 100 100");var c=document.createElementNS("http://www.w3.org/2000/svg","path");return c.setAttribute("d",this.classes.arrowClose),this.settings.alwaysOpen&&l.classList.add(this.classes.hide),l.appendChild(c),i.appendChild(l),{main:i,values:n,deselect:{main:a,svg:o,path:s},arrow:{main:l,path:c}}}},{key:"mainFocus",value:function(e){"click"!==e&&this.main.main.focus({preventScroll:!0})}},{key:"placeholder",value:function(){var e=this.store.filter((function(e){return e.placeholder}),!1),t=this.settings.placeholderText;e.length&&(""!==e[0].html?t=e[0].html:""!==e[0].text&&(t=e[0].text));var i=document.createElement("div");return i.classList.add(this.classes.placeholder),i.innerHTML=t,i}},{key:"renderValues",value:function(){this.settings.isMultiple?this.renderMultipleValues():this.renderSingleValue()}},{key:"renderSingleValue",value:function(){var e=this.store.filter((function(e){return e.selected&&!e.placeholder}),!1),t=e.length>0?e[0]:null;if(t){var i=document.createElement("div");i.classList.add(this.classes.single),t.html?i.innerHTML=t.html:i.innerText=t.text,this.main.values.innerHTML=i.outerHTML}else this.main.values.innerHTML=this.placeholder().outerHTML;this.settings.allowDeselect&&e.length?this.main.deselect.main.classList.remove(this.classes.hide):this.main.deselect.main.classList.add(this.classes.hide)}},{key:"renderMultipleValues",value:function(){var e=function(e){var n=t[e],a=n.getAttribute("data-id");a&&(i.filter((function(e){return e.id===a}),!1).length||o.push(n))},t=this.main.values.childNodes,i=this.store.filter((function(e){return e.selected&&e.display}),!1);if(0!==i.length){var n=this.main.values.querySelector("."+this.classes.placeholder);if(n&&n.remove(),i.length>this.settings.maxValuesShown){var a=document.createElement("div");return a.classList.add(this.classes.max),a.textContent=this.settings.maxValuesMessage.replace("{number}",i.length.toString()),void(this.main.values.innerHTML=a.outerHTML)}var r=this.main.values.querySelector("."+this.classes.max);r&&r.remove();for(var o=[],s=0;s<t.length;s++)e(s);var l=!0,c=!1,u=void 0;try{for(var h,d=this,f=function(e,t){var i=t.value,n=d;i.classList.add(d.classes.valueOut),setTimeout((function(){n.main.values.hasChildNodes()&&n.main.values.contains(i)&&n.main.values.removeChild(i)}),100)},v=o[Symbol.iterator]();!(l=(h=v.next()).done);l=!0)f(v,h)}catch(e){c=!0,u=e}finally{try{l||null==v.return||v.return()}finally{if(c)throw u}}t=this.main.values.childNodes;for(var p=0;p<i.length;p++){for(var g=!0,m=0;m<t.length;m++)i[p].id===String(t[m].dataset.id)&&(g=!1);g&&(0===t.length?this.main.values.appendChild(this.multipleValue(i[p])):0===p?this.main.values.insertBefore(this.multipleValue(i[p]),t[p]):t[p-1].insertAdjacentElement("afterend",this.multipleValue(i[p])))}this.updateDeselectAll()}else this.main.values.innerHTML=this.placeholder().outerHTML}},{key:"multipleValue",value:function(e){var t=document.createElement("div");t.classList.add(this.classes.value),t.dataset.id=e.id;var i=document.createElement("div");if(i.classList.add(this.classes.valueText),i.innerText=e.text,t.appendChild(i),!e.mandatory){var n=this,a=document.createElement("div");a.classList.add(this.classes.valueDelete),a.onclick=function(t){if(t.preventDefault(),t.stopPropagation(),!n.settings.disabled){var i=!0,a=n.store.getSelectedOptions(),r=a.filter((function(t){return t.selected&&t.id!==e.id}),!0);if(!(n.settings.minSelected&&r.length<n.settings.minSelected)&&(n.callbacks.beforeChange&&(i=!0===n.callbacks.beforeChange(r,a)),i)){var o=[],s=!0,l=!1,h=void 0;try{for(var d,f=r[Symbol.iterator]();!(s=(d=f.next()).done);s=!0){var v=d.value,p=!0,g=!1,m=void 0;if(v instanceof c)try{for(var y,b=v.options[Symbol.iterator]();!(p=(y=b.next()).done);p=!0){var w=y.value;o.push(w.value)}}catch(e){g=!0,m=e}finally{try{p||null==b.return||b.return()}finally{if(g)throw m}}v instanceof u&&o.push(v.value)}}catch(e){l=!0,h=e}finally{try{s||null==f.return||f.return()}finally{if(l)throw h}}n.callbacks.setSelected(o,!1),n.settings.closeOnSelect&&n.callbacks.close(),n.callbacks.afterChange&&n.callbacks.afterChange(r),n.updateDeselectAll()}}};var r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("viewBox","0 0 100 100");var o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("d",this.classes.optionDelete),r.appendChild(o),a.appendChild(r),t.appendChild(a)}return t}},{key:"contentDiv",value:function(){var e=document.createElement("div");e.dataset.id=this.settings.id,e.id=this.settings.id;var t=this.searchDiv();e.appendChild(t.main);var i=this.listDiv();return e.appendChild(i),{main:e,search:t,list:i}}},{key:"moveContent",value:function(){"relative"!==this.settings.contentPosition&&"down"!==this.settings.openPosition?"up"!==this.settings.openPosition?"up"===this.putContent()?this.moveContentAbove():this.moveContentBelow():this.moveContentAbove():this.moveContentBelow()}},{key:"searchDiv",value:function(){var e=this,t=document.createElement("div"),i=document.createElement("input"),n=document.createElement("div");t.classList.add(this.classes.search);var a={main:t,input:i};if(this.settings.showSearch||(t.classList.add(this.classes.hide),i.readOnly=!0),i.type="search",i.placeholder=this.settings.searchPlaceholder,i.tabIndex=-1,i.setAttribute("aria-label",this.settings.searchPlaceholder),i.setAttribute("autocapitalize","off"),i.setAttribute("autocomplete","off"),i.setAttribute("autocorrect","off"),i.oninput=r((function(t){e.callbacks.search(t.target.value)}),100),i.onkeydown=function(t){switch(t.key){case"ArrowUp":case"ArrowDown":return"ArrowDown"===t.key?e.highlight("down"):e.highlight("up"),!1;case"Tab":return e.callbacks.close(),!0;case"Escape":return e.callbacks.close(),!1;case"Enter":case" ":if(e.callbacks.addable&&t.ctrlKey)return n.click(),!1;var i=e.content.list.querySelector("."+e.classes.highlighted);return!i||(i.click(),!1)}},t.appendChild(i),this.callbacks.addable){var o=this;n.classList.add(this.classes.addable);var s=document.createElementNS("http://www.w3.org/2000/svg","svg");s.setAttribute("viewBox","0 0 100 100");var l=document.createElementNS("http://www.w3.org/2000/svg","path");l.setAttribute("d",this.classes.addablePath),s.appendChild(l),n.appendChild(s),n.onclick=function(e){var t=o;if(e.preventDefault(),e.stopPropagation(),o.callbacks.addable){var i=o.content.search.input.value.trim();if(""!==i){var n=function(e){var i=t,n=new u(e);if(t.callbacks.addOption(n),t.settings.isMultiple){var a=t.store.getSelected();a.push(n.value),t.callbacks.setSelected(a,!0)}else t.callbacks.setSelected([n.value],!0);t.callbacks.search(""),t.settings.closeOnSelect&&setTimeout((function(){i.callbacks.close()}),100)},a=o.callbacks.addable(i);!1!==a&&null!=a&&(a instanceof Promise?a.then((function(e){n("string"==typeof e?{text:e,value:e}:e)})):n("string"==typeof a?{text:a,value:a}:a))}else o.content.search.input.focus()}},t.appendChild(n),a.addable={main:n,svg:s,path:l}}return a}},{key:"searchFocus",value:function(){this.content.search.input.focus()}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n="."+this.classes.option;return e&&(n+=":not(."+this.classes.placeholder+")"),t&&(n+=":not(."+this.classes.disabled+")"),i&&(n+=":not(."+this.classes.hide+")"),Array.from(this.content.list.querySelectorAll(n))}},{key:"highlight",value:function(e){var t=this.getOptions(!0,!0,!0);if(0!==t.length)if(1!==t.length||t[0].classList.contains(this.classes.highlighted)){for(var i=0;i<t.length;i++)if(t[i].classList.contains(this.classes.highlighted)){var n=t[i];n.classList.remove(this.classes.highlighted);var a=n.parentElement;if(a&&a.classList.contains(this.classes.open)){var r=a.querySelector("."+this.classes.optgroupLabel);r&&r.click()}var o=t["down"===e?i+1<t.length?i+1:0:i-1>=0?i-1:t.length-1];o.classList.add(this.classes.highlighted),this.ensureElementInView(this.content.list,o);var s=o.parentElement;if(s&&s.classList.contains(this.classes.close)){var l=s.querySelector("."+this.classes.optgroupLabel);l&&l.click()}return}t["down"===e?0:t.length-1].classList.add(this.classes.highlighted),this.ensureElementInView(this.content.list,t["down"===e?0:t.length-1])}else t[0].classList.add(this.classes.highlighted)}},{key:"listDiv",value:function(){var e=document.createElement("div");return e.classList.add(this.classes.list),e}},{key:"renderError",value:function(e){this.content.list.innerHTML="";var t=document.createElement("div");t.classList.add(this.classes.error),t.textContent=e,this.content.list.appendChild(t)}},{key:"renderSearching",value:function(){this.content.list.innerHTML="";var e=document.createElement("div");e.classList.add(this.classes.searching),e.textContent=this.settings.searchingText,this.content.list.appendChild(e)}},{key:"renderOptions",value:function(e){if(this.content.list.innerHTML="",0===e.length){var t=document.createElement("div");return t.classList.add(this.classes.search),t.innerHTML=this.settings.searchText,void this.content.list.appendChild(t)}var i=!0,n=!1,a=void 0;try{for(var r,o=this,s=function(e,t){var i=t.value;if(i instanceof c){var n=document.createElement("div");n.classList.add(o.classes.optgroup);var a=document.createElement("div");a.classList.add(o.classes.optgroupLabel),n.appendChild(a);var r=document.createElement("div");r.classList.add(o.classes.optgroupLabelText),r.textContent=i.label,a.appendChild(r);var s=document.createElement("div");if(s.classList.add(o.classes.optgroupActions),a.appendChild(s),o.settings.isMultiple&&i.selectAll){var l=o,h=document.createElement("div");h.classList.add(o.classes.optgroupSelectAll);var d=!0,f=!0,v=!1,p=void 0;try{for(var g,m=i.options[Symbol.iterator]();!(f=(g=m.next()).done);f=!0)if(!g.value.selected){d=!1;break}}catch(e){v=!0,p=e}finally{try{f||null==m.return||m.return()}finally{if(v)throw p}}d&&h.classList.add(o.classes.selected);var y=document.createElement("span");y.textContent=i.selectAllText,h.appendChild(y);var b=document.createElementNS("http://www.w3.org/2000/svg","svg");b.setAttribute("viewBox","0 0 100 100"),h.appendChild(b);var w=document.createElementNS("http://www.w3.org/2000/svg","path");w.setAttribute("d",o.classes.optgroupSelectAllBox),b.appendChild(w);var k=document.createElementNS("http://www.w3.org/2000/svg","path");k.setAttribute("d",o.classes.optgroupSelectAllCheck),b.appendChild(k),h.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation();var t=l.store.getSelected();if(d){var n=t.filter((function(e){var t=!0,n=!1,a=void 0;try{for(var r,o=i.options[Symbol.iterator]();!(t=(r=o.next()).done);t=!0)if(e===r.value.value)return!1}catch(e){n=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw a}}return!0}));l.callbacks.setSelected(n,!0)}else{var a=t.concat(i.options.map((function(e){return e.value}))),r=!0,o=!1,s=void 0;try{for(var c,u=i.options[Symbol.iterator]();!(r=(c=u.next()).done);r=!0){var h=c.value;l.store.getOptionByID(h.id)||l.callbacks.addOption(h)}}catch(e){o=!0,s=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw s}}l.callbacks.setSelected(a,!0)}})),s.appendChild(h)}if("off"!==i.closable){var x=o,S=document.createElement("div");S.classList.add(o.classes.optgroupClosable);var E=document.createElementNS("http://www.w3.org/2000/svg","svg");E.setAttribute("viewBox","0 0 100 100"),E.classList.add(o.classes.arrow),S.appendChild(E);var P=document.createElementNS("http://www.w3.org/2000/svg","path");E.appendChild(P),i.options.some((function(e){return e.selected}))||""!==o.content.search.input.value.trim()?(S.classList.add(o.classes.open),P.setAttribute("d",o.classes.arrowOpen)):"open"===i.closable?(n.classList.add(o.classes.open),P.setAttribute("d",o.classes.arrowOpen)):"close"===i.closable&&(n.classList.add(o.classes.close),P.setAttribute("d",o.classes.arrowClose)),a.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),n.classList.contains(x.classes.close)?(n.classList.remove(x.classes.close),n.classList.add(x.classes.open),P.setAttribute("d",x.classes.arrowOpen)):(n.classList.remove(x.classes.open),n.classList.add(x.classes.close),P.setAttribute("d",x.classes.arrowClose))})),s.appendChild(S)}n.appendChild(a);var O=!0,T=!1,M=void 0;try{for(var C,L=i.options[Symbol.iterator]();!(O=(C=L.next()).done);O=!0){var A=C.value;n.appendChild(o.option(A))}}catch(e){T=!0,M=e}finally{try{O||null==L.return||L.return()}finally{if(T)throw M}}o.content.list.appendChild(n)}i instanceof u&&o.content.list.appendChild(o.option(i))},l=e[Symbol.iterator]();!(i=(r=l.next()).done);i=!0)s(l,r)}catch(e){n=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(n)throw a}}}},{key:"option",value:function(e){var t=this;if(e.placeholder){var i=document.createElement("div");return i.classList.add(this.classes.option),i.classList.add(this.classes.hide),i}var n=document.createElement("div");return n.dataset.id=e.id,n.id=e.id,n.classList.add(this.classes.option),n.setAttribute("role","option"),e.class&&e.class.split(" ").forEach((function(e){n.classList.add(e)})),e.style&&(n.style.cssText=e.style),this.settings.searchHighlight&&""!==this.content.search.input.value.trim()?n.innerHTML=this.highlightText(""!==e.html?e.html:e.text,this.content.search.input.value,this.classes.searchHighlighter):""!==e.html?n.innerHTML=e.html:n.textContent=e.text,this.settings.showOptionTooltips&&n.textContent&&n.setAttribute("title",n.textContent),e.display||n.classList.add(this.classes.hide),e.disabled&&n.classList.add(this.classes.disabled),e.selected&&this.settings.hideSelected&&n.classList.add(this.classes.hide),e.selected?(n.classList.add(this.classes.selected),n.setAttribute("aria-selected","true"),this.main.main.setAttribute("aria-activedescendant",n.id)):(n.classList.remove(this.classes.selected),n.setAttribute("aria-selected","false")),n.addEventListener("click",(function(i){i.preventDefault(),i.stopPropagation();var n=t.store.getSelected(),a=i.currentTarget,r=String(a.dataset.id);if(!(e.disabled||e.selected&&!t.settings.allowDeselect||t.settings.isMultiple&&t.settings.maxSelected<=n.length&&!e.selected||t.settings.isMultiple&&t.settings.minSelected>=n.length&&e.selected)){var o=!1,s=t.store.getSelectedOptions(),l=[];t.settings.isMultiple&&(l=e.selected?s.filter((function(e){return e.id!==r})):s.concat(e)),t.settings.isMultiple||(l=e.selected?[]:[e]),t.callbacks.beforeChange||(o=!0),t.callbacks.beforeChange&&(o=!1!==t.callbacks.beforeChange(l,s)),o&&(t.store.getOptionByID(r)||t.callbacks.addOption(e),t.callbacks.setSelected(l.map((function(e){return e.value})),!1),t.settings.closeOnSelect&&t.callbacks.close(),t.callbacks.afterChange&&t.callbacks.afterChange(l))}})),n}},{key:"destroy",value:function(){this.main.main.remove(),this.content.main.remove()}},{key:"highlightText",value:function(e,t,i){var n=e,a=new RegExp("("+t.trim()+")(?![^<]*>[^<>]*</)","i");if(!e.match(a))return e;var r=e.match(a).index,o=r+e.match(a)[0].toString().length,s=e.substring(r,o);return n=n.replace(a,'<mark class="'.concat(i,'">').concat(s,"</mark>"))}},{key:"moveContentAbove",value:function(){var e=this.main.main.offsetHeight,t=this.content.main.offsetHeight;this.main.main.classList.remove(this.classes.openBelow),this.main.main.classList.add(this.classes.openAbove),this.content.main.classList.remove(this.classes.openBelow),this.content.main.classList.add(this.classes.openAbove);var i=this.main.main.getBoundingClientRect();this.content.main.style.margin="-"+(e+t-1)+"px 0px 0px 0px",this.content.main.style.top=i.top+i.height+window.scrollY+"px",this.content.main.style.left=i.left+window.scrollX+"px",this.content.main.style.width=i.width+"px"}},{key:"moveContentBelow",value:function(){this.main.main.classList.remove(this.classes.openAbove),this.main.main.classList.add(this.classes.openBelow),this.content.main.classList.remove(this.classes.openAbove),this.content.main.classList.add(this.classes.openBelow);var e=this.main.main.getBoundingClientRect();this.content.main.style.margin="-1px 0px 0px 0px","relative"!==this.settings.contentPosition&&(this.content.main.style.top=e.top+e.height+window.scrollY+"px",this.content.main.style.left=e.left+window.scrollX+"px",this.content.main.style.width=e.width+"px")}},{key:"ensureElementInView",value:function(e,t){var i=e.scrollTop+e.offsetTop,n=i+e.clientHeight,a=t.offsetTop,r=a+t.clientHeight;a<i?e.scrollTop-=i-a:r>n&&(e.scrollTop+=r-n)}},{key:"putContent",value:function(){var e=this.main.main.offsetHeight,t=this.main.main.getBoundingClientRect(),i=this.content.main.offsetHeight;return window.innerHeight-(t.top+e)<=i&&t.top>i?"up":"down"}},{key:"updateDeselectAll",value:function(){if(this.store&&this.settings){var e=this.store.getSelectedOptions(),t=e&&e.length>0,i=this.settings.isMultiple,n=this.settings.allowDeselect,a=this.main.deselect.main,r=this.classes.hide;!n||i&&!t?a.classList.add(r):a.classList.remove(r)}}}]),e}(),f=function(){function e(i){t(n)(this,e),this.listen=!1,this.observer=null,this.select=i,this.select.addEventListener("change",this.valueChange.bind(this),{passive:!0}),this.observer=new MutationObserver(this.observeCall.bind(this)),this.changeListen(!0)}return t(a)(e,[{key:"enable",value:function(){this.select.disabled=!1}},{key:"disable",value:function(){this.select.disabled=!0}},{key:"hideUI",value:function(){this.select.tabIndex=-1,this.select.style.display="none",this.select.setAttribute("aria-hidden","true")}},{key:"showUI",value:function(){this.select.removeAttribute("tabindex"),this.select.style.display="",this.select.removeAttribute("aria-hidden")}},{key:"changeListen",value:function(e){this.listen=e,e&&this.observer&&this.observer.observe(this.select,{subtree:!0,childList:!0,attributes:!0}),e||this.observer&&this.observer.disconnect()}},{key:"valueChange",value:function(e){return this.listen&&this.onValueChange&&this.onValueChange(this.getSelectedValues()),!0}},{key:"observeCall",value:function(e){if(this.listen){var t=!1,i=!1,n=!1,a=!0,r=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var c=s.value;c.target===this.select&&("disabled"===c.attributeName&&(i=!0),"class"===c.attributeName&&(t=!0)),"OPTGROUP"!==c.target.nodeName&&"OPTION"!==c.target.nodeName||(n=!0)}}catch(e){r=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}t&&this.onClassChange&&this.onClassChange(this.select.className.split(" ")),i&&this.onDisabledChange&&(this.changeListen(!1),this.onDisabledChange(this.select.disabled),this.changeListen(!0)),n&&this.onOptionsChange&&(this.changeListen(!1),this.onOptionsChange(this.getData()),this.changeListen(!0))}}},{key:"getData",value:function(){var e=[],t=this.select.childNodes,i=!0,n=!1,a=void 0;try{for(var r,o=t[Symbol.iterator]();!(i=(r=o.next()).done);i=!0){var s=r.value;"OPTGROUP"===s.nodeName&&e.push(this.getDataFromOptgroup(s)),"OPTION"===s.nodeName&&e.push(this.getDataFromOption(s))}}catch(e){n=!0,a=e}finally{try{i||null==o.return||o.return()}finally{if(n)throw a}}return e}},{key:"getDataFromOptgroup",value:function(e){var t={id:e.id,label:e.label,selectAll:!!e.dataset&&"true"===e.dataset.selectall,selectAllText:e.dataset?e.dataset.selectalltext:"Select all",closable:e.dataset?e.dataset.closable:"off",options:[]},i=e.childNodes,n=!0,a=!1,r=void 0;try{for(var o,s=i[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;"OPTION"===l.nodeName&&t.options.push(this.getDataFromOption(l))}}catch(e){a=!0,r=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}return t}},{key:"getDataFromOption",value:function(e){return{id:e.id,value:e.value,text:e.text,html:e.dataset&&e.dataset.html?e.dataset.html:"",selected:e.selected,display:"none"!==e.style.display,disabled:e.disabled,mandatory:!!e.dataset&&"true"===e.dataset.mandatory,placeholder:"true"===e.dataset.placeholder,class:e.className,style:e.style.cssText,data:e.dataset}}},{key:"getSelectedValues",value:function(){var e=[],t=this.select.childNodes,i=!0,n=!1,a=void 0;try{for(var r,o=t[Symbol.iterator]();!(i=(r=o.next()).done);i=!0){var s=r.value;if("OPTGROUP"===s.nodeName){var l=s.childNodes,c=!0,u=!1,h=void 0;try{for(var d,f=l[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var v=d.value;if("OPTION"===v.nodeName){var p=v;p.selected&&e.push(p.value)}}}catch(e){u=!0,h=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw h}}}if("OPTION"===s.nodeName){var g=s;g.selected&&e.push(g.value)}}}catch(e){n=!0,a=e}finally{try{i||null==o.return||o.return()}finally{if(n)throw a}}return e}},{key:"setSelected",value:function(e){this.changeListen(!1);var t=this.select.childNodes,i=!0,n=!1,a=void 0;try{for(var r,o=t[Symbol.iterator]();!(i=(r=o.next()).done);i=!0){var s=r.value;if("OPTGROUP"===s.nodeName){var l=s.childNodes,c=!0,u=!1,h=void 0;try{for(var d,f=l[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var v=d.value;if("OPTION"===v.nodeName){var p=v;p.selected=e.includes(p.value)}}}catch(e){u=!0,h=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw h}}}if("OPTION"===s.nodeName){var g=s;g.selected=e.includes(g.value)}}}catch(e){n=!0,a=e}finally{try{i||null==o.return||o.return()}finally{if(n)throw a}}this.changeListen(!0)}},{key:"updateSelect",value:function(e,t,i){if(this.changeListen(!1),e&&(this.select.dataset.id=e),t&&(this.select.style.cssText=t),i){var n=this;this.select.className="",i.forEach((function(e){""!==e.trim()&&n.select.classList.add(e.trim())}))}this.changeListen(!0)}},{key:"updateOptions",value:function(e){this.changeListen(!1),this.select.innerHTML="";var t=!0,i=!1,n=void 0;try{for(var a,r=e[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var o=a.value;o instanceof c&&this.select.appendChild(this.createOptgroup(o)),o instanceof u&&this.select.appendChild(this.createOption(o))}}catch(e){i=!0,n=e}finally{try{t||null==r.return||r.return()}finally{if(i)throw n}}this.select.dispatchEvent(new Event("change")),this.changeListen(!0)}},{key:"createOptgroup",value:function(e){var t=document.createElement("optgroup");t.id=e.id,t.label=e.label,e.selectAll&&(t.dataset.selectAll="true"),"off"!==e.closable&&(t.dataset.closable=e.closable);var i=!0,n=!1,a=void 0;if(e.options)try{for(var r,o=e.options[Symbol.iterator]();!(i=(r=o.next()).done);i=!0){var s=r.value;t.appendChild(this.createOption(s))}}catch(e){n=!0,a=e}finally{try{i||null==o.return||o.return()}finally{if(n)throw a}}return t}},{key:"createOption",value:function(e){var t=document.createElement("option");return t.id=e.id,t.value=e.value,t.innerHTML=e.text,""!==e.html&&t.setAttribute("data-html",e.html),e.selected&&(t.selected=e.selected),e.disabled&&(t.disabled=!0),!1===e.display&&(t.style.display="none"),e.placeholder&&t.setAttribute("data-placeholder","true"),e.mandatory&&t.setAttribute("data-mandatory","true"),e.class&&e.class.split(" ").forEach((function(e){t.classList.add(e)})),e.data&&"object"==typeof e.data&&Object.keys(e.data).forEach((function(i){t.setAttribute("data-"+s(i),e.data[i])})),t}},{key:"destroy",value:function(){this.changeListen(!1),this.select.removeEventListener("change",this.valueChange.bind(this)),this.observer&&(this.observer.disconnect(),this.observer=null),delete this.select.dataset.id,this.showUI()}}]),e}(),v=function(){function e(a){var o,s=this;if(t(n)(this,e),this.events={search:void 0,searchFilter:function(e,t){return-1!==e.text.toLowerCase().indexOf(t.toLowerCase())},addable:void 0,beforeChange:void 0,afterChange:void 0,beforeOpen:void 0,afterOpen:void 0,beforeClose:void 0,afterClose:void 0},this.windowResize=r((function(){(s.settings.isOpen||s.settings.isFullOpen)&&s.render.moveContent()})),this.windowScroll=r((function(){(s.settings.isOpen||s.settings.isFullOpen)&&s.render.moveContent()})),this.documentClick=function(e){s.settings.isOpen&&e.target&&!i(e.target,s.settings.id)&&s.close(e.type)},this.windowVisibilityChange=function(){document.hidden&&s.close()},this.selectEl="string"==typeof a.select?document.querySelector(a.select):a.select,this.selectEl)if("SELECT"===this.selectEl.tagName){this.selectEl.dataset.ssid&&this.destroy(),this.settings=new l(a.settings);var c=["afterChange","beforeOpen","afterOpen","beforeClose","afterClose"];for(var u in a.events)a.events.hasOwnProperty(u)&&(-1!==c.indexOf(u)?this.events[u]=r(a.events[u],100):this.events[u]=a.events[u]);this.settings.disabled=(null===(o=a.settings)||void 0===o?void 0:o.disabled)?a.settings.disabled:this.selectEl.disabled,this.settings.isMultiple=this.selectEl.multiple,this.settings.style=this.selectEl.style.cssText,this.settings.class=this.selectEl.className.split(" "),this.select=new f(this.selectEl),this.select.updateSelect(this.settings.id,this.settings.style,this.settings.class),this.select.hideUI(),this.select.onValueChange=function(e){s.setSelected(e)},this.select.onClassChange=function(e){s.settings.class=e,s.render.updateClassStyles()},this.select.onDisabledChange=function(e){e?s.disable():s.enable()},this.select.onOptionsChange=function(e){s.setData(e)},this.store=new h(this.settings.isMultiple?"multiple":"single",a.data?a.data:this.select.getData()),a.data&&this.select.updateOptions(this.store.getData());var v={open:this.open.bind(this),close:this.close.bind(this),addable:this.events.addable?this.events.addable:void 0,setSelected:this.setSelected.bind(this),addOption:this.addOption.bind(this),search:this.search.bind(this),beforeChange:this.events.beforeChange,afterChange:this.events.afterChange};this.render=new d(this.settings,this.store,v),this.render.renderValues(),this.render.renderOptions(this.store.getData());var p=this.selectEl.getAttribute("aria-label"),g=this.selectEl.getAttribute("aria-labelledby");p?this.render.main.main.setAttribute("aria-label",p):g&&this.render.main.main.setAttribute("aria-labelledby",g),this.selectEl.parentNode&&this.selectEl.parentNode.insertBefore(this.render.main.main,this.selectEl.nextSibling),document.addEventListener("click",this.documentClick),window.addEventListener("resize",this.windowResize,!1),"auto"===this.settings.openPosition&&window.addEventListener("scroll",this.windowScroll,!1),document.addEventListener("visibilitychange",this.windowVisibilityChange),this.settings.disabled&&this.disable(),this.settings.alwaysOpen&&this.open(),this.selectEl.slim=this}else a.events&&a.events.error&&a.events.error(new Error("Element isnt of type select"));else a.events&&a.events.error&&a.events.error(new Error("Could not find select element"))}return t(a)(e,[{key:"enable",value:function(){this.settings.disabled=!1,this.select.enable(),this.render.enable()}},{key:"disable",value:function(){this.settings.disabled=!0,this.select.disable(),this.render.disable()}},{key:"getData",value:function(){return this.store.getData()}},{key:"setData",value:function(e){var t=this.store.getSelected(),i=this.store.validateDataArray(e);if(i)this.events.error&&this.events.error(i);else{this.store.setData(e);var n=this.store.getData();this.select.updateOptions(n),this.render.renderValues(),this.render.renderOptions(n),this.events.afterChange&&!o(t,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}}},{key:"getSelected",value:function(){return this.store.getSelected()}},{key:"setSelected",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.store.getSelected();this.store.setSelectedBy("value",Array.isArray(e)?e:[e]);var n=this.store.getData();this.select.updateOptions(n),this.render.renderValues(),""!==this.render.content.search.input.value?this.search(this.render.content.search.input.value):this.render.renderOptions(n),t&&this.events.afterChange&&!o(i,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}},{key:"addOption",value:function(e){var t=this.store.getSelected();this.store.getDataOptions().some((function(t){var i;return t.value===(null!==(i=e.value)&&void 0!==i?i:e.text)}))||this.store.addOption(e);var i=this.store.getData();this.select.updateOptions(i),this.render.renderValues(),this.render.renderOptions(i),this.events.afterChange&&!o(t,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}},{key:"open",value:function(){var e=this;this.settings.disabled||this.settings.isOpen||(this.events.beforeOpen&&this.events.beforeOpen(),this.render.open(),this.settings.showSearch&&this.render.searchFocus(),this.settings.isOpen=!0,setTimeout((function(){e.events.afterOpen&&e.events.afterOpen(),e.settings.isOpen&&(e.settings.isFullOpen=!0)}),this.settings.timeoutDelay),"absolute"===this.settings.contentPosition&&(this.settings.intervalMove&&clearInterval(this.settings.intervalMove),this.settings.intervalMove=setInterval(this.render.moveContent.bind(this.render),500)))}},{key:"close",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this;this.settings.isOpen&&!this.settings.alwaysOpen&&(this.events.beforeClose&&this.events.beforeClose(),this.render.close(),""!==this.render.content.search.input.value&&this.search(""),this.render.mainFocus(e),this.settings.isOpen=!1,this.settings.isFullOpen=!1,setTimeout((function(){t.events.afterClose&&t.events.afterClose()}),this.settings.timeoutDelay),this.settings.intervalMove&&clearInterval(this.settings.intervalMove))}},{key:"search",value:function(e){if(this.render.content.search.input.value!==e&&(this.render.content.search.input.value=e),this.events.search){this.render.renderSearching();var t=this.events.search(e,this.store.getSelectedOptions());if(t instanceof Promise){var i=this;t.then((function(e){i.render.renderOptions(i.store.partialToFullData(e))})).catch((function(e){i.render.renderError("string"==typeof e?e:e.message)}))}else Array.isArray(t)?this.render.renderOptions(this.store.partialToFullData(t)):this.render.renderError("Search event must return a promise or an array of data")}else this.render.renderOptions(""===e?this.store.getData():this.store.search(e,this.events.searchFilter))}},{key:"destroy",value:function(){document.removeEventListener("click",this.documentClick),window.removeEventListener("resize",this.windowResize,!1),"auto"===this.settings.openPosition&&window.removeEventListener("scroll",this.windowScroll,!1),document.removeEventListener("visibilitychange",this.windowVisibilityChange),this.store.setData([]),this.render.destroy(),this.select.destroy()}}]),e}();return v}()}))}();
//# sourceMappingURL=best-projects.aae6f85b.js.map
